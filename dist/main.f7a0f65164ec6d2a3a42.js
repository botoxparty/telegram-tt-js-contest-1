(()=>{"use strict";var e,t,n,r,o={4875:(e,t,n)=>{n.d(t,{px:()=>N,eZ:()=>L,om:()=>B,Ar:()=>x,PH:()=>O,Hn:()=>F,Ru:()=>k,eu:()=>M,iB:()=>P,fj:()=>T});var r=n(31481),o=n(61182),s=n(9705),a=n(14487),i=n(14235),c=n(37836),d=n(82393);const u=150,l=5e3,f=new Set(["destroy"]);let h;const m=new Map,p=new Map;let g=[];const y={chats:{},users:{},documents:{},stickerSets:{},photos:{},webDocuments:{},commonBoxState:{},channelPtsById:{}};let v=!0;(0,a.wr)((e=>{v=e}));const b=d.bs?new BroadcastChannel(r.rLF):void 0,A=(0,c.Fe)((()=>{const e=g;g=[],h?.postMessage({payloads:e})}));function I(e){g.push(e),A()}let C,w=[],S=[],E=!1;function k(e,t){return C=e,v?(h||(r.Oig&&console.log(">>> START LOAD WORKER"),h=new Worker(new URL(n.p+n.u(844),n.b)),function(e){h?.addEventListener("message",(({data:t})=>{t?.payloads.forEach((t=>{if("updates"===t.type){let n;if(r.Oig&&(n=performance.now()),t.updates.forEach(e),r.Oig){const e=performance.now()-n;e>5&&console.warn(`[API] Slow updates processing: ${t.updates.length} updates in ${e} ms`)}}else if("methodResponse"===t.type)F(t);else if("methodCallback"===t.type)O(t);else{if("unhandledError"===t.type){const e=t.error?.message;if(e&&r.LWg.has(e))return;throw new Error(e)}"sendBeacon"===t.type?navigator.sendBeacon(t.url,t.data):"debugLog"===t.type&&(0,o.bO)(t.level,...t.args)}}))}))}(e),"iOS"===t.platform&&window.addEventListener("focus",(()=>{U(),setTimeout((()=>U()),1e3)}))),D({type:"initApi",args:[t,y]}).then((()=>{E=!0,S.forEach((e=>{N(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),S=[],w.forEach((e=>{L(e.fnName,...e.args).then(e.deferred.resolve).catch(e.deferred.reject)})),w=[]}))):(function(e){b&&b.postMessage({type:"initApi",token:(0,a.g0)(),initialArgs:e})}(t),Promise.resolve())}function T(e,t,n){y[e][t]=n}function P(e){Object.assign(y,e)}function M(e){return D({type:"toggleDebugMode",isEnabled:e})}function L(e,...t){if(!E){if(f.has(e))return Promise.resolve(void 0);const n=new s.A;return w.push({fnName:e,args:t,deferred:n}),n.promise}const n=D({type:"callMethod",name:e,args:t});return r.Oig&&(async()=>{try{await n}catch(e){}})(),n}function N(e,...t){if(!E&&v){if(f.has(e))return Promise.resolve(void 0);const n=new s.A;return S.push({fnName:e,args:t,deferred:n}),n.promise}const n=v?D({type:"callMethod",name:e,args:t}):function(e){const t=(0,i.A)(),n={messageId:t,...e},r={messageId:t},o=new Promise(((e,t)=>{Object.assign(r,{resolve:e,reject:t})}));if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();r.callback=e,p.set(e,r)}return m.set(t,r),o.catch((()=>{})).finally((()=>{m.delete(t),r.callback&&p.delete(r.callback)})),function(e){b&&b.postMessage({type:"callApi",token:(0,a.g0)(),...e})}(n),o}({name:e,args:t});return r.Oig&&(async()=>{try{await n}catch(e){}})(),n}function B(e){e.isCanceled=!0;const{messageId:t}=p.get(e)||{};if(t)if(v)x(t);else{if(!b)return;b.postMessage({type:"cancelApiProgress",token:(0,a.g0)(),messageId:t})}}function x(e){I({type:"cancelProgress",messageId:e})}function F(e){const t=m.get(e.messageId);t&&(e.error?t.reject(e.error):t.resolve(e.response))}function O(e){m.get(e.messageId)?.callback?.(...e.callbackArgs)}function D(e){const t=(0,i.A)(),n={messageId:t,...e},r={messageId:t},o=new Promise(((e,t)=>{Object.assign(r,{resolve:e,reject:t})}));if("args"in n&&"name"in n&&"function"==typeof n.args[1]){n.withCallback=!0;const e=n.args.pop();r.callback=e,p.set(e,r)}return r.DEBUG_payload=n,m.set(t,r),o.catch((()=>{})).finally((()=>{m.delete(t),r.callback&&p.delete(r.callback)})),I(n),o}const R=Date.now();async function U(){let e=!1;try{await Promise.race([D({type:"ping"}),(0,c.v7)(u).then((()=>e?void 0:Promise.reject(new Error("HEALTH_CHECK_TIMEOUT"))))])}catch(e){console.error(e),Date.now()-R>=l&&(h?.terminate(),h=void 0,C({"@type":"requestReconnectApi"}))}finally{e=!0}}},23174:(e,t,n)=>{n.d(t,{C7:()=>r.C7,K1:()=>r.K1,l3:()=>r.l3,qZ:()=>o.q});var r=n(84448),o=n(35710)},35710:(e,t,n)=>{n.d(t,{q:()=>r});let r=function(e){return e[e.BlobUrl=0]="BlobUrl",e[e.Progressive=1]="Progressive",e[e.DownloadUrl=2]="DownloadUrl",e[e.Text=3]="Text",e}({})},84448:(e,t,n)=>{n.d(t,{C7:()=>r,K1:()=>s,l3:()=>o});let r=function(e){return e.Bold="MessageEntityBold",e.Blockquote="MessageEntityBlockquote",e.BotCommand="MessageEntityBotCommand",e.Cashtag="MessageEntityCashtag",e.Code="MessageEntityCode",e.Email="MessageEntityEmail",e.Hashtag="MessageEntityHashtag",e.Italic="MessageEntityItalic",e.MentionName="MessageEntityMentionName",e.Mention="MessageEntityMention",e.Phone="MessageEntityPhone",e.Pre="MessageEntityPre",e.Strike="MessageEntityStrike",e.TextUrl="MessageEntityTextUrl",e.Url="MessageEntityUrl",e.Underline="MessageEntityUnderline",e.Spoiler="MessageEntitySpoiler",e.CustomEmoji="MessageEntityCustomEmoji",e.Unknown="MessageEntityUnknown",e}({});const o=-1,s="MESSAGE_DELETED"},68292:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(84051),o=n(13439),s=n(29807),a=n(87357),i=n(37836),c=n(30857),d=n(39351),u=n(73767);let l=0;const f=(0,i.Fe)((()=>{l=0})),h=(0,r.ph)((({text:e,className:t,isDisabled:n,ref:i})=>{const{isRtl:h}=(0,d.A)(),m=(0,u.A)(e),p=(0,c.A)(),g=!(!(!n&&(0,s.PKK)((0,o.mS)())&&void 0!==m&&m!==e)||l>=10||(0===l&&f(),l++,0)),y=(0,r.Kr)((()=>g?function(e,t){const n=[],o=e.length,s=t?.length??0;for(let a=0;a<=o;a++){const i=o-a,c=s-a;t&&c>=0&&e[i]!==t[c]?n.unshift(r.Ay.createElement("div",{className:"IYTzbS8o"},r.Ay.createElement("div",{className:"Jw1oQFdk"},e[i]??""),r.Ay.createElement("div",{className:"TZfEz3sc"},t[c]),r.Ay.createElement("div",{className:"Y9ied8_t"},e[i]??""))):n.unshift(r.Ay.createElement("span",null,e[i]??""))}return n}(e,m):e),[g,m,e]);return(0,r.vJ)((()=>{if(!g)return;const e=window.setTimeout((()=>{p()}),200);return()=>{window.clearTimeout(e)}}),[g,e]),r.Ay.createElement("span",{ref:i,className:(0,a.A)(t,!n&&"tgKbsVmz"),dir:h?"rtl":void 0},y)}))},4438:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(84051),o=n(87357),s=n(37661),a=n(17712),i=n(83057),c=n(18104);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}const u=150,l=(0,r.ph)((function(e){const{size:t=u,play:n=!0,noLoop:l=!0,className:f,noTransition:h,nonInteractive:m,onLoad:p,onClick:g,...y}=e,[v,b]=(0,s.A)(!1),A=(0,i.A)(h||v),I=(0,a.A)((()=>{b(),p?.()})),[C,w]=(0,r.J0)(String(Math.random())),S=(0,a.A)((()=>{!0===n&&w(String(Math.random())),g?.()}));return r.Ay.createElement(c.A,d({className:(0,o.A)(f,A),size:t,play:!0===n?C:n,noLoop:l,onClick:m?void 0:S,onLoad:I},y))}))},79577:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(84051),o=n(23174),s=n(90709),a=n(62587),i=n(64489);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const d=(0,r.ph)((function(e){const{sticker:t,noLoad:n,forcePreview:d,...u}=e,l=t?.thumbnail?.dataUri,f=t&&(0,s.Mwy)(t,"full"),h=(0,a.A)(t?(0,s.Mwy)(t,"preview"):void 0,n&&!d,o.qZ.BlobUrl),m=(0,a.A)(f,n);return r.Ay.createElement(i.A,c({tgsUrl:m,previewUrl:h,thumbDataUri:l},u))}))},64489:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(84051),o=n(87357),s=n(95807),a=n(37661),i=n(17712),c=n(83057),d=n(4438);const u="lM2usrZU";function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const f=new Set,h=(0,r.ph)((function(e){const{previewUrl:t,thumbDataUri:n,className:h,...m}=e,[p,,g]=(0,a.A)(Boolean(n)),y=(0,c.A)(p),[v,b,A]=(0,a.A)(f.has(t)),I=(0,c.A)(v),[C,w]=(0,a.A)(!1),S=(0,i.A)((()=>{b(),f.add(t)})),E=(0,i.A)((()=>{g(),A(),setTimeout(w,300)})),{size:k}=e;return r.Ay.createElement("div",{className:(0,o.A)(h,"xCi2f0YH"),style:(0,s.A)(void 0!==k&&`width: ${k}px; height: ${k}px;`)},n&&!C&&r.Ay.createElement("img",{src:n,className:(0,o.A)(u,y),draggable:!1}),t&&!C&&r.Ay.createElement("img",{src:t,className:(0,o.A)(u,I),draggable:!1,onLoad:S}),r.Ay.createElement(d.A,l({},m,{onLoad:E})))}))},18104:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(84051),o=n(66644),s=n(88458),a=n(87357),i=n(95807),c=n(14235),d=n(71322),u=n(82393),l=n(37479),f=n(82117),h=n(37661),m=n(84080),p=n(17712),g=n(34780),y=n(46637),v=n(41257),b=n(35297),A=n(672),I=n(14745),C=n(61157);const w=(0,r.ph)((({ref:e,renderId:t,className:n,style:w,tgsUrl:E,play:k,playSegment:T,speed:P,noLoop:M,size:L,quality:N,isLowPriority:B,color:x,forceAlways:F,forceOnHeavyAnimation:O,sharedCanvas:D,sharedCanvasCoords:R,onClick:U,onLoad:_,onEnded:$,onLoop:j})=>{let z=(0,r.li)(null);e&&(z=e);const V=(0,I.A)(),[H,K]=(0,r.J0)(),W=(0,r.li)(),J=(0,r.li)(!0),G=!D&&x,q=(0,l.A)(G?x:void 0),X=k||!1!==k&&T,Y=(0,v.i)(k),Q=(0,v.i)(T),Z=(0,r.li)(),ee=F||O,[te,ne,re]=(0,h.A)(!(0,r.OV)()||ee);(0,m.Ay)(re,ne,ee),(0,r.vJ)((()=>{ee&&ne()}),[ee]),(0,b.A)((()=>{if(x&&!G){const{r:e,g:t,b:n}=(0,d.E2)(x);Z.current=[e,t,n]}else Z.current=void 0}),[x,G]);const oe=(0,r.li)(!1);(0,r._W)((()=>{oe.current=!0}));const se=(0,p.A)((()=>{if(W.current||oe.current||!E||D&&(!R||!D.offsetWidth||!D.offsetHeight)||(0,r.OV)()&&!ee)return;const e=z.current||D;if(!e)return;const n=(0,s.o)().init(E,e,t||(0,c.A)(),{size:L,noLoop:M,quality:N,isLowPriority:B,coords:R},V,Z.current,_,$,j);P&&n.setSpeed(P),K(n),W.current=n}));(0,r.vJ)((()=>{te&&((0,s.o)()?se():(0,s.Y)().then(se))}),[se,E,D,R,te]);const ae=(0,A.A)(se,[se],150);(0,y.A)(D,ae),(0,r.vJ)((()=>{H&&H.setColor(Z.current)}),[x,H]),(0,r._W)((()=>{W.current?.removeView(V)}));const ie=(0,p.A)(((e=!1)=>{H&&(Y.current||Q.current)&&!S(F)&&(Q.current?H.playSegment(Q.current,e,V):H.play(e,V))})),ce=(0,p.A)((()=>{(0,o.YS)(ie)})),de=(0,p.A)((()=>{H?.isPlaying()&&H.pause(V)}));if((0,f.A)((([e])=>{void 0!==e&&M!==e&&H?.setNoLoop(M)}),[M,H]),(0,f.A)((([e])=>{void 0!==e&&R!==e&&H?.setSharedCanvasCoords(V,R)}),[R,V,H]),(0,r.vJ)((()=>{H&&(X?S(F,O)||ie(M):de())}),[H,X,M,ie,de,F,O]),(0,r.vJ)((()=>{H&&(J.current?J.current=!1:E&&(H.changeData(E),ie()))}),[ie,H,E]),(0,m.Ay)(de,ie,!X||ee),(0,g.Ay)(de,ie,!X||F),(0,C.A)(de,ce,!X||F),!D)return r.Ay.createElement("div",{ref:z,className:(0,a.A)("AnimatedSticker",n),style:(0,i.A)(void 0!==L&&`width: ${L}px; height: ${L}px;`,U&&!u.cp&&"cursor: pointer",q,w),onClick:U})}));function S(e=!1,t=!1){return!e&&(!t&&(0,r.OV)()||(0,g.c_)()||(0,C.g)())}},21849:(e,t,n)=>{n.d(t,{A:()=>S,R:()=>C});var r=n(84051),o=n(13439),s=n(23174),a=n(31481),i=n(90709),c=n(87357),d=n(95807),u=n(14242),l=n(76023),f=n(35049),h=n(4961),m=n(11217),p=n(17712),g=n(62587),y=n(83057),v=n(59030),b=n(65843),A=n(88554),I=n(18276);const C={micro:l.$,mini:1.5*l.$,tiny:2*l.$,small:2.125*l.$,medium:2.75*l.$,large:3.375*l.$,giant:5.625*l.$,jumbo:7.5*l.$},w=(0,c.x)("Avatar");w.media=w("media"),w.icon=w("icon");const S=(0,r.ph)((({className:e,size:t="large",peer:n,photo:l,webPhoto:S,text:E,isSavedMessages:k,isSavedDialog:T,withVideo:P,withStory:M,forPremiumPromo:L,withStoryGap:N,withStorySolid:B,forceFriendStorySolid:x,forceUnreadStorySolid:F,storyViewerOrigin:O,storyViewerMode:D="single-peer",loopIndefinitely:R,noPersonalPhoto:U,onClick:_})=>{const{openStoryViewer:$}=(0,o.ko)(),j=(0,r.li)(null),z=(0,r.li)(0),V=n&&"isCustomPeer"in n,H=n&&!V?n:void 0,K=H&&(0,i.QKj)(H)?H:void 0,W=H&&(0,i.Du0)(H)?H:void 0,J=K&&(0,i.PL2)(K),G=H&&(0,i.kEr)(H.id),q=H&&(0,i.QeI)(H.id),X=W?.isForum;let Y,Q;const Z="number"==typeof t?t:C[t],ee=P&&l?.isVideo,te=Z>=C.jumbo;k||J||(K&&!U||W?Y=(0,i.cP1)(n,te?"big":void 0):l?(Y=`photo${l.id}?size=m`,l.isVideo&&P&&(Q=(0,i.Pgy)(l))):S&&(Y=(0,i.cy4)(S)));const ne=(0,r.Kr)((()=>V?n.avatarIcon:k?T?"my-notes":"avatar-saved-messages":J?"avatar-deleted-account":G?"reply-filled":q?"author-hidden":void 0),[V,k,J,G,q,n,T]),re=(0,g.A)(Y,!1,s.qZ.BlobUrl),oe=(0,g.A)(Q,!ee,s.qZ.BlobUrl),se=Boolean(re||oe),ae=Boolean(oe&&ee),ie=(0,y.A)(se),ce=(0,p.A)((e=>{const t=e.currentTarget;oe&&(R||(z.current+=1,z.current>=3&&(t.style.display="none")))})),de=(0,v.A)();let ue;const le=K?(0,i.YgS)(K):W?(0,i.JsG)(de,W):E;if(ne)ue=r.Ay.createElement(I.A,{name:ne,className:w.icon,role:"img",ariaLabel:le});else if(se)ue=r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("img",{src:re,className:(0,c.A)(w.media,"avatar-media",ie,oe&&"poster"),alt:le,decoding:"async",draggable:!1}),ae&&r.Ay.createElement(b.A,{canPlay:!0,src:oe,className:(0,c.A)(w.media,"avatar-media","poster"),muted:!0,loop:R,autoPlay:!0,disablePictureInPicture:!0,playsInline:!0,draggable:!1,onEnded:ce}));else if(K){const e=(0,i.YgS)(K);ue=e?(0,u.Qh)(e,2):void 0}else if(W){const e=(0,i.JsG)(de,W);ue=e&&(0,u.Qh)(e,(0,i.L8L)(W.id)?2:1)}else if(V){const e=n.title||de(n.titleKey);ue=e&&(0,u.Qh)(e,1)}else E&&(ue=(0,u.Qh)(E,2));const fe=V&&n.isAvatarSquare||X&&!((M||B)&&H?.hasStories),he=V&&n.withPremiumGradient,me=V&&n.customPeerAvatarColor,pe=(0,c.A)("Avatar",e,(0,f.y)(n),!n&&E&&"hidden-user",k&&"saved-messages",q&&"anonymous-forwards",J&&"deleted-account",G&&"replies-bot-account",he&&"premium-gradient-bg",fe&&"forum",(l||S)&&"force-fit",(M&&H?.hasStories||L)&&"with-story-circle",B&&H?.hasStories&&"with-story-solid",B&&x&&"close-friend",B&&(H?.hasUnreadStories||F)&&"has-unread-story",_&&"interactive",!k&&!re&&"no-photo"),ge=Boolean(k||re),{handleClick:ye,handleMouseDown:ve}=(0,m.Q)((e=>{if(M&&"disabled"!==D&&H?.hasStories)return e.stopPropagation(),void $({peerId:H.id,isSinglePeer:"single-peer"===D,origin:O});_&&_(e,ge)}));return r.Ay.createElement("div",{ref:j,className:pe,id:H?.id&&M?(0,i.kRw)(H.id):void 0,"data-peer-id":H?.id,"data-test-sender-id":a.W75?H?.id:void 0,"aria-label":"string"==typeof ue?le:void 0,style:(0,d.A)(`--_size: ${Z}px;`,me&&`--color-user: ${me}`),onClick:ye,onMouseDown:ve},r.Ay.createElement("div",{className:"inner"},"string"==typeof ue?(0,h.A)(ue,[te?"hq_emoji":"emoji"]):ue),M&&H?.hasStories&&r.Ay.createElement(A.A,{peerId:H.id,size:Z,withExtraGap:N}))}))},88554:(e,t,n)=>{n.d(t,{$:()=>C,A:()=>I});var r=n(84051),o=n(13439),s=n(29807),a=n(87357),i=n(76023),c=n(38691);const d=["#34C578","#3CA3F3"],u=["#C9EB38","#09C167"],l=["#A667FF","#55A5FF"],f=.125*i.$,h=.0625*i.$,m=2,p=45,g=3.5*i.$,y=Math.PI/4,v=2*Math.PI*.1,b=y-v/2,A=y+v/2,I=(0,r.ph)((0,o.EK)(((e,{peerId:t})=>{const n=(0,s._bp)(e,t),r=(0,s.SJA)(e);return{peerStories:n?.byId,storyIds:n?.orderedIds,lastReadId:n?.lastReadId,appTheme:r}}))((function({size:e,className:t,peerStories:n,storyIds:o,lastReadId:s,withExtraGap:i,appTheme:d}){const u=(0,r.li)(null),l=(0,c.A)(),h=e+f,m=(0,r.Kr)((()=>(o||[]).reduce(((e,t)=>(e.total+=1,s&&t<=s&&(e.read+=1),e)),{total:0,read:0})),[s,o]),p=(0,r.Kr)((()=>!(!n||!o?.length)&&o.some((e=>{const t=n[e];if(!t||!("isForCloseFriends"in t))return!1;const r=s&&t.id<=s;return t.isForCloseFriends&&!r}))),[s,n,o]);if((0,r.Nf)((()=>{u.current&&C({canvas:u.current,size:h*l,segmentsCount:m.total,color:p?"green":"blue",readSegmentsCount:m.read,withExtraGap:i,readSegmentColor:"dark"===d?"#737373":"#C4C9CC",dpr:l})}),[d,p,h,m.read,m.total,i,l]),m.total)return r.Ay.createElement("canvas",{ref:u,className:(0,a.A)("story-circle",t),style:`max-width: ${h}px; max-height: ${h}px;`})})));function C({canvas:e,size:t,color:n,segmentsCount:r,readSegmentsCount:o=0,withExtraGap:s=!1,readSegmentColor:a,dpr:c}){r>p&&(o=Math.round(o*(p/r)),r=p);const y=Math.max(Math.max(t-g*c,0)/c/i.$/1.5,1)*c,v=e.getContext("2d");if(!v)return;e.width=t,e.height=t;const I=t/2,C=(t-f*y)/2,w=2*Math.PI/r,S=m/100*(2*Math.PI),E=v.createLinearGradient(0,0,Math.ceil(t*Math.cos(Math.PI/2)),Math.ceil(t*Math.sin(Math.PI/2))),k="purple"===n?l:"green"===n?u:d;k.forEach(((e,t)=>{E.addColorStop(t/(k.length-1),e)})),v.lineCap="round",v.clearRect(0,0,t,t),Array.from({length:r}).forEach(((e,t)=>{const n=t<o;let i=t*w-Math.PI/2+S/2,c=i+w-(r>1?S:0);if(v.strokeStyle=n?a:E,v.lineWidth=(n?h:f)*y,s){if(i>=b&&c<=A)return;i<b&&c>A?(v.beginPath(),v.arc(I,I,C,A,c),v.stroke(),c=b):i<b&&c>b?c=b:i<A&&c>A&&(i=A)}v.beginPath(),v.arc(I,I,C,i,c),v.stroke()}))}},87412:(e,t,n)=>{n.d(t,{A:()=>p});var r=n(84051),o=n(13439),s=n(23174),a=n(29807),i=n(87357),c=n(41733),d=n(86974),u=n(17712),l=n(47483),f=n(85118),h=n(82855);var m=n(61911);const p=(0,r.ph)((({ref:e,documentId:t,className:n,style:p,size:g=20,isBig:y,noPlay:v,noVideoOnMobile:b,loopLimit:A,isSelectable:I,withSharedAnimation:C,sharedCanvasRef:w,sharedCanvasHqRef:S,withTranslucentThumb:E,shouldPreloadPreview:k,forceAlways:T,forceOnHeavyAnimation:P,observeIntersectionForLoading:M,observeIntersectionForPlaying:L,onClick:N,onAnimationEnd:B,withSparkles:x,sparklesStyle:F,sparklesClassName:O})=>{let D=(0,r.li)(null);e&&(D=e);const{customEmoji:R,canPlay:U}=(0,l.A)(t),_=(0,r.li)(0),[$,j]=(0,r.J0)(!0),z=R?.shouldUseTextColor,V=(0,d.A)(D,!z),H=(0,u.A)((e=>{A&&(_.current+=1,_.current>=A?(j(!1),e.currentTarget.currentTime=0):(0,c.A)(e.currentTarget))})),K=(0,u.A)((()=>{A&&(_.current+=1,_.current>=A&&j(!1))})),W=R?.stickerSetInfo&&(0,a.CzR)((0,o.mS)(),R.stickerSetInfo);return r.Ay.createElement("div",{ref:D,className:(0,i.A)("CEFe1FhH",x&&"yjv4Sc_e",n,"custom-emoji","emoji"),onClick:N,onAnimationEnd:B,"data-entity-type":s.C7.CustomEmoji,"data-document-id":t,"data-alt":R?.emoji,style:p},x&&r.Ay.createElement(f.A,{className:(0,i.A)("iOlUvSI8",O),style:F,preset:"button"}),I&&r.Ay.createElement("img",{className:"a8dMNkh3",src:m,alt:R?.emoji,"data-entity-type":s.C7.CustomEmoji,"data-document-id":t,draggable:!1}),R?r.Ay.createElement(h.A,{containerRef:D,sticker:R,isSmall:!y,size:g,noPlay:v||!($&&U),noVideoOnMobile:b,thumbClassName:"O_TaDxWg",fullMediaClassName:"wqju02hR",shouldLoop:!0,loopLimit:A,shouldPreloadPreview:k||v||!U,forceOnHeavyAnimation:P,forceAlways:T,observeIntersectionForLoading:M,observeIntersectionForPlaying:L,withSharedAnimation:C,sharedCanvasRef:W?S:w,withTranslucentThumb:E,onVideoEnded:H,onAnimatedStickerLoop:K,customColor:V}):r.Ay.createElement("div",{className:(0,i.A)("DKi1177s"),draggable:!1}))}))},54314:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(84051),o=n(13439),s=n(90709),a=n(29807),i=n(4961),c=n(59030),d=n(64493),u=n(47970),l=n(21849);const f=(0,r.ph)((0,o.EK)(((e,{chat:t,isSavedDialog:n})=>{const r=(0,s.L8L)(t.id),o=(0,a.nZ4)(e,t.id),i=r&&(0,a.mBe)(e,(0,s.e7w)(t)),c=i&&(0,s.tvf)(i)&&!t.isSupport,d=r&&!o&&!c&&!n,u=r?(0,s.u0l)((0,a.mBe)(e,(0,s.e7w)(t))):void 0;return{isPrivateChat:r,isChatWithSelf:o,isBot:c,isChannel:(0,s.WXB)(t),isBasicGroup:(0,s.yn$)(t),isSuperGroup:(0,s.VsK)(t),currentUserId:e.currentUserId,canDeleteForAll:d,contactName:u}}))((({isOpen:e,chat:t,isSavedDialog:n,isChannel:a,isPrivateChat:f,isChatWithSelf:h,isBot:m,isBasicGroup:p,isSuperGroup:g,currentUserId:y,canDeleteForAll:v,contactName:b,onClose:A,onCloseAnimationEnd:I})=>{const{leaveChannel:C,deleteHistory:w,deleteSavedHistory:S,deleteChannel:E,deleteChatUser:k,blockUser:T}=(0,o.ko)(),P=(0,c.A)(),M=(0,s.JsG)(P,t),L=(0,r.hb)((()=>{w({chatId:t.id,shouldDeleteForAll:!0}),A()}),[t.id,A]),N=(0,r.hb)((()=>{w({chatId:t.id,shouldDeleteForAll:!0}),T({userId:t.id}),A()}),[t.id,A]),B=(0,r.hb)((()=>{n?S({chatId:t.id}):f?w({chatId:t.id,shouldDeleteForAll:!1}):p?(k({chatId:t.id,userId:y}),w({chatId:t.id,shouldDeleteForAll:!1})):!a&&!g||t.isCreator?(a||g)&&t.isCreator&&E({chatId:t.id}):C({chatId:t.id}),A()}),[f,p,a,g,y,t.isCreator,t.id,n,A]),x=(0,r.hb)((()=>{a||g?(C({chatId:t.id}),A()):B()}),[t.id,B,a,g,C,A]);return r.Ay.createElement(u.A,{isOpen:e,className:"DeleteChatModal",header:r.Ay.createElement("div",{className:"modal-header",dir:P.isRtl?"rtl":void 0},r.Ay.createElement(l.A,{size:"tiny",peer:t,isSavedMessages:h}),r.Ay.createElement("h3",{className:"modal-title"},P(n?h?"ClearHistoryMyNotesTitle":"ClearHistoryTitleSingle2":a&&!t.isCreator?"LeaveChannel":a&&t.isCreator?"ChannelDelete":p||g?"Group.LeaveGroup":"DeleteChatUser"))),onClose:A,onCloseAnimationEnd:I},n?r.Ay.createElement("p",null,(0,i.A)(h?P("ClearHistoryMyNotesMessage"):P("ClearHistoryMessageSingle",M),["simple_markdown","emoji"])):a&&t.isCreator?r.Ay.createElement("p",null,(0,i.A)(P("ChatList.DeleteAndLeaveGroupConfirmation",M),["simple_markdown","emoji"])):a&&!t.isCreator||p||g?r.Ay.createElement("p",null,(0,i.A)(P("ChannelLeaveAlertWithName",M),["simple_markdown","emoji"])):r.Ay.createElement("p",null,(0,i.A)(P("ChatList.DeleteChatConfirmation",b),["simple_markdown","emoji"])),r.Ay.createElement("div",{className:"dialog-buttons-column"},m&&!n&&r.Ay.createElement(d.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:N},P("DeleteAndStop")),v&&r.Ay.createElement(d.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:L},b?(0,i.A)(P("ChatList.DeleteForEveryone",b)):P("DeleteForAll")),!f&&t.isCreator&&!n&&r.Ay.createElement(d.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:B},P("DeleteForAll")),r.Ay.createElement(d.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:f||n?B:x},P(n?"Delete":a&&!t.isCreator?"LeaveChannel":a&&t.isCreator?"Chat.Input.Delete":p||g?"Group.LeaveGroup":v?"ChatList.DeleteForCurrentUser":"Delete")),r.Ay.createElement(d.A,{className:"confirm-dialog-button",isText:!0,onClick:A},P("Cancel"))))})))},80999:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(87357),s=n(4961),a=n(59030);const i=({content:e,className:t})=>{const n=(0,a.A)();return r.Ay.createElement("span",{className:(0,o.A)("DotAnimation",t),dir:n.isRtl?"rtl":"auto"},(0,s.A)(e),r.Ay.createElement("span",{className:"ellipsis"}))}},2578:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(59030);const s=(0,r.ph)((({fakeType:e})=>{const t=(0,o.A)();return r.Ay.createElement("span",{className:"FakeIcon"},t("fake"===e?"FakeMessage":"ScamMessage"))}))},34431:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(84051),o=n(13439),s=n(31481),a=n(90709),i=n(87357),c=n(95807),d=n(85982),u=n(83868),l=n(4961),f=n(17712),h=n(59030),m=n(41036),p=n(87412),g=n(2578),y=n(9267);const v=()=>r.Ay.createElement("svg",{className:"VerifiedIcon",viewBox:"0 0 24 24"},r.Ay.createElement("path",{d:"M12.3 2.9c.1.1.2.1.3.2.7.6 1.3 1.1 2 1.7.3.2.6.4.9.4.9.1 1.7.2 2.6.2.5 0 .6.1.7.7.1.9.1 1.8.2 2.6 0 .4.2.7.4 1 .6.7 1.1 1.3 1.7 2 .3.4.3.5 0 .8-.5.6-1.1 1.3-1.6 1.9-.3.3-.5.7-.5 1.2-.1.8-.2 1.7-.2 2.5 0 .4-.2.5-.6.6-.8 0-1.6.1-2.5.2-.5 0-1 .2-1.4.5-.6.5-1.3 1.1-1.9 1.6-.3.3-.5.3-.8 0-.7-.6-1.4-1.2-2-1.8-.3-.2-.6-.4-.9-.4-.9-.1-1.8-.2-2.7-.2-.4 0-.5-.2-.6-.5 0-.9-.1-1.7-.2-2.6 0-.4-.2-.8-.4-1.1-.6-.6-1.1-1.3-1.6-2-.4-.4-.3-.5 0-1 .6-.6 1.1-1.3 1.7-1.9.3-.3.4-.6.4-1 0-.8.1-1.6.2-2.5 0-.5.1-.6.6-.6.9-.1 1.7-.1 2.6-.2.4 0 .7-.2 1-.4.7-.6 1.4-1.2 2.1-1.7.1-.2.3-.3.5-.2z",style:"fill: var(--color-fill)"}),r.Ay.createElement("path",{d:"M16.4 10.1l-.2.2-5.4 5.4c-.1.1-.2.2-.4 0l-2.6-2.6c-.2-.2-.1-.3 0-.4.2-.2.5-.6.7-.6.3 0 .5.4.7.6l1.1 1.1c.2.2.3.2.5 0l4.3-4.3c.2-.2.4-.3.6 0 .1.2.3.3.4.5.2 0 .3.1.3.1z",style:"fill: var(--color-checkmark)"})),b=(0,r.ph)((({className:e,peer:t,noVerified:n,noFake:b,withEmojiStatus:A,emojiStatusSize:I,isSavedMessages:C,isSavedDialog:w,noLoopLimit:S,canCopyTitle:E,iconElement:k,onEmojiStatusClick:T,observeIntersection:P,statusSparklesColor:M})=>{const L=(0,h.A)(),{showNotification:N}=(0,o.ko)(),B="id"in t?t:void 0,x="isCustomPeer"in t?t:void 0,F=B&&(0,a.QKj)(B),O=B&&(F?(0,a.YgS)(B):(0,a.JsG)(L,B)),D=F&&B.isPremium,R=A&&!C&&B,U=B?.emojiStatus,_=(0,f.A)((e=>{O&&E&&((0,u.A)(e),(0,d.eM)(O),N({message:(F?"User":"Chat")+" name was copied"}))})),$=(0,r.Kr)((()=>x?x.title||L(x.titleKey):C?L(w?"MyNotes":"SavedMessages"):(0,a.QeI)(B.id)?L("AnonymousForward"):(0,a.kEr)(B.id)?L("RepliesTitle"):(0,a.Rlt)(B.id)?L("VerifyCodesNotifications"):void 0),[x,w,C,L,B]),j=B?.botVerificationIconId;return r.Ay.createElement("div",{className:(0,i.A)("title","QljEeKI5",e)},j&&r.Ay.createElement(p.A,{documentId:j,size:I,loopLimit:S?void 0:s.J$1,observeIntersectionForLoading:P}),r.Ay.createElement("h3",{dir:"auto",role:"button",className:(0,i.A)("fullName","AS54Cntu",E&&"vr53L_9p"),onClick:_},$||(0,l.A)(O||"")),!k&&t&&r.Ay.createElement(r.Ay.Fragment,null,!n&&t?.isVerified&&r.Ay.createElement(v,null),!b&&t?.fakeType&&r.Ay.createElement(g.A,{fakeType:t.fakeType}),R&&U&&r.Ay.createElement(m.Ay,{className:"f1IRPr8M",activeKey:Number(U.documentId),name:"fade",shouldCleanup:!0,shouldRestoreHeight:!0},r.Ay.createElement(p.A,{forceAlways:!0,withSparkles:"collectible"===U.type,sparklesClassName:"statusSparkles",sparklesStyle:(0,c.A)(M&&`color: ${M}`),documentId:U.documentId,size:I,loopLimit:S?void 0:s.J$1,observeIntersectionForLoading:P,onClick:T})),R&&!U&&D&&r.Ay.createElement(y.A,null)),k)}))},81642:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(87357),s=n(17663),a=n(59030),i=n(45);const c=(0,r.ph)((({className:e,message:t,outgoingStatus:n,draftDate:c})=>{const d=(0,a.A)(),u=c&&c>t.date;return r.Ay.createElement("div",{className:(0,o.A)("LastMessageMeta",e)},n&&!u&&r.Ay.createElement(i.A,{status:n}),r.Ay.createElement("span",{className:"time"},(0,s.be)(d,1e3*(u?c:t.date))))}))},45:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(41036),s=n(18276),a=function(e){return e[e.failed=0]="failed",e[e.pending=1]="pending",e[e.succeeded=2]="succeeded",e[e.read=3]="read",e}(a||{});const i=(0,r.ph)((({status:e})=>r.Ay.createElement("div",{className:"MessageOutgoingStatus"},r.Ay.createElement(o.Ay,{name:"reveal",activeKey:a[e]},"failed"===e?r.Ay.createElement("div",{className:"MessageOutgoingStatus--failed"},r.Ay.createElement(s.A,{name:"message-failed"})):r.Ay.createElement(s.A,{name:`message-${e}`})))))},18653:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(84051),o=n(13439),s=n(23174),a=n(90709),i=n(3544),c=n(29807),d=n(58849),u=n(4961),l=n(59030),f=n(74936);const h=(0,r.ph)((0,o.EK)(((e,{message:t})=>{const n=(0,c.zcZ)(e,t),r=t.content.storyData;return{poll:n,story:r&&(0,c.Msb)(e,r.peerId,r.id)}}))((function({message:e,translatedText:t,noEmoji:n=!1,highlight:o,truncateLength:c=i.vs,withTranslucentThumbs:h=!1,inChatList:m=!1,emojiSize:p,poll:g,story:y,observeIntersectionForLoading:v,observeIntersectionForPlaying:b}){const A=(0,l.A)(),{text:I,entities:C}=(0,a.Sb3)(e,m)||{},w=C?.some((e=>e.type===s.C7.Spoiler)),S=C?.some((e=>e.type===s.C7.CustomEmoji)),E=Boolean((0,a.csZ)(e)),k=(0,a.cWA)({poll:g,story:y});if(!(I&&(w||S)||E)){const s=t?.text||(0,i.dS)(A,e,k,n,c),a=(0,d.A)(s,c);return r.Ay.createElement("span",null,o?(0,u.A)(a,["emoji","highlight"],{highlight:o}):(0,u.A)(a))}const T=!n&&(0,i.Su)(e);return r.Ay.createElement(r.Ay.Fragment,null,[T?(0,u.A)(`${T} `):void 0,(0,i.oL)(A,e,k,r.Ay.createElement(f.A,{messageOrStory:e,translatedText:t,highlight:o,isSimple:!0,observeIntersectionForLoading:v,observeIntersectionForPlaying:b,withTranslucentThumbs:h,truncateLength:c,inChatList:m,emojiSize:p}))].flat().filter(Boolean))})))},74936:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(84051),o=n(23174),s=n(31481),a=n(90709),i=n(58849),c=n(18501),d=n(35297),u=n(14745);const l=(0,r.ph)((function({messageOrStory:e,translatedText:t,isForAnimation:n,emojiSize:l,highlight:f,isSimple:h,truncateLength:m,isProtected:p,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:v,shouldRenderAsHtml:b,inChatList:A,forcePlayback:I,focusedQuote:C,isInSelectMode:w,canBeEmpty:S}){const E=(0,r.li)(null),k=(0,r.li)(null),T=(0,r.li)(0),P=t||(0,a.Sb3)(e,A),M=n&&P?(0,a.m4t)(P):P,{text:L,entities:N}=M||{},B=(0,u.A)();(0,d.A)((()=>{T.current+=1}),[L,N]);const x=(0,r.Kr)((()=>{const e=N?.some((e=>e.type===o.C7.Spoiler));return!e&&(N?.filter((e=>e.type===o.C7.CustomEmoji)).length||0)>=3}),[N])||0;return L||S?r.Ay.createElement(r.Ay.Fragment,null,[x&&r.Ay.createElement("canvas",{ref:E,className:"shared-canvas"}),x&&r.Ay.createElement("canvas",{ref:k,className:"shared-canvas"}),(0,c.f)({text:(0,i.A)(L,m),entities:N,highlight:f,emojiSize:l,shouldRenderAsHtml:b,containerId:B,isSimple:h,isProtected:p,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:v,sharedCanvasRef:E,sharedCanvasHqRef:k,cacheBuster:T.current.toString(),forcePlayback:I,focusedQuote:C,isInSelectMode:w})].flat().filter(Boolean)):r.Ay.createElement("span",{className:"content-unsupported"},s.bVP)}))},56440:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(84051),o=n(13439),s=n(23174),a=n(31481);const i=e=>{const t=[];let n=0;const r=e.length;let o;for(;n<r;){if(o=e[n++],55296==(63488&o))throw new RangeError("UTF-16(encode): Illegal UTF-16 value");o>65535&&(o-=65536,t.push(String.fromCharCode(o>>>10&1023|55296)),o=56320|1023&o),t.push(String.fromCharCode(o))}return t.join("")},c=36,d=700,u=1,l=26,f=38,h=2147483647;function m(e,t,n){let r;for(e=n?Math.floor(e/d):e>>1,e+=Math.floor(e/t),r=0;e>(c-u)*l>>1;r+=c)e=Math.floor(e/(c-u));return Math.floor(r+(c-u+1)*e/(e+f))}function p(e,t){const n=[],r=[],o=e.length;let s,a,d,f,p,g,y,v,b,A,I,C,w;for(s=128,d=0,f=72,p=e.lastIndexOf("-"),p<0&&(p=0),g=0;g<p;++g){if(t&&(r[n.length]=e.charCodeAt(g)-65<26),e.charCodeAt(g)>=128)throw new RangeError("Illegal input >= 0x80");n.push(e.charCodeAt(g))}for(y=p>0?p+1:0;y<o;){for(v=d,b=1,A=c;;A+=c){if(y>=o)throw RangeError("punycode_bad_input(1)");if(I=(S=e.charCodeAt(y++))-48<10?S-22:S-65<26?S-65:S-97<26?S-97:c,I>=c)throw RangeError("punycode_bad_input(2)");if(I>Math.floor((h-d)/b))throw RangeError("punycode_overflow(1)");if(d+=I*b,C=A<=f?u:A>=f+l?l:A-f,I<C)break;if(b>Math.floor(h/(c-C)))throw RangeError("punycode_overflow(2)");b*=c-C}if(a=n.length+1,f=m(d-v,a,0===v),Math.floor(d/a)>h-s)throw RangeError("punycode_overflow(3)");s+=Math.floor(d/a),d%=a,t&&r.splice(d,0,e.charCodeAt(y-1)-65<26),n.splice(d,0,s),d++}var S;if(t)for(d=0,w=n.length;d<w;d++)r[d]&&(n[d]=String.fromCharCode(n[d]).toUpperCase().charCodeAt(0));return i(n)}var g=n(87357),y=n(62076),v=n(17712);function b(e){if(!e)return;const t=(0,y.T)(e);if(t)try{const e=new URL(t),n=function(e){const t=e.split("."),n=[];for(let e=0;e<t.length;++e){const r=t[e];n.push(r.match(/^xn--/)?p(r.slice(4)):r)}return n.join(".")}(e.hostname);try{return decodeURI(e.toString()).replace(e.hostname,n)}catch(t){return e.toString().replace(e.hostname,n)}}catch(t){a.Oig&&console.warn("SafeLink.getDecodedUrl error ",e,t)}}const A=({url:e,text:t,className:n,children:a,isRtl:i})=>{const{openUrl:c}=(0,o.ko)(),d=a||t,u=e===t,l=(0,v.A)((t=>!e||(t.preventDefault(),c({url:e,shouldSkipModal:u}),!1)));if(!e)return;const f=(0,g.A)(n||"text-entity-link",u&&"word-break-all");return r.Ay.createElement("a",{href:(0,y.T)(e),title:b(e),target:"_blank",rel:"noopener noreferrer",className:f,onClick:l,dir:i?"rtl":"auto","data-entity-type":s.C7.Url},d)}},85118:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(87357),s=n(95807);const a="fWE9Tkfe",i="wapdILU7",c=[{x:20,y:0,size:100,durationShift:10},{x:15,y:15,size:75,durationShift:70},{x:10,y:35,size:75,durationShift:90},{x:20,y:70,size:125,durationShift:30},{x:40,y:10,size:125,durationShift:0},{x:45,y:60,size:75,durationShift:60},{x:60,y:-10,size:100,durationShift:20},{x:55,y:40,size:75,durationShift:60},{x:70,y:65,size:100,durationShift:90},{x:80,y:10,size:75,durationShift:30},{x:80,y:45,size:125,durationShift:0}],d=function(e){const t=[];for(let e=0;e<100;e++)t.push({x:100*Math.random(),y:100*Math.random(),velocityX:100*(5*Math.random()+15),velocityY:100*(10*Math.random()-5),scale:100*(.5*Math.random()+.5),durationShift:100*Math.random()});return t}(),u=(0,r.ph)((({className:e,style:t,...n})=>"button"===n.preset?r.Ay.createElement("div",{className:(0,o.A)(a,"B94KQ3c0",e),style:t},c.map((e=>{const t=100*Math.cos(Math.atan2(-50+e.y,-50+e.x)),n=100*Math.sin(Math.atan2(-50+e.y,-50+e.x));return r.Ay.createElement("div",{className:i,style:(0,s.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_duration-shift: ${-e.durationShift/100*5}s`,`--_shift-x: ${t}%`,`--_shift-y: ${n}%`,`scale: ${e.size}%`)},"✦")}))):"progress"===n.preset?r.Ay.createElement("div",{className:(0,o.A)(a,"F0JPgXgb",e),style:t},d.map((e=>r.Ay.createElement("div",{className:i,style:(0,s.A)(`top: ${e.y}%`,`left: ${e.x}%`,`--_shift-x: ${e.velocityX}%`,`--_shift-y: ${e.velocityY}%`,`scale: ${e.scale}%`,`--_duration-shift: ${-e.durationShift/100*5}s`)},"✦")))):void 0))},82855:(e,t,n)=>{n.d(t,{A:()=>S});var r=n(84051),o=n(13439),s=n(90709),a=n(29807),i=n(87357),c=n(58554),d=n(82393),u=n(37479),l=n(94519),f=n(37661),h=n(5912),m=n(62587),p=n(37960),g=n(19129),y=n(22867),v=n(14745),b=n(38691),A=n(65843),I=n(18104);const C="AvU_FtMd",w="RrEzFxte",S=(0,r.ph)((({containerRef:e,sticker:t,thumbClassName:n,fullMediaHash:S,fullMediaClassName:E,isSmall:k,size:T=24,customColor:P,loopLimit:M,shouldLoop:L=!1,shouldPreloadPreview:N,forceAlways:B,forceOnHeavyAnimation:x,observeIntersectionForLoading:F,observeIntersectionForPlaying:O,noLoad:D,noPlay:R,noVideoOnMobile:U,withSharedAnimation:_,withTranslucentThumb:$,sharedCanvasRef:j,onVideoEnded:z,onAnimatedStickerLoop:V})=>{const{id:H,isLottie:K,stickerSetInfo:W,emoji:J}=t,[G,q]=(0,f.A)(),X=t.isVideo&&(!d.OF||U&&(d.pz||d.Ni)),Y=t.isVideo,Q=!K&&!Y,Z=(0,s.Mwy)(t,"preview"),ee=(0,b.A)(),te=(0,u.A)(P),ne=(0,h.Vz)(e,F),re=ne&&!D,oe=(0,h.Vz)(e,O)&&ne,se=oe&&!R,ae=(0,r.li)(oe);!ae.current&&oe&&(ae.current=!0);const ie=c.Ih(Z),ce=function(e){const[t,n]=(0,r.Ul)(!1),o=r.OV;return(0,r.vJ)((()=>{o()||n(!0)}),[o,n]),(0,g.A)((()=>t()&&e),[t,e])}(ae.current),de=X||(Q?k:R),ue=!P&&!ie&&(!ce||de),le=(0,m.A)(Z,!ue),fe=ue||ie,he=Boolean(de||S===Z&&(ie||le)),me=(0,m.A)(S||`sticker${H}`,!re||he),pe=ce&&me&&!G,[ge,ye]=(0,f.A)(),ve=pe&&(Q||ge),be=(0,y.A)(t),Ae=ie||le||be,Ie=j&&!$,Ce=Boolean(K&&fe),we=(0,p.A)(Ae&&!ve,{noCloseTransition:Ce}),Se=(0,p.A)(ve,{noOpenTransition:Ce}),Ee=(0,l.A)(e,j);(0,m.A)(Z,!re||!N);const ke=(0,v.A)(),Te=(0,r.Kr)((()=>[_?"shared":ke,H,T,_?P:void 0,ee].filter(Boolean).join("_")),[H,T,P,ee,_,ke]);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("img",{ref:we,src:Ae,className:(0,i.A)("gYSfUe37",Ce&&C,Ie&&"vbcXDDxa",n,"sticker-media"),style:te,alt:"",draggable:!1}),pe&&(K?r.Ay.createElement(I.A,{ref:Se,key:Te,renderId:Te,size:T,className:(0,i.A)(w,(Ce||Ie)&&C,E),tgsUrl:me,play:se,noLoop:!L,forceOnHeavyAnimation:B||x,forceAlways:B,isLowPriority:k&&!(0,a.CzR)((0,o.mS)(),W),sharedCanvas:j?.current||void 0,sharedCanvasCoords:Ee,onLoad:ye,onLoop:V,onEnded:V,color:P}):Y?r.Ay.createElement(A.A,{ref:Se,canPlay:se,className:(0,i.A)(w,E,"sticker-media"),src:me,playsInline:!0,muted:!0,loop:L&&!M,isPriority:B,disablePictureInPicture:!0,onReady:ye,onBroken:q,onEnded:z,style:te}):r.Ay.createElement("img",{ref:Se,className:(0,i.A)(w,E,"sticker-media"),src:me,alt:J,style:te,draggable:!1})))}))},76471:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(84051),o=n(31481),s=n(87357),a=n(90603),i=n(14242),c=n(4961),d=n(18276);const u="A72KeAmh",l=(0,r.ph)((({className:e,letterClassName:t,topicId:n,iconColor:l,title:f,onClick:h})=>{const m=(0,a.GR)(l);return n===o.HxB?r.Ay.createElement(d.A,{name:"hashtag",className:(0,s.A)(u,e,"general-forum-icon"),onClick:h}):r.Ay.createElement("div",{className:(0,s.A)(u,e),onClick:h},r.Ay.createElement("img",{className:"eLEPgwPj",src:m,alt:"",draggable:!1}),r.Ay.createElement("div",{className:(0,s.A)("ZQJO2BKn",t,"topic-icon-letter")},(0,c.A)((0,i.Qh)(f,1))))}))},38102:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(87412),s=n(76471);const a=(0,r.ph)((({topic:e,className:t,letterClassName:n,size:a,noLoopLimit:i,observeIntersection:c,onClick:d})=>e.iconEmojiId&&"0"!==e.iconEmojiId?r.Ay.createElement(o.A,{documentId:e.iconEmojiId,className:t,size:a,observeIntersectionForPlaying:c,loopLimit:i?void 0:2,onClick:d}):r.Ay.createElement(s.A,{iconColor:e.iconColor,title:e.title,topicId:e.id,className:t,letterClassName:n,onClick:d})))},80477:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(13439),s=n(90709),a=n(29807),i=n(4961),c=n(59030),d=n(80999);const u=(0,r.ph)((0,o.EK)(((e,{typingStatus:t})=>t.userId?{typingUser:(0,a.mBe)(e,t.userId)}:{}))((({typingStatus:e,typingUser:t})=>{const n=(0,c.A)(),o=t&&!t.isSelf&&(0,s.u0l)(t),a=n(e.action).replace("{user}","").replace("{emoji}",e.emoji||"").trim();return r.Ay.createElement("p",{className:"typing-status",dir:n.isRtl?"rtl":"auto"},o&&r.Ay.createElement("span",{className:"sender-name",dir:"auto"},(0,i.A)(o)),r.Ay.createElement(d.A,{content:a}))})))},58784:(e,t,n)=>{n.d(t,{w:()=>O});const r=n.p+"QrPlane.a921709f266564f65b7e.tgs",o=n.p+"CameraFlip.1a9fe44cf01fcb22347d.tgs",s=n.p+"HandFilled.f87939d160f1dc288586.tgs",a=n.p+"HandOutline.f9831751ba60df30c484.tgs",i=n.p+"Speaker.04bb3743412b41ff83c5.tgs",c=n.p+"VoiceAllowTalk.a9cc7c39ec438973ddc9.tgs",d=n.p+"VoiceMini.bf00ffdf69625c579569.tgs",u=n.p+"VoiceMuted.a4b4ec6bfd7c6c5fb275.tgs",l=n.p+"VoiceOutlined.91b394ab3562cdfad6bc.tgs",f=n.p+"Flame.d1a2dae178cb492c75ea.tgs",h=n.p+"Fragment.b1bf3a076c00ef525901.tgs",m=n.p+"Mention.810d50783976689ed870.tgs",p=n.p+"PartyPopper.287e4290662b3d2b269c.tgs",g=n.p+"Invite.4502ec3aa4249d6e6723.tgs",y=n.p+"Requests.af9f19772695a8898810.tgs",v=n.p+"LastSeen.b16ff3c97561138c2406.tgs",b=n.p+"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3e.tgs",A=n.p+"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab.tgs",I=n.p+"TwoFactorSetupMonkeyPeek.1905436b042520363d7e.tgs",C=n.p+"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12.tgs",w=n.p+"ReadTime.015d6e6f73f768f1e9fe.tgs",S=n.p+"Report.4a5dda0227ea86f6fa5e.tgs",E=n.p+"SearchingDuck.bbd2938a3403490d077c.tgs",k=n.p+"Congratulations.b6623b8efc6fedec9d33.tgs",T=n.p+"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a.tgs",P=n.p+"Experimental.43d62096368bf5a00ae3.tgs",M=n.p+"FoldersAll.3f9f9e243d19f0fbf9aa.tgs",L=n.p+"FoldersNew.9a40d71c0c8be70f5bd1.tgs",N=n.p+"FoldersShare.3356f97ced75bf97121c.tgs",B=n.p+"Lock.12547a0228d4fa544e53.tgs",x=n.p+"StarReaction.9079111e9821148b6055.tgs",F=n.p+"StarReactionEffect.8718d0946883c6f031f8.tgs",O={MonkeyIdle:A,MonkeyTracking:C,MonkeyClose:b,MonkeyPeek:I,FoldersAll:M,FoldersNew:L,FoldersShare:N,DiscussionGroups:T,Lock:B,CameraFlip:o,HandFilled:s,HandOutline:a,Speaker:i,VoiceAllowTalk:c,VoiceMini:d,VoiceMuted:u,VoiceOutlined:l,JoinRequest:y,Invite:g,QrPlane:r,Congratulations:k,Experimental:P,PartyPopper:p,Flame:f,ReadTime:w,Unlock:n.p+"Unlock.15931385f7a95ab1a000.tgs",LastSeen:v,Mention:m,Fragment:h,StarReactionEffect:F,StarReaction:x,Report:S,SearchingDuck:E}},91525:(e,t,n)=>{n.d(t,{ON:()=>d,QC:()=>i,fE:()=>c,rK:()=>a,zV:()=>s});const r=1073741824,o=1048576;function s(e){return e>r/2?`${(e/r).toFixed(1)} GB`:e>o/2?`${(e/o).toFixed(1)} MB`:`${(e/1024).toFixed(1)} KB`}function a(e){const{fileName:t,mimeType:n}=e;return i(t,n)}function i(e,t){return e&&-1!==e.indexOf(".")?e.split(".").pop():t.split("/").pop()}function c(e){switch(e){case"apk":case"xls":case"xlsx":case"ods":return"green";case"zip":case"rar":case"7z":case"tar":case"gz":case"bz2":case"liz":case"lz4":case"lz5":case"xz":case"zst":case"wim":case"ppt":case"pptx":case"odp":return"orange";case"pdf":case"xps":return"red";default:return"default"}}function d(e){return Boolean(e.previewBlobUrl||e.thumbnail)}},76023:(e,t,n)=>{n.d(t,{$:()=>c,$w:()=>S,AC:()=>h,Wd:()=>d,_e:()=>f,bu:()=>L,cf:()=>l,ck:()=>E,kn:()=>w,ky:()=>B,mr:()=>P,rO:()=>k,ri:()=>T,sk:()=>N,tP:()=>M,w4:()=>C,wy:()=>i});var r=n(31481),o=n(90709),s=n(82393),a=n(43503);const i="(max-height: 640px)",c=parseInt(getComputedStyle(document.documentElement).fontSize,10),d=240,u=300,l={width:640,height:640},f={width:800,height:800},h="4986041492570112461",m={width:100,height:100},p=4.5,g=7,y=29,v=30;let b,A,I;function C(e,t,n,r){const o=t?1.625:0,s=function(e,t,n){if(!n)return e?v:y;const{width:r}=a.A.get();return b||(b=Math.min(v,r/c-p)),A||(A=Math.min(y,r/c-g)),I||(I=Math.min(y,r/c-p)),e?b:t?I:A}(e,n,r)-o;return s*c}function w({width:e,height:t,fromOwnMessage:n,isWebPageMedia:r,isGif:o,noAvatars:s,isMobile:a}){const i=t/e,d=C(n,r,s,a),l=function(e,t){return e&&t&&t>=.75&&t<=1.25?20*c:27*c}(o,i),f=o?Math.max(u,e):e;return B(d,l,f,o?t*(f/e):t)}function S(e,t){const n=window.matchMedia(i),{width:r,height:o}=a.A.get();let d=t&&n.matches?10:8.25;return e&&!s.TF&&(d=n.matches?10:12.5),{width:r,height:o-d*c}}function E(e,t,n,r,s,a){const{width:i,height:c}=(0,o.xiv)(e)||m;return w({width:i,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,noAvatars:s,isMobile:a})}function k(e,t,n,r,s,a){const{width:i,height:c}=(0,o.NZp)(e)||m;return w({width:i,height:c,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,isGif:e.isGif,noAvatars:s,isMobile:a})}function T(e,t,n,r,o,s){const{width:a=m.width,height:i=m.height}=e;return w({width:a,height:i,fromOwnMessage:t,asForwarded:n,isWebPageMedia:r,noAvatars:o,isMobile:s})}function P(){return{width:2*c,height:2*c}}function M(e){return e?{width:3*c,height:3*c}:{width:3.375*c,height:3.375*c}}function L(e,t){const{width:n}=e;let{height:o}=e;e.id===h&&(o=n);const s=o&&n&&o/n,a=c*(t?r.naf:r.H4O),i=s?a*s:a;return s&&i>a?{width:Math.round(a/s),height:a}:{width:a,height:i}}function N({width:e,height:t},n,r=!1){const{width:o,height:s}=S(n,r);return B(o,s,e,t)}function B(e,t,n,r){const o=r/n,s=Math.min(n,e);return Math.round(s*o)>t?{width:Math.round(t/o),height:t}:{width:s,height:Math.round(s*o)}}},35049:(e,t,n)=>{n.d(t,{a:()=>s,y:()=>o});var r=n(90709);function o(e,t,n){if(!e){if(!n)return;return t?"peer-color-count-1":"peer-color-0"}if("isCustomPeer"in e){if(void 0===e.peerColorId)return;return`peer-color-${e.peerColorId}`}return t?`peer-color-count-${(0,r.PXe)(e)}`:`peer-color-${(0,r.ZgW)(e)}`}function s(e){return`peer-color-${e.color}`}},59776:(e,t,n)=>{n.d(t,{V:()=>C});var r=n(84051),o=n(31481),s=n(90709),a=n(3544),i=n(17142),c=n(58849),d=n(4961),u=n(13439),l=n(87357),f=n(96530);const h=(0,r.ph)((({className:e,chatId:t,children:n})=>{const{openChat:o}=(0,u.ko)(),s=(0,r.hb)((()=>{t&&o({id:t})}),[t,o]);return t?r.Ay.createElement(f.A,{className:(0,l.A)("ChatLink",e),onClick:s},n):n}));var m=n(87412);const p=({className:e,groupCall:t,children:n})=>{const{requestMasterAndJoinGroupCall:o}=(0,u.ko)(),s=(0,r.hb)((()=>{t&&o({id:t.id,accessHash:t.accessHash})}),[t,o]);return t?r.Ay.createElement(f.A,{className:(0,l.A)("GroupCallLink",e),onClick:s},n):n},g=({className:e,message:t,children:n})=>{const{focusMessage:o}=(0,u.ko)(),s=(0,r.hb)((()=>{t&&o({chatId:t.chatId,messageId:t.id})}),[o,t]);return t?r.Ay.createElement(f.A,{className:(0,l.A)("MessageLink",e),onClick:s},n):n};var y=n(18653),v=n(76471);const b=({className:e,sender:t,children:n})=>{const{openChat:o}=(0,u.ko)(),s=(0,r.hb)((()=>{t&&o({id:t.id})}),[t,o]);return t?r.Ay.createElement(f.A,{className:(0,l.A)("UserLink",e),onClick:s},n):n},A=32,I=" ";function C(e,t,n,c,u,l,f,b,C={},k,T){if((0,s.r$r)(t))return(0,s.Pox)(e,t);if(!t.content?.action)return[];const{text:P,translationValues:M,amount:L,currency:N,call:B,score:x,topicEmojiIconId:F,giftCryptoInfo:O,pluralValue:D}=t.content.action,R=C.asPlainText||C.isEmbedded,U=[],_="Chat.Service.Group.UpdatedPinnedMessage1"!==P||l?P:"Message.PinnedGenericMessage";let $,j=e(_,M?.length?M:void 0,void 0,D);if(_.includes("ScoredInGame")&&(j=j.replace("un1","%action_origin%").replace("un2","%message%")),"ActionGiftOutbound"===_&&(j=j.replace("un2","%gift_payment_amount%").replace(/\*\*/g,"")),"ActionGiftInbound"===_&&(j=j.replace("un1","%action_origin%").replace("un2","%gift_payment_amount%").replace(/\*\*/g,"")),"ActionRefunded"===_&&(j=j.replace("un1","%action_origin%").replace("%1$s","%gift_payment_amount%")),"ActionRequestedPeer"===_&&(j=j.replace("un1","%star_target_user%").replace("un2","%action_origin%").replace(/\*\*/g,"")),_.startsWith("Notification.StarsGift.Upgrade")&&(j=j.replace("%@","%action_origin_chat%")),_.startsWith("ActionUniqueGiftTransfer")&&(j=j.replace("un1","%action_origin%").replace(/\*\*/g,"")),"BoostingReceivedPrizeFrom"===_&&(j=j.replace("**%s**","%target_chat%").replace(/\*\*/g,"")),j.includes("%star_target_user%")&&($=E(j,"%star_target_user%",u?u.map((e=>w(e,R))).filter(Boolean):"User"),j=$.pop(),U.push(...$)),$=E(j,"%action_origin%",n?n.id===o.zv8?e("StarsTransactionUnknown"):w(n,R)||I:c?S(e,c,R)||I:"User",""),j=$.pop(),U.push(...$),$=E(j,"%action_origin_chat%",c?S(e,c,R)||I:"Chat",""),j=$.pop(),U.push(...$),j.includes("%payment_amount%")&&($=E(j,"%payment_amount%",(0,i.A)(L,N,e.code)),j=$.pop(),U.push(...$)),j.includes("%action_topic%")&&($=E(j,"%action_topic%",[b?.iconEmojiId?r.Ay.createElement(m.A,{documentId:b.iconEmojiId,isSelectable:!0}):"",b?`${b.title}`:"a topic"],""),j=$.pop(),U.push(...$)),j.includes("%action_topic_icon%")){const e=F||b?.iconEmojiId;$=E(j,"%action_topic_icon%",e&&"0"!==e?r.Ay.createElement(m.A,{documentId:e,isSelectable:!0}):b?r.Ay.createElement(v.A,{topicId:b.id,title:b.title}):"..."),j=$.pop(),U.push(...$)}if(j.includes("%gift_payment_amount%")){let t;if(N&&N===o.OUy)t=e("ActionGiftStarsTitle",L);else{const n=(0,i.A)(L,N,e.code);t=O?`${(0,i.A)(O.amount,O.currency,e.code)} (${n})`:n}$=E(j,"%gift_payment_amount%",t),j=$.pop(),U.push(...$)}return j.includes("%amount%")&&($=E(j,"%amount%",L),j=$.pop(),U.push(...$)),j.includes("%score%")&&($=E(j,"%score%",x.toString()),j=$.pop(),U.push(...$)),$=E(j,"%target_user%",u?u.map((e=>w(e,R))).filter(Boolean):"User",""),j=$.pop(),U.push(...$),$=E(j,"%message%",l?function(e,t,n={},o,s){const{asPlainText:i,isEmbedded:c}=n;if(i)return(0,a.dS)(e,t,void 0,void 0,A);const d=r.Ay.createElement(y.A,{message:t,truncateLength:A,observeIntersectionForLoading:o,observeIntersectionForPlaying:s,withTranslucentThumbs:!0});return c?d:r.Ay.createElement(g,{className:"action-link",message:t},d)}(e,l,C,k,T):"a message"),j=$.pop(),U.push(...$),$=E(j,"%product%",l?function(e){return e.content&&e.content.invoice?e.content.invoice.title:"a product"}(l):"a product"),j=$.pop(),U.push(...$),$=E(j,"%target_chat%",f?function(e,t){const n="another chat";return t?n:r.Ay.createElement(h,{className:"action-link underlined-link",chatId:e},n)}(f,R):"another chat",""),$.forEach((e=>{U.push(...(0,d.A)(e))})),C.asPlainText?U.join("").trim():B?function(e,t){return r.Ay.createElement(p,{groupCall:e},t)}(B,U):U}function w(e,t){const n=(0,c.A)((0,s.YgS)(e),A);return t?(0,d.A)(n):r.Ay.createElement(b,{className:"action-link",sender:e},e&&(0,d.A)(n))}function S(e,t,n){const o=(0,c.A)((0,s.JsG)(e,t),A);return n?(0,d.A)(o):r.Ay.createElement(h,{className:"action-link",chatId:t.id},t&&(0,d.A)(o))}function E(e,t,n,r=","){const o=e.indexOf(t);if(o<0||!n)return[e];const s=[];return s.push(e.substring(0,o)),Array.isArray(n)?n.forEach(((e,t)=>{s.push(e),t+1<n.length&&s.push(`${r} `)})):s.push(n),s.push(e.substring(o+t.length)),s.flat()}},4961:(e,t,n)=>{n.d(t,{A:()=>p,o:()=>C});var r=n(84051),o=n(31481),s=n(98221),a=n(87357),i=n(46275),c=n(52491),d=n(24282),u=n(87894),l=n(82393),f=n(56362),h=n(56440);const m=/(\*\*|__).+?\1/g;function p(e,t=["emoji"],n){return"string"!=typeof e?[e]:(0,u.oE)(t.reduce(((e,t)=>{switch(t){case"escape_html":return function(e){const t=document.createElement("div");return e.reduce(((e,n)=>"string"!=typeof n?(e.push(n),e):(t.innerText=n,e.push(t.innerHTML),e)),[])}(e);case"hq_emoji":return s.A.lastIndex=0,g(e,"big","jsx");case"emoji":return s.A.lastIndex=0,g(e,"small","jsx");case"emoji_html":return s.A.lastIndex=0,g(e,"small","html");case"br":return y(e,"jsx");case"br_html":return y(e,"html");case"highlight":return v(e,n.highlight);case"quote":return v(e,n.quote,!0);case"links":return A(e);case"tg_links":return A(e,!0);case"simple_markdown":return I(e,"jsx",n?.markdownPostProcessor);case"simple_markdown_html":return I(e,"html")}return e}),[e]))}function g(e,t,n){return l.TL?e:e.reduce(((e,i)=>{if("string"!=typeof i)return e.push(i),e;const u=(i=(0,d.A)(i)).split(s.A),l=i.match(s.A)||[];return e.push(u[0]),l.reduce(((e,s,i)=>{const d=(0,c.mS)(s);if(d){const i=`${o.jht?o.C1b:"."}/img-apple-${"big"===t?"160":"64"}/${d}.png`,u=(0,a.A)("emoji","small"===t&&"emoji-small");if("jsx"===n){const t=c.On.has(i);e.push(r.Ay.createElement("img",{src:i,className:`${u}${t?"":" opacity-transition slow shown"}`,alt:s,"data-path":i,draggable:!1,onLoad:t?void 0:c.P_}))}"html"===n&&e.push(`<img            draggable="false"            class="${u}"            src="${i}"            alt="${s}"          />`)}else e.push(s);const l=2*i+2;return u[l]&&e.push(u[l]),e}),e)}),[])}function y(e,t){return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const o=n.split(/\r\n|\r|\n/g).reduce(((e,n,o,s)=>{const a=n.trimLeft(),i=n.length-a.length;return e.push(String.fromCharCode(160).repeat(i)+a),o!==s.length-1&&e.push("jsx"===t?r.Ay.createElement("br",null):"<br />"),e}),[]);return[...e,...o]}),[])}function v(e,t,n){return e.reduce(((e,o)=>{if("string"!=typeof o||!t)return e.push(o),e;const s=o.toLowerCase().indexOf(t.toLowerCase());if(s<0)return e.push(o),e;const i=[];return i.push(o.substring(0,s)),i.push(r.Ay.createElement("span",{className:(0,a.A)("matching-text-highlight",n&&"is-quote")},o.substring(s,s+t.length))),i.push(o.substring(s+t.length)),[...e,...i]}),[])}const b=new RegExp(`${o.kNZ}|${o.sXR}`,"ig");function A(e,t){return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const o=n.match(b);if(!o||!o.length)return e.push(n),e;const s=[];let a=o.shift(),c=0;for(;a;){const e=n.indexOf(a,c);s.push(n.substring(c,e)),a.startsWith("@")?s.push(r.Ay.createElement(f.A,{username:a},a)):(a.endsWith("?")&&(a=a.slice(0,a.length-1)),!t||(0,i.zq)(a)?s.push(r.Ay.createElement(h.A,{text:a,url:a})):s.push(a)),c=e+a.length,a=o.shift()}return s.push(n.substring(c)),[...e,...s]}),[])}function I(e,t,n){const o=n||(e=>e);return e.reduce(((e,n)=>{if("string"!=typeof n)return e.push(n),e;const s=n.split(m),a=n.match(m)||[];return e.push(o(s[0])),a.reduce(((e,n,a)=>{"jsx"===t?e.push(n.startsWith("**")?r.Ay.createElement("b",null,o(n.replace(/\*\*/g,""))):r.Ay.createElement("i",null,o(n.replace(/__/g,"")))):e.push(n.startsWith("**")?`<b>${n.replace(/\*\*/g,"")}</b>`:`<i>${n.replace(/__/g,"")}</i>`);const i=2*a+2;return s[i]&&e.push(o(s[i])),e}),e)}),[])}function C(e,t){const n=(e.trim().match(/\n/g)||"").length+1,{lineHeight:r}=getComputedStyle(t),o=parseFloat(r.split("px")[0]);return t.clientHeight>=(n+1)*o}},18501:(e,t,n)=>{n.d(t,{Q:()=>N,f:()=>L});var r=n(84051),o=n(13439),s=n(23174),a=n(87357),i=n(85982),c=n(6e4),d=n(58734),u=n(4961),l=n(56362),f=n(57675),h=n(17712),m=n(18276);const p=({canBeCollapsible:e,isToggleDisabled:t,children:n})=>{const o=(0,r.li)(null),{isCollapsed:i,isCollapsible:c,setIsCollapsed:d}=(0,f.A)(o,4,void 0,!e),u=!t&&i,l=(0,h.A)((()=>{d(!1)})),p=(0,h.A)((()=>{d((e=>!e))}));return r.Ay.createElement("span",{className:(0,a.A)("KU67Uur0",i&&"y_uRZXtA"),onClick:u?l:void 0},r.Ay.createElement("blockquote",{className:"m3sD7_cn",ref:o,"data-entity-type":s.C7.Blockquote},r.Ay.createElement("div",{className:"JNVT2DU9"},n),c&&r.Ay.createElement("div",{className:(0,a.A)("pyX4NpPB",!t&&"RmvXwV0W"),onClick:t?void 0:p,"aria-hidden":!0},r.Ay.createElement(m.A,{name:i?"down":"up"}))))},g={js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",python:"Python",py:"Python",go:"Go",rust:"Rust",func:"FunC",c:"C","c++":"C++",cpp:"C++",fortran:"Fortran",f90:"Fortran",f:"Fortran",java:"Java",sql:"SQL",swift:"Swift","objective-c":"Objective-C",kotlin:"Kotlin",ruby:"Ruby",rb:"Ruby",php:"PHP",perl:"Perl",bash:"Bash",sh:"Shell",markdown:"Markdown","c#":"C#",cs:"C#",json:"JSON",yaml:"YAML",yml:"YAML",solidity:"Solidity",sol:"Solidity",tl:"TL"};var y=n(56863),v=n(59030),b=n(39751);const A=(0,r.ph)((({text:e,className:t,noCopy:n,onWordWrapToggle:s})=>{const{showNotification:c}=(0,o.ko)(),d=(0,r.li)(null),l=(0,b.A)(),f=(0,v.A)(),[h,p]=(0,r.J0)(!0),[g,y]=(0,r.J0)(!1),A=(0,r.hb)((()=>{const t=(0,u.o)(e,d.current.parentElement);y(t)}),[e]);(0,r.vJ)((()=>{h&&A()}),[A,h,e,l]);const I=(0,r.hb)((()=>{(0,i.eM)(e),c({message:f("TextCopied")})}),[f,c,e]),C=(0,r.hb)((()=>{p(!h),s?.(!h)}),[h,s]),w=(0,a.A)("L95Dh7wN",!g&&n&&"zctwFUQ8"),S=(0,a.A)("pMUccFN9",t),E=(0,a.A)("a44ZN3hD",h&&"jq1KLfVD");return r.Ay.createElement("div",{className:S,ref:d},r.Ay.createElement("div",{className:w},g&&r.Ay.createElement("div",{className:E,onClick:C,title:"Word Wrap"},r.Ay.createElement(m.A,{name:"word-wrap"})),!n&&r.Ay.createElement("div",{className:"auCNtLQ4",onClick:I,title:f("Copy")},r.Ay.createElement(m.A,{name:"copy"}))))})),I=(0,r.ph)((({text:e,language:t,noCopy:o})=>{const[i,c]=(0,r.J0)(!0),{result:d}=(0,y.A)((()=>t?Promise.all([n.e(2118),n.e(3325)]).then(n.bind(n,73325)).then((n=>n.default(e,t))):Promise.resolve(void 0)),[t,e]),u=(0,r.hb)((e=>{c(e)}),[]),l=(0,a.A)("code-block",!i&&"no-word-wrap");return r.Ay.createElement("div",{className:"CodeBlock"},t&&r.Ay.createElement("p",{className:"code-title"},g[(f=t).toLowerCase()]??f),r.Ay.createElement("pre",{className:l,"data-entity-type":s.C7.Pre,"data-language":t},d??e,r.Ay.createElement(A,{text:e,className:"code-overlay",onWordWrapToggle:u,noCopy:o})));var f}));var C=n(87412),w=n(56440),S=n(83868),E=n(37661);const k=new Map,T=(0,a.x)("Spoiler"),P=(0,r.ph)((({children:e,containerId:t})=>{const n=(0,r.li)(null),[o,a]=(0,E.A)(),i=(0,h.A)((e=>{t&&(o||(0,S.A)(e),k.get(t)?.forEach((e=>e())))}));return(0,r.vJ)((()=>{if(t)return k.has(t)?k.get(t).push(a):k.set(t,[a]),()=>{k.delete(t)}}),[t]),r.Ay.createElement("span",{className:T("&",!o&&"concealed",!o&&Boolean(t)&&"animated"),onClick:t&&!o?i:void 0,"data-entity-type":s.C7.Spoiler},r.Ay.createElement("span",{className:T("content"),ref:n},e))})),M=64;function L({text:e,entities:t,highlight:n,emojiSize:o,shouldRenderAsHtml:i,containerId:c,isSimple:f,isProtected:h,noLineBreaks:m,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:v,sharedCanvasRef:b,sharedCanvasHqRef:A,cacheBuster:S,forcePlayback:E,noCustomEmojiPlayback:k,focusedQuote:T,isInSelectMode:M}){if(!t?.length)return B({content:e,highlight:n,focusedQuote:T,emojiSize:o,shouldRenderAsHtml:i,isSimple:f,noLineBreaks:m});const L=[];let N=!1;const U=function(e){const t=new Set,n=[];return e.forEach(((r,o)=>{if(t.has(o))return;const s=x(r,o,e,t);s&&(s.organizedIndexes.forEach((e=>{t.add(e)})),n.push(s))})),n}(t);function _(t,L,x,U){const $=[],{entity:j,nestedEntities:z}=x,{offset:V,length:H,type:K}=j;let W=e.substring(t,V);const J=W.length;W&&(N&&W.length>0&&"\n"===W[0]&&(W=W.substr(1),N=!1),W&&$.push(...B({content:W,highlight:n,focusedQuote:T,emojiSize:o,shouldRenderAsHtml:i,isSimple:f,noLineBreaks:m})));const G=t+J,q=G+H;let X=e.substring(V,V+H);const Y=[];if(N&&X.length>0&&"\n"===X[0]&&(X=X.substr(1),N=!1),K===s.C7.Pre&&(N=!0),z.length){let e=G;z.forEach(((t,n)=>{const{renderResult:r,entityEndIndex:o}=_(e,q,t,n===z.length-1);Y.push(...r),e=o}))}const Q=i?function(e,t,n){const r="string"==typeof t?t:void 0,o=e.type===s.C7.Pre?t.trimEnd():t,a=n.length?n.join(""):(0,u.A)(o,["escape_html","emoji_html","br_html"]).join("");if(!r)return a;switch(e.type){case s.C7.Bold:return`<b>${a}</b>`;case s.C7.Italic:return`<i>${a}</i>`;case s.C7.Underline:return`<u>${a}</u>`;case s.C7.Code:return`<code class="text-entity-code">${a}</code>`;case s.C7.Pre:return`\`\`\`${(0,u.A)(e.language||"",["escape_html"])}<br/>${a}<br/>\`\`\`<br/>`;case s.C7.Strike:return`<del>${a}</del>`;case s.C7.MentionName:return`<a\n        class="text-entity-link"\n        data-entity-type="${s.C7.MentionName}"\n        data-user-id="${e.userId}"\n        contenteditable="false"\n        dir="auto"\n      >${a}</a>`;case s.C7.Url:case s.C7.TextUrl:return`<a\n        class="text-entity-link"\n        href=${F(r,e)}\n        data-entity-type="${e.type}"\n        dir="auto"\n      >${a}</a>`;case s.C7.Spoiler:return`<span\n        class="spoiler"\n        data-entity-type="${s.C7.Spoiler}"\n        >${a}</span>`;case s.C7.CustomEmoji:return(0,d.Y5)(r,e);case s.C7.Blockquote:return`<blockquote\n        class="blockquote"\n        data-entity-type="${s.C7.Blockquote}"\n        >${a}</blockquote>`;default:return a}}(j,X,Y):function({entity:e,entityContent:t,nestedEntityContent:n,highlight:o,focusedQuote:i,containerId:c,isSimple:d,noLineBreaks:u,isProtected:f,observeIntersectionForLoading:h,observeIntersectionForPlaying:m,withTranslucentThumbs:g,emojiSize:y,sharedCanvasRef:v,sharedCanvasHqRef:b,cacheBuster:A,forcePlayback:S,noCustomEmojiPlayback:E,isInSelectMode:k}){const T="string"==typeof t&&t,M=n.length?n:t;function L(){return B({content:M,highlight:o,focusedQuote:i,emojiSize:y,isSimple:d,noLineBreaks:u})}if(!T)return L();if(d){const t=L();return e.type===s.C7.Spoiler?r.Ay.createElement(P,null,t):e.type===s.C7.CustomEmoji?r.Ay.createElement(C.A,{key:A?`${A}-${e.offset}`:void 0,documentId:e.documentId,size:y,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:v,sharedCanvasHqRef:b,observeIntersectionForLoading:h,observeIntersectionForPlaying:m,withTranslucentThumb:g,forceAlways:S,noPlay:E}):t}switch(e.type){case s.C7.Bold:return r.Ay.createElement("strong",{"data-entity-type":e.type},L());case s.C7.Blockquote:return r.Ay.createElement(p,{canBeCollapsible:e.canCollapse,isToggleDisabled:k},L());case s.C7.BotCommand:return r.Ay.createElement("a",{onClick:O,className:"text-entity-link",dir:"auto","data-entity-type":e.type},L());case s.C7.Hashtag:{const[n,o]=t.split("@");return r.Ay.createElement("a",{onClick:()=>D(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type},L())}case s.C7.Cashtag:{const[n,o]=t.split("@");return r.Ay.createElement("a",{onClick:()=>D(n,o),className:"text-entity-link",dir:"auto","data-entity-type":e.type},L())}case s.C7.Code:return r.Ay.createElement("code",{className:(0,a.A)("text-entity-code","clickable"),onClick:R,role:"textbox",tabIndex:0,"data-entity-type":e.type},L());case s.C7.Email:return r.Ay.createElement("a",{href:`mailto:${T}`,target:"_blank",rel:"noopener noreferrer",className:"text-entity-link",dir:"auto","data-entity-type":e.type},L());case s.C7.Italic:return r.Ay.createElement("em",{"data-entity-type":e.type},L());case s.C7.MentionName:return r.Ay.createElement(l.A,{userId:e.userId},L());case s.C7.Mention:return r.Ay.createElement(l.A,{username:T},L());case s.C7.Phone:return r.Ay.createElement("a",{href:`tel:${T}`,className:"text-entity-link",dir:"auto","data-entity-type":e.type},L());case s.C7.Pre:return r.Ay.createElement(I,{text:T,language:e.language,noCopy:f});case s.C7.Strike:return r.Ay.createElement("del",{"data-entity-type":e.type},L());case s.C7.TextUrl:case s.C7.Url:return r.Ay.createElement(w.A,{url:F(T,e),text:T},L());case s.C7.Underline:return r.Ay.createElement("ins",{"data-entity-type":e.type},L());case s.C7.Spoiler:return r.Ay.createElement(P,{containerId:c},L());case s.C7.CustomEmoji:return r.Ay.createElement(C.A,{key:A?`${A}-${e.offset}`:void 0,documentId:e.documentId,size:y,isSelectable:!0,withSharedAnimation:!0,sharedCanvasRef:v,sharedCanvasHqRef:b,observeIntersectionForLoading:h,observeIntersectionForPlaying:m,withTranslucentThumb:g,forceAlways:S,noPlay:E});default:return L()}}({entity:j,entityContent:X,nestedEntityContent:Y,highlight:n,focusedQuote:T,containerId:c,isSimple:f,noLineBreaks:m,isProtected:h,observeIntersectionForLoading:g,observeIntersectionForPlaying:y,withTranslucentThumbs:v,emojiSize:o,sharedCanvasRef:b,sharedCanvasHqRef:A,cacheBuster:S,forcePlayback:E,noCustomEmojiPlayback:k,isInSelectMode:M});if(Array.isArray(Q)?$.push(...Q):$.push(Q),U&&q<L){let t=e.substring(q,L);N&&t.length>0&&"\n"===t[0]&&(t=t.substring(1)),t&&$.push(...B({content:t,highlight:n,focusedQuote:T,emojiSize:o,shouldRenderAsHtml:i,isSimple:f,noLineBreaks:m}))}return{renderResult:$,entityEndIndex:q}}let $=0;return U.forEach(((t,n)=>{const{renderResult:r,entityEndIndex:o}=_($,e.length,t,n===U.length-1);L.push(...r),$=o})),L}function N(e){const{text:t,entities:n}=e||{};if(!t)return"";const r=L({text:t,entities:n,shouldRenderAsHtml:!0});return Array.isArray(r)?r.join(""):r}function B({content:e,highlight:t,focusedQuote:n,emojiSize:r,shouldRenderAsHtml:o,isSimple:s,noLineBreaks:a}){if(Array.isArray(e)){const i=[];return e.forEach((e=>{i.push(...B({content:e,highlight:t,focusedQuote:n,emojiSize:r,shouldRenderAsHtml:o,isSimple:s,noLineBreaks:a}))})),i}if(o)return(0,u.A)(e,["escape_html","emoji_html","br_html"]);const i=[r&&r>M?"hq_emoji":"emoji"],c={};return s||a||i.push("br"),t&&(i.push("highlight"),c.highlight=t),n&&(i.push("quote"),c.quote=n),(0,u.A)(e,i,c)}function x(e,t,n,r){const{offset:o,length:s}=e,a=new Set([t]);if(r.has(t))return;const i=[];return n.filter(((e,n)=>n>t&&e.offset>=o&&e.offset<o+s)).map((e=>x(e,n.indexOf(e),n,r))).filter(Boolean).forEach((e=>{let t=!1;e.organizedIndexes.forEach((e=>{t||a.has(e)||(t=!0),a.add(e)})),t&&i.push(e)})),{entity:e,organizedIndexes:a,nestedEntities:i}}function F(e,t){const{type:n}=t;return n===s.C7.TextUrl&&t.url?t.url:e}function O(e){(0,o.ko)().sendBotCommand({command:e.currentTarget.innerText})}function D(e,t){e&&(t?(0,o.ko)().openChatByUsername({username:t,onChatChanged:{action:"searchHashtag",payload:{hashtag:e}}}):(0,o.ko)().searchHashtag({hashtag:e}))}function R(e){(0,i.eM)(e.currentTarget.innerText),(0,o.ko)().showNotification({message:(0,c.yE)("TextCopied")})}},47483:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(84051),o=n(13439),s=n(29807),a=n(60261),i=n(37836);let c=new Set;const d=new Set,u=(0,i.nF)((()=>{const e=[...c],t=e.slice(0,100),n=e.slice(101);(0,o.ko)().loadCustomEmojis({ids:t}),c=new Set(n),c.size&&u()}),200,!1),l=(0,i.nF)((()=>{(0,o.ko)().updateLastRenderedCustomEmojis({ids:[...d].reverse()}),d.clear()}),200,!1);function f(e){d.add(e),l()}(0,a.K3)(f);var h=n(17712);function m(e){const[t,n]=(0,r.J0)(e?(0,o.mS)().customEmojis.byId[e]:void 0),[i,d]=(0,r.J0)((0,s.BWX)((0,o.mS)()));var l;(l=e)&&(f(l),(0,o.mS)().customEmojis.byId[l]||(c.add(l),u()));const m=(0,h.A)((t=>{if(!e)return;const r=(0,o.mS)();n((t??r.customEmojis).byId[e]),d((0,s.BWX)(r))}));return(0,r.vJ)(m,[e,m]),(0,r.vJ)((()=>{if(e)return(0,a.Il)(m,e),()=>{(0,a.LQ)(m)}}),[t,e,m]),{customEmoji:t,canPlay:i}}},18276:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(87357);const s=({name:e,ref:t,className:n,style:s,role:a,ariaLabel:i,character:c,onClick:d})=>r.Ay.createElement("i",{ref:t,className:(0,o.A)(`icon icon-${e}`,n),style:s,"aria-hidden":!i,"aria-label":i,"data-char":c,role:a,onClick:d})},9267:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(84051),o=n(87357),s=n(14745);const a={root:"qEhgJEpm",middle:"GjxPnwZR",big:"HRLrnZvQ",adaptive:"ebO2WJkv",svg:"lbK6aMGA",clickable:"hqg1cKl7"},i="M6.63869 12.1902L3.50621 14.1092C3.18049 14.3087 2.75468 14.2064 2.55515 13.8807C2.45769 13.7216 2.42864 13.5299 2.47457 13.3491L2.95948 11.4405C3.13452 10.7515 3.60599 10.1756 4.24682 9.86791L7.6642 8.22716C7.82352 8.15067 7.89067 7.95951 7.81418 7.80019C7.75223 7.67116 7.61214 7.59896 7.47111 7.62338L3.66713 8.28194C2.89387 8.41581 2.1009 8.20228 1.49941 7.69823L0.297703 6.69116C0.00493565 6.44581 -0.0335059 6.00958 0.211842 5.71682C0.33117 5.57442 0.502766 5.48602 0.687982 5.47153L4.35956 5.18419C4.61895 5.16389 4.845 4.99974 4.94458 4.75937L6.36101 1.3402C6.5072 0.987302 6.91179 0.819734 7.26469 0.965925C7.43413 1.03612 7.56876 1.17075 7.63896 1.3402L9.05539 4.75937C9.15496 4.99974 9.38101 5.16389 9.6404 5.18419L13.3322 5.47311C13.713 5.50291 13.9975 5.83578 13.9677 6.2166C13.9534 6.39979 13.8667 6.56975 13.7269 6.68896L10.9114 9.08928C10.7131 9.25826 10.6267 9.52425 10.6876 9.77748L11.5532 13.3733C11.6426 13.7447 11.414 14.1182 11.0427 14.2076C10.8642 14.2506 10.676 14.2208 10.5195 14.1249L7.36128 12.1902C7.13956 12.0544 6.8604 12.0544 6.63869 12.1902Z";function c({randomId:e}){const t=`${e}-mask1`,n=`${e}-mask2`,o=`${e}-gradient1`,s=`${e}-gradient2`,i=`${e}-gradient3`;return r.Ay.createElement("svg",{className:a.svg,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},r.Ay.createElement("g",{"clip-path":"url(#clip0_4913_7387)"},r.Ay.createElement("mask",{id:t,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24"},r.Ay.createElement("path",{d:"M21.416 -1.42493H-1.08398V21.0751H21.416V-1.42493Z",fill:"white"})),r.Ay.createElement("g",{mask:`url(#${t})`},r.Ay.createElement("mask",{id:n,style:"mask-type:luminance",maskUnits:"userSpaceOnUse",x:"-2",y:"-2",width:"24",height:"24"},r.Ay.createElement("path",{d:"M-1.08398 -1.42493H21.416V21.0751H-1.08398V-1.42493Z",fill:"white"})),r.Ay.createElement("g",{mask:`url(#${n})`},r.Ay.createElement("path",{d:"M7.26843 6.25162L9.28943 2.22541C9.52311 1.76121 10.0884 1.5749 10.5494 1.80857C10.7294 1.90015 10.8747 2.04857 10.9662 2.23172L12.8767 6.11583C13.0314 6.43477 13.3378 6.64951 13.6883 6.69056L17.6829 7.17055C18.2261 7.23686 18.6145 7.73264 18.5513 8.27894C18.5229 8.50314 18.4218 8.71156 18.2608 8.86945L15.0998 11.9862C14.9703 12.1125 14.9103 12.2894 14.9324 12.4694L15.4598 16.6756C15.5356 17.2787 15.1093 17.8282 14.5093 17.904C14.2819 17.9324 14.0546 17.8913 13.8525 17.7808L10.5147 15.9556C10.2715 15.823 9.98099 15.8198 9.73784 15.9461L6.27687 17.7208C5.79057 17.9703 5.1969 17.7745 4.94743 17.285C4.8527 17.1019 4.82112 16.8966 4.84954 16.6945L5.12427 14.7619C5.26006 13.8177 5.84425 12.9967 6.69055 12.5641L10.5305 10.6031C10.6315 10.5526 10.6726 10.4263 10.622 10.322C10.581 10.2431 10.4957 10.1957 10.4073 10.2084L5.70847 10.8841C4.99164 10.9852 4.26535 10.7831 3.7001 10.322L2.13698 9.04629C1.69173 8.68314 1.6191 8.02 1.98225 7.57159C2.15277 7.36317 2.39592 7.22739 2.66118 7.19265L6.6716 6.67793C6.92739 6.64319 7.15159 6.4853 7.26843 6.25162Z",fill:`url(#${o})`}),r.Ay.createElement("path",{d:"M10.8242 2.9422C10.4168 2.85062 9.98417 3.0464 9.78839 3.43797L7.76423 7.46419C7.64739 7.69787 7.42634 7.85576 7.1674 7.89049L3.15698 8.40837C2.89804 8.44311 2.6612 8.56942 2.49384 8.76837L3.97801 9.98097C4.44537 10.3631 5.05167 10.5304 5.64849 10.4452L10.3442 9.77255C10.6221 9.73466 10.8936 9.8736 11.0168 10.1231C11.1778 10.442 11.0515 10.8336 10.7326 10.9978L9.50734 11.623L10.9031 11.4209C10.9915 11.4083 11.0799 11.4557 11.1178 11.5346C11.1715 11.6388 11.1273 11.7651 11.0263 11.8157L7.18635 13.7767C6.34006 14.2093 5.75586 15.0303 5.62007 15.9745L5.44008 17.2282C5.60428 17.3924 5.86322 17.4366 6.07796 17.326L9.53261 15.5514C9.90839 15.3587 10.3536 15.365 10.7231 15.5671L14.0609 17.3924C14.1809 17.4587 14.3199 17.4839 14.4556 17.4682C14.8093 17.4239 15.0651 17.0955 15.0209 16.7324L14.4967 12.523C14.4588 12.2072 14.5662 11.8946 14.7904 11.6736L17.9513 8.55679C18.005 8.50311 18.0461 8.43995 18.0745 8.37048L14.1841 7.90312C13.8336 7.86207 13.5304 7.64418 13.3725 7.3284L13.2209 7.01578C12.902 6.87683 12.6399 6.63052 12.482 6.31159L10.8242 2.9422Z",fill:`url(#${s})`}),r.Ay.createElement("path",{d:"M10.7484 1.41397C10.0663 1.06977 9.23893 1.3445 8.89789 2.02659L6.87373 6.05596C6.8232 6.15701 6.72531 6.22649 6.61478 6.23912L2.60436 6.757C2.22542 6.80437 1.87806 7.00015 1.63807 7.29699C1.12334 7.93486 1.22124 8.86958 1.85596 9.38746L3.42223 10.6664C4.08222 11.2032 4.93167 11.44 5.77165 11.32L9.09051 10.8432L6.48847 12.1727C5.51271 12.6716 4.84325 13.6126 4.68852 14.6989L4.41063 16.6315C4.36958 16.9252 4.41695 17.222 4.55273 17.4873C4.90956 18.1915 5.77481 18.4725 6.479 18.1125L9.93681 16.3378C10.0505 16.2778 10.1863 16.281 10.3 16.3441L13.6378 18.1662C13.9188 18.3209 14.2441 18.3841 14.563 18.343C15.4061 18.2357 15.9998 17.462 15.8956 16.622L15.3714 12.4126C15.3651 12.3716 15.3809 12.3274 15.4093 12.299L18.5703 9.1822C18.8008 8.95168 18.9492 8.65169 18.9871 8.32959C19.0787 7.5433 18.5229 6.82963 17.7366 6.73489L13.7388 6.25491C13.5399 6.2328 13.363 6.10649 13.2715 5.92334L11.3641 2.03606C11.2315 1.76765 11.0136 1.54976 10.7484 1.41397ZM9.68418 2.42132C9.80734 2.17501 10.1073 2.07712 10.3505 2.20027C10.4452 2.24764 10.5242 2.32974 10.5715 2.42763L12.482 6.31175C12.7031 6.76332 13.1357 7.06962 13.6346 7.12962L17.6324 7.60961C17.9324 7.64435 18.1471 7.91908 18.1124 8.22538C18.0966 8.3517 18.0398 8.46854 17.9513 8.55695L14.7904 11.6737C14.5662 11.8948 14.4588 12.2074 14.4967 12.5232L15.0209 16.7325C15.0651 17.0957 14.8093 17.4241 14.4556 17.4683C14.3199 17.4841 14.1809 17.4588 14.0609 17.3925L10.7231 15.5673C10.3536 15.3652 9.90839 15.362 9.53261 15.5547L6.0748 17.3294C5.80638 17.4652 5.47797 17.3578 5.33903 17.0862C5.2885 16.9852 5.26956 16.8683 5.28534 16.7546L5.56007 14.8252C5.67376 14.0231 6.17269 13.3253 6.88952 12.959L10.7294 10.9979C11.0515 10.8337 11.1778 10.4422 11.0168 10.1232C10.8905 9.87376 10.6221 9.73482 10.3442 9.77271L5.64534 10.4453C5.04851 10.5306 4.44537 10.3632 3.97801 9.98113L2.41489 8.70221C2.15595 8.49064 2.1149 8.10854 2.32647 7.8496C2.42436 7.72961 2.56331 7.65066 2.71488 7.63171L6.72531 7.11383C7.12951 7.06331 7.48003 6.81384 7.66318 6.45069L9.68418 2.42132Z",fill:`url(#${i})`})))),r.Ay.createElement("defs",null,r.Ay.createElement("linearGradient",{id:o,x1:"10.1547",y1:"1.70752",x2:"10.1547",y2:"17.9134",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#FFF0C2"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#FFEBBA"})),r.Ay.createElement("linearGradient",{id:s,x1:"10.2842",y1:"2.92009",x2:"14.7304",y2:"17.4713",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#FFD147"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#FFB526"})),r.Ay.createElement("linearGradient",{id:i,x1:"10.1547",y1:"1.26556",x2:"14.0546",y2:"18.3525",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#E58F0D"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#EB7814"})),r.Ay.createElement("clipPath",{id:"clip0_4913_7387"},r.Ay.createElement("rect",{width:"20",height:"20",fill:"white"}))))}function d({randomId:e}){return r.Ay.createElement("svg",{className:a.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none"},r.Ay.createElement("defs",null,r.Ay.createElement("linearGradient",{id:e,x1:"3",y1:"63.5001",x2:"84.1475",y2:"-1.32262",gradientUnits:"userSpaceOnUse"},r.Ay.createElement("stop",{"stop-color":"#6B93FF"}),r.Ay.createElement("stop",{offset:"0.439058","stop-color":"#976FFF"}),r.Ay.createElement("stop",{offset:"1","stop-color":"#E46ACE"}))),r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:i,fill:`url(#${e})`}))}function u(){return r.Ay.createElement("svg",{className:a.svg,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none"},r.Ay.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:i,fill:"var(--color-fill)"}))}const l=(0,r.ph)((({type:e="regular",size:t="small",className:n,style:i,onClick:l})=>{const f=`svg-${(0,s.A)()}`;return r.Ay.createElement("i",{onClick:l,className:(0,o.A)("StarIcon",a.root,n,l&&a.clickable,a[t]),style:i},(()=>{switch(e){case"gold":return r.Ay.createElement(c,{randomId:f});case"premium":return r.Ay.createElement(d,{randomId:f});default:return r.Ay.createElement(u,null)}})())}))},97967:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(80089),s=n(80464);const a=e=>{const{isOpen:t}=e,n=(0,s.A)(o.ar.Extra,"ChatFolderModal",!t);return n?r.Ay.createElement(n,e):void 0}},97046:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(80089),s=n(80464);const a=e=>{const{isOpen:t}=e,n=(0,s.A)(o.ar.Extra,"MuteChatModal",!t);return n?r.Ay.createElement(n,e):void 0}},32754:(e,t,n)=>{n.d(t,{A:()=>F});var r=n(84051),o=n(13439),s=n(23174),a=n(89925),i=n(90709),c=n(26129),d=n(29807),u=n(87357),l=n(66414),f=n(82393),h=n(98255),m=n(43874),p=n(47067),g=n(49746),y=n(37661),v=n(5912),b=n(17712),A=n(50680),I=n(53188),C=n(21849),w=n(54314),S=n(34431),E=n(18276),k=n(9267),T=n(81642),P=n(22720),M=n(97967),L=n(97046),N=n(24807);const B="AA5s1Pu4",x=(0,r.ph)((({isSelected:e,isActive:t,isMobile:n})=>r.Ay.createElement("div",{className:(0,u.A)("byPckqUT",t&&"IsUWP16T",e&&!n&&"qy2i51dM")},r.Ay.createElement("div",{className:"nl36F75B"},r.Ay.createElement("div",{className:B}),r.Ay.createElement("div",{className:B}),r.Ay.createElement("div",{className:B}))))),F=(0,r.ph)((0,o.EK)(((e,{chatId:t,isSavedDialog:n,isPreview:r,previewMessageId:o})=>{const a=(0,d.hds)(e,t),u=(0,d.mBe)(e,t);if(!a)return{currentUserId:e.currentUserId};const l=o||(0,d.ZZX)(e,t,n?"saved":"all"),f=o?(0,d.O5q)(e,t,o):(0,d.yHC)(e,t,n?"saved":"all"),{isOutgoing:h,forwardInfo:m}=f||{},p=n&&m?.fromId?(0,d.PVB)(e,m.fromId):void 0,g=f?(0,d.Y7C)(e,f):void 0,y=p||g,v=f&&(0,c.Q)(f)?.replyToMsgId,b=f?(0,i.mKC)(f):void 0,A=b&&v?(0,d.O5q)(e,a.id,v):void 0,{targetUserIds:I,targetChatId:C}=b||{},{chatId:w,threadId:S,type:E}=(0,d.Xf0)(e)||{},k=!r&&t===w&&(n?t===S:S===s.l3),T=a.isForum&&t===w||t===(0,d.nTw)(e).forumPanelChatId,P=(0,d.K0y)(e,t),M=f&&(0,d.nkm)(e,f),L=(0,d.C5H)(e,t,s.l3,"typingStatus"),N=(0,d.xyP)(e,t),B=f?.content.storyData,x=B&&(0,d.Msb)(e,B.peerId,B.id);return{chat:a,isMuted:(0,i.W1R)(a,(0,d.$5S)(e),(0,d.GrP)(e)),lastMessageSender:y,actionTargetUserIds:I,actionTargetChatId:C,actionTargetMessage:A,draft:(0,d.GA4)(e,t,s.l3),isSelected:k,isSelectedForum:T,isForumPanelOpen:(0,d.clw)(e),canScrollDown:k&&"thread"===E,canChangeFolder:(e.chatFolders.orderedIds?.length||0)>1,...h&&f&&{lastMessageOutgoingStatus:(0,d.Tl2)(e,f)},user:u,userStatus:P,lastMessageTopic:M,typingStatus:L,withInterfaceAnimations:(0,d.PKK)(e),lastMessage:f,lastMessageId:l,currentUserId:e.currentUserId,listedTopicIds:N?.listedTopicIds,topics:N?.topicsById,isSynced:e.isSynced,lastMessageStory:x}}))((({chatId:e,folderId:t,orderDiff:n,animationType:c,isPinned:B,listedTopicIds:F,topics:O,observeIntersection:D,chat:R,lastMessageStory:U,isMuted:_,user:$,userStatus:j,actionTargetUserIds:z,lastMessageSender:V,lastMessageOutgoingStatus:H,actionTargetMessage:K,actionTargetChatId:W,offsetTop:J,draft:G,withInterfaceAnimations:q,isSelected:X,isSelectedForum:Y,isForumPanelOpen:Q,canScrollDown:Z,canChangeFolder:ee,lastMessageTopic:te,typingStatus:ne,lastMessageId:re,lastMessage:oe,isSavedDialog:se,currentUserId:ae,isPreview:ie,previewMessageId:ce,className:de,isSynced:ue,onDragEnter:le})=>{const{openChat:fe,openSavedDialog:he,toggleChatInfo:me,focusLastMessage:pe,focusMessage:ge,loadTopics:ye,openForumPanel:ve,closeForumPanel:be,setShouldCloseRightColumn:Ae,reportMessages:Ie}=(0,o.ko)(),{isMobile:Ce}=(0,m.Ay)(),[we,Se,Ee]=(0,y.A)(),[ke,Te,Pe]=(0,y.A)(),[Me,Le,Ne]=(0,y.A)(),[Be,xe,Fe]=(0,y.A)(),[Oe,De,Re]=(0,y.A)(),[Ue,_e,$e]=(0,y.A)(),{isForum:je,isForumAsMessages:ze}=R||{};(0,g.A)(se?ae:e,re,oe);const{renderSubtitle:Ve,ref:He}=(0,I.A)({chat:R,chatId:e,lastMessage:oe,typingStatus:ne,draft:G,statefulMediaContent:(0,i.cWA)({story:U}),actionTargetMessage:K,actionTargetUserIds:z,actionTargetChatId:W,lastMessageTopic:te,lastMessageSender:V,observeIntersection:D,animationType:c,withInterfaceAnimations:q,orderDiff:n,isSavedDialog:se,isPreview:ie,topics:O}),Ke=(0,h.A)(d.sRo),We=(0,b.A)((()=>{const t=Ce&&ze;if(Ce&&Ae({value:!0}),ie)ge({chatId:e,messageId:ce});else{if(se)return he({chatId:e,noForumTopicPanel:!0},{forceOnHeavyAnimation:!0}),void(Ce&&me({force:!1}));if(je){if(Q)return void be(void 0,{forceOnHeavyAnimation:!0});if(t||ve({chatId:e},{forceOnHeavyAnimation:!0}),!ze)return}fe({id:e,noForumTopicPanel:t,shouldReplaceHistory:!0},{forceOnHeavyAnimation:!0}),X&&Z&&pe()}})),Je=(0,b.A)((t=>{t.preventDefault(),le?.(e)})),Ge=(0,b.A)((()=>{xe(),Se()})),qe=(0,b.A)((()=>{De(),Te()})),Xe=(0,b.A)((()=>{_e(),Le()})),Ye=(0,b.A)((()=>{R&&Ie({chatId:R.id,messageIds:[]})})),Qe=(0,p.A)({chat:R,user:$,handleDelete:Ge,handleMute:qe,handleChatFolderChange:Xe,handleReport:Ye,folderId:t,isPinned:B,isMuted:_,canChangeFolder:ee,isSavedDialog:se,currentUserId:ae,isPreview:ie}),Ze=(0,v.Vz)(He,R?D:void 0);(0,r.vJ)((()=>{Ze&&je&&ue&&void 0===F&&ye({chatId:e})}),[e,F,ue,je,Ze]);const et=$&&j&&(0,i.PFE)($,j),{hasShownClass:tt}=(0,A.A)(et),nt=(0,r.Kr)((()=>{if(f.OS)return se?`#${(0,l.az)(ae,"thread",e)}`:`#${(0,l.az)(e,"thread",s.l3)}`}),[e,ae,se]);if(!R)return;const rt=$||R,ot=(0,u.A)("Chat chat-item-clickable",(0,i.L8L)(e)?"private":"group",je&&"forum",X&&"selected",Y&&"selected-forum",ie&&"standalone",de);return r.Ay.createElement(P.A,{ref:He,className:ot,href:nt,style:`top: ${J}px`,ripple:!je&&!Ce,contextActions:Qe,onClick:We,onDragEnter:Je,withPortalForMenu:!0},r.Ay.createElement("div",{className:(0,u.A)("status","status-clickable")},r.Ay.createElement(C.A,{peer:rt,isSavedMessages:$?.isSelf,isSavedDialog:se,size:ie?"medium":"large",withStory:!$?.isSelf,withStoryGap:tt||Boolean(R.subscriptionUntil),storyViewerOrigin:a.G9.ChatList,storyViewerMode:"single-peer"}),r.Ay.createElement("div",{className:"avatar-badge-wrapper"},r.Ay.createElement("div",{className:(0,u.A)("avatar-online","avatar-badge",tt&&"avatar-online-shown")}),!tt&&Boolean(R.subscriptionUntil)&&r.Ay.createElement(k.A,{type:"gold",className:"avatar-badge avatar-subscription",size:"adaptive"}),r.Ay.createElement(N.A,{chat:R,isMuted:_,shouldShowOnlyMostImportant:!0,forceHidden:Ke,topics:O,isSelected:X})),R.isCallActive&&R.isCallNotEmpty&&r.Ay.createElement(x,{isMobile:Ce,isSelected:X,isActive:q})),r.Ay.createElement("div",{className:"info"},r.Ay.createElement("div",{className:"info-row"},r.Ay.createElement(S.A,{peer:rt,withEmojiStatus:!0,isSavedMessages:e===$?.id&&$?.isSelf,isSavedDialog:se,observeIntersection:D}),_&&!se&&r.Ay.createElement(E.A,{name:"muted"}),r.Ay.createElement("div",{className:"separator"}),oe&&r.Ay.createElement(T.A,{message:oe,outgoingStatus:se?void 0:H,draftDate:G?.date})),r.Ay.createElement("div",{className:"subtitle"},Ve(),!ie&&r.Ay.createElement(N.A,{chat:R,isPinned:B,isMuted:_,isSavedDialog:se,hasMiniApp:$?.hasMainMiniApp,topics:O,isSelected:X}))),Be&&r.Ay.createElement(w.A,{isOpen:we,onClose:Ee,onCloseAnimationEnd:Fe,chat:R,isSavedDialog:se}),Oe&&r.Ay.createElement(L.A,{isOpen:ke,onClose:Pe,onCloseAnimationEnd:Re,chatId:e}),Ue&&r.Ay.createElement(M.A,{isOpen:Me,onClose:Ne,onCloseAnimationEnd:$e,chatId:e}))})))},24807:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(84051),o=n(13439),s=n(87357),a=n(22237),i=n(14242),c=n(59852),d=n(19129),u=n(17712),l=n(59030),f=n(68292),h=n(18276),m=n(64493),p=n(26607);const g=(0,r.ph)((({topic:e,topics:t,chat:n,isPinned:g,isMuted:y,shouldShowOnlyMostImportant:v,wasTopicOpened:b,forceHidden:A,isSavedDialog:I,hasMiniApp:C,isSelected:w})=>{const{requestMainWebView:S}=(0,o.ko)(),E=(0,l.A)(),{unreadMentionsCount:k=0,unreadReactionsCount:T=0}=n.isForum?{}:n,P=!g&&e&&!b,M=n.isForum&&!e,L=(0,r.Kr)((()=>M&&t?Object.values(t).filter((({unreadCount:e})=>e)):void 0),[t,M]),N=(0,r.Kr)((()=>M?y&&L?.filter((e=>!1===e.isMuted)).length||L?.length:(e||n).unreadCount),[n,e,L,M,y]),B=(0,r.Kr)((()=>{const e=t&&Object.values(t).some((e=>!e.isMuted&&e.unreadCount));return y||t&&!e}),[t,y]),x=!e&&n.hasUnreadMark,F=!(0,d.A)((()=>(0,a.Hp)(A)?A():A),[A])&&Boolean(N||k||x||g||T||P||C),O=Boolean((N||x)&&!I),D=(0,s.A)("ChatBadge",B&&"muted",!O&&g&&"pinned",O&&"unread"),R=(0,u.A)((e=>{e.stopPropagation();const t=(0,c.A)();S({botId:n.id,peerId:n.id,theme:t})}));return r.Ay.createElement(p.A,{isCustom:!0,className:"ChatBadge-transition",isOpen:F},function(){const e=T&&r.Ay.createElement("div",{className:(0,s.A)("ChatBadge reaction",B&&"muted")},r.Ay.createElement(h.A,{name:"heart"})),t=k&&r.Ay.createElement("div",{className:"ChatBadge mention"},r.Ay.createElement(h.A,{name:"mention"})),n=P&&r.Ay.createElement("div",{className:(0,s.A)("ChatBadge unopened",B&&"muted")}),o=x||N?r.Ay.createElement("div",{className:D},!x&&r.Ay.createElement(f.A,{text:(0,i.Vw)(N)})):void 0,a=g&&r.Ay.createElement("div",{className:D},r.Ay.createElement(h.A,{name:"pinned-chat"})),c=C&&r.Ay.createElement(m.A,{color:w?"secondary":"primary",className:"ChatBadge miniapp",pill:!0,size:"tiny",onClick:R},E("BotOpen")),d=!o&&!t&&!e&&a,u=[n,e,t,o,d].filter(Boolean);return I?a:C&&(0===u.length||d)?c:0!==u.length?1===u.length?u[0]:v?[t,o,e,a].filter(Boolean)[0]:r.Ay.createElement("div",{className:"ChatBadge-wrapper"},u):void 0}())}))},52533:(e,t,n)=>{n.d(t,{A:()=>E,R:()=>S});var r=n(84051),o=n(13439),s=n(31481),a=n(29807),i=n(64520),c=n(87357),d=n(11778),u=n(50442),l=n(79824),f=n(82393),h=n(18501),m=n(19129),p=n(74984),g=n(26072),y=n(39351),v=n(17712),b=n(21511),A=n(75343),I=n(24680),C=n(41036),w=n(62830);let S=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}({});const E=(0,r.ph)((0,o.EK)((e=>{const{chatFolders:{byId:t,orderedIds:n,invites:r},chats:{listIds:{archived:o}},stories:{orderedPeerIds:{archived:s}},activeSessions:{byHash:c},currentUserId:d,archiveSettings:u,settings:{byKey:{chatFolderLayout:l}}}=e,{shouldSkipHistoryAnimations:f,activeChatFolder:h}=(0,a.nTw)(e),{storyViewer:{isRibbonShown:m}}=(0,a.nTw)(e);return{chatFoldersById:t,folderInvitesById:r,orderedFolderIds:n,activeChatFolder:h,currentUserId:d,shouldSkipHistoryAnimations:f,hasArchivedChats:Boolean(o?.length),hasArchivedStories:Boolean(s?.length),maxFolders:(0,i.d)(e,"dialogFilters"),maxFolderInvites:(0,i.d)(e,"chatlistInvites"),maxChatLists:(0,i.d)(e,"chatlistJoined"),archiveSettings:u,isStoryRibbonShown:m,sessions:c,chatFolderLayout:l}}))((({foldersDispatch:e,onSettingsScreenSelect:t,onLeftColumnContentChange:n,chatFoldersById:i,orderedFolderIds:S,activeChatFolder:E,currentUserId:k,isForumPanelOpen:T,shouldSkipHistoryAnimations:P,maxFolders:M,maxChatLists:L,shouldHideFolderTabs:N,folderInvitesById:B,maxFolderInvites:x,hasArchivedChats:F,hasArchivedStories:O,archiveSettings:D,isStoryRibbonShown:R,sessions:U,chatFolderLayout:_})=>{const{loadChatFolders:$,setActiveChatFolder:j,openChat:z,openShareChatFolderModal:V,openDeleteChatFolderModal:H,openEditChatFolder:K,openLimitReachedModal:W}=(0,o.ko)(),J=(0,r.li)(null),G=(0,y.A)();(0,r.vJ)((()=>{$()}),[]);const{ref:q,shouldRender:X,getIsClosing:Y}=(0,b.A)({isOpen:R,className:!1,withShouldRender:!0}),Q=(0,m.A)(Y),Z=(0,r.Kr)((()=>({id:s.DSF,emoticon:"💬",title:{text:S?.[0]===s.DSF?G("FilterAllChatsShort"):G("FilterAllChats")},includedChatIds:l.p,excludedChatIds:l.p})),[S,G]),ee=(0,r.Kr)((()=>S?S.map((e=>e===s.DSF?Z:i[e]||{})).filter(Boolean):void 0),[i,Z,S]),te=ee?.findIndex((e=>e.id===s.DSF)),ne=te===E,re=0===E,oe=(0,p.ic)(),se=(0,r.Kr)((()=>{if(ee&&ee.length)return ee.map(((e,t)=>{const{id:n,title:c}=e,d=n!==s.DSF&&t>M-1,u=[];return(0,a.w5O)((0,o.mS)(),n)&&u.push({title:G("FilterShare"),icon:"link",handler:()=>{Object.values(i).reduce(((e,t)=>e+(t.isChatList?1:0)),0)>=L&&!e.isChatList?W({limit:"chatlistJoined"}):B[n]?.length>=x?W({limit:"chatlistInvites"}):V({folderId:n})}}),n!==s.DSF&&(u.push({title:G("FilterEdit"),icon:"edit",handler:()=>{K({folderId:n})}}),u.push({title:G("FilterDelete"),icon:"delete",destructive:!0,handler:()=>{H({folderId:n})}})),{id:n,title:r.Ay.createElement("span",{className:"folder-tab-content"},r.Ay.createElement("span",{className:"folder-icon"},e.emoticon||"📁"),(0,h.f)({text:c.text,entities:c.entities,noCustomEmojiPlayback:e.noTitleAnimations})),badgeCount:oe[n]?.chatsCount,isBadgeActive:Boolean(oe[n]?.notificationsCount),isBlocked:d,contextActions:u?.length?u:void 0}}))}),[ee,M,oe,G,i,L,B,x]),ae=(0,v.A)((e=>{j({activeChatFolder:e},{forceOnHeavyAnimation:!0})}));(0,r.vJ)((()=>{se?.length&&E>=se.length&&j({activeChatFolder:0})}),[E,se,j]),(0,r.vJ)((()=>{if(f.TF&&se?.length&&!T)return(0,u.wJ)(J.current,{selectorToPreventScroll:".chat-list",onSwipe:(e,t)=>t===u.ez.Left?(j({activeChatFolder:Math.min(E+1,se.length-1)},{forceOnHeavyAnimation:!0}),!0):t===u.ez.Right&&(j({activeChatFolder:Math.max(0,E-1)},{forceOnHeavyAnimation:!0}),!0)})}),[E,se,T,j]);const ie=(0,r.li)();ie.current=!re,(0,r.vJ)((()=>ie.current?(0,d.A)((()=>{ie.current&&j({activeChatFolder:0})})):void 0),[E,j]),(0,g.A)({isActive:!re,onBack:()=>j({activeChatFolder:0},{forceOnHeavyAnimation:!0})}),(0,r.vJ)((()=>{const e=e=>{if(e.ctrlKey&&e.shiftKey&&e.code.startsWith("Digit")&&se){const[,t]=e.code.match(/Digit(\d)/)||[];if(!t)return;if("0"===t)return void z({id:k,shouldReplaceHistory:!0});const n=Number(t)-1;if(n>se.length-1)return;j({activeChatFolder:n},{forceOnHeavyAnimation:!0}),e.preventDefault()}};return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}}),[k,se,z,j]);const{ref:ce,shouldRender:de}=(0,b.A)({isOpen:!S,noMountTransition:!0,withShouldRender:!0});function ue(o){const s=Object.values(i).find((({id:e})=>e===se[E].id)),a=s&&!ne;return r.Ay.createElement(w.A,{folderType:a?"folder":"all",folderId:a?s.id:void 0,isActive:o,isForumPanelOpen:T,foldersDispatch:e,onSettingsScreenSelect:t,onLeftColumnContentChange:n,canDisplayArchive:(F||O)&&!D.isHidden,archiveSettings:D,sessions:U})}const le=se&&se.length>1,fe="vertical"===_;return r.Ay.createElement("div",{ref:q,className:(0,c.A)("ChatFolders",le&&N&&"ChatFolders--tabs-hidden",X&&"with-story-ribbon",fe&&"ChatFolders--vertical")},X&&r.Ay.createElement(A.A,{isClosing:Q}),le?r.Ay.createElement(I.A,{contextRootElementSelector:"#LeftColumn",tabs:se,activeTab:E,onSwitchTab:ae}):de?r.Ay.createElement("div",{ref:ce,className:"tabs-placeholder"}):void 0,r.Ay.createElement(C.Ay,{ref:J,name:P?"none":G.isRtl?"slideOptimizedRtl":"slideOptimized",activeKey:E,renderCount:le?se.length:void 0},ue))})))},62830:(e,t,n)=>{n.d(t,{A:()=>K});var r=n(84051),o=n(13439),s=n(89925),a=n(31481),i=n(87357),c=n(49763),d=n(80140),u=n(82393),l=n(23459),f=n(66644),h=n(9718),m=n(16581),p=n(17712),g=n(74984),y=n(2178),v=n(96374),b=n(5912),A=n(9717),I=n(46222),C=n(52745),w=n(90709),S=n(87894),E=n(14242),k=n(4961),T=n(59030),P=n(21849),M=n(18276),L=n(24713),N=n(22720);const B={root:"sG8AAzvK",minimized:"lTOui0dp",button:"bNkLqJf1",title:"rMTpNazX","unread-count":"O7esHjyC",unreadCount:"O7esHjyC",info:"OS2LWzdu",name:"bkCtPuPQ",icon:"f4LUPgr4",avatarWrapper:"RMY__Znz",avatar:"qeb0Aox1",chatsPreview:"_1817Hwgd",unread:"SS39xuL3"},x={isCustomPeer:!0,title:"Archived Chats",avatarIcon:"archive-filled",customPeerAvatarColor:"#9EAAB5"},F=(0,r.ph)((({archiveSettings:e,onDragEnter:t,onClick:n})=>{const{updateArchiveSettings:s}=(0,o.ko)(),c=(0,T.A)(),d=(0,g.Rh)(a._E9),u=(0,g.ic)(),l=u[a._E9]?.chatsCount,f=(0,r.Kr)((()=>{if(!d?.length)return c("Loading");const e=(0,o.mS)().chats.byId;return d.slice(0,5).map(((t,n,o)=>{const s=n===o.length-1,a=e[t];if(!a)return;const d=(0,w.JsG)(c,a);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("span",{className:(0,i.A)(B.chat,l&&a.unreadCount&&B.unread)},(0,k.A)(d)),s?"":", ")}))}),[d,c,l]),h=(0,r.Kr)((()=>{const t=!e.isMinimized&&{title:c("lng_context_archive_collapse"),icon:"collapse",handler:()=>{s({isMinimized:!0})}},n=e.isMinimized&&{title:c("lng_context_archive_expand"),icon:"expand",handler:()=>{s({isMinimized:!1})}},r={title:c("lng_context_archive_to_menu"),icon:"archive-to-main",handler:()=>{s({isHidden:!0})}};return(0,S.oE)([t,n,r])}),[e.isMinimized,c,s]),m=(0,r.hb)((e=>{e.preventDefault(),t?.()}),[t]);return r.Ay.createElement(N.A,{onClick:n,onDragEnter:m,className:(0,i.A)(B.root,e.isMinimized&&B.minimized,"chat-item-clickable","chat-item-archive"),buttonClassName:B.button,contextActions:h,withPortalForMenu:!0},e.isMinimized?r.Ay.createElement("div",{className:(0,i.A)(B.info,"info")},r.Ay.createElement("div",{className:"info-row"},r.Ay.createElement("div",{className:(0,i.A)("title",B.title)},r.Ay.createElement("h3",{dir:"auto",className:(0,i.A)(B.name,"fullName")},r.Ay.createElement(M.A,{name:"archive-filled",className:B.icon}),c("ArchivedChats"))),r.Ay.createElement(L.A,{className:B.unreadCount,text:l?(0,E.Vw)(l):void 0}))):r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("div",{className:(0,i.A)("status",B.avatarWrapper)},r.Ay.createElement(P.A,{peer:x})),r.Ay.createElement("div",{className:(0,i.A)(B.info,"info")},r.Ay.createElement("div",{className:"info-row"},r.Ay.createElement("div",{className:(0,i.A)("title",B.title)},r.Ay.createElement("h3",{dir:"auto",className:(0,i.A)(B.name,"fullName")},c("ArchivedChats")))),r.Ay.createElement("div",{className:"subtitle"},r.Ay.createElement("div",{className:(0,i.A)("status",B.chatsPreview)},f),r.Ay.createElement(L.A,{className:B.unreadCount,text:l?(0,E.Vw)(l):void 0})))))}));var O=n(32754),D=n(29807),R=n(43874),U=n(79577),_=n(64493);const $=(0,r.ph)((0,o.EK)(((e,{folderId:t,folderType:n})=>({chatFolder:t&&"folder"===n?(0,D.$aQ)(e,t):void 0,animatedEmoji:(0,D.oei)(e,"📂")})))((({chatFolder:e,animatedEmoji:t,foldersDispatch:n,onSettingsScreenSelect:o})=>{const a=(0,T.A)(),{isMobile:i}=(0,R.Ay)(),c=(0,r.hb)((()=>{n({type:"editFolder",payload:e}),o(s.VS.FoldersEditFolderFromChatList)}),[e,n,o]);return r.Ay.createElement("div",{className:"yftKUVDQ"},r.Ay.createElement("div",{className:"UCBfMOiz"},t&&r.Ay.createElement(U.A,{sticker:t,size:96})),r.Ay.createElement("h3",{className:"dB9cHelg",dir:"auto"},a("FilterNoChatsToDisplay")),r.Ay.createElement("p",{className:"TJ_liZcJ",dir:"auto"},a(e?"ChatList.EmptyChatListFilterText":"Chat.EmptyChat")),e&&r.Ay.createElement(_.A,{ripple:!i,fluid:!0,pill:!0,onClick:c,size:"smaller",isRtl:a.isRtl},r.Ay.createElement(M.A,{name:"settings"}),r.Ay.createElement("div",{className:"aL7e0w4t"},a("ChatList.EmptyChatListEditFilter"))))})));var j=n(93545);const z="pedMJD_v",V=(0,r.ph)((({sessions:e,onHeightChange:t})=>{const{changeSessionSettings:n,terminateAuthorization:s,showNotification:a}=(0,o.ko)(),i=(0,r.li)(null),c=(0,T.A)();(0,j.A)(i,(e=>{const n=e.borderBoxSize?.[0]?.blockSize||e.contentRect.height;t(n)}));const d=(0,r.Kr)((()=>Object.values(e).sort(((e,t)=>t.dateCreated-e.dateCreated)).find((e=>e.isUnconfirmed))),[e]),u=(0,r.Kr)((()=>[d.deviceModel,d.region,d.country].filter(Boolean).join(", ")),[d]),l=(0,p.A)((()=>{n({hash:d.hash,isConfirmed:!0})})),f=(0,p.A)((()=>{s({hash:d.hash}),a({title:c("UnconfirmedAuthDeniedTitle",1),message:c("UnconfirmedAuthDeniedMessageSingle",u)})}));return r.Ay.createElement("div",{className:"yEkGgZVL",ref:i},r.Ay.createElement("h2",{className:"VhAJDrnz"},c("UnconfirmedAuthTitle")),r.Ay.createElement("p",{className:"WmyL1NJ8"},c("UnconfirmedAuthSingle",u)),r.Ay.createElement("div",{className:"_40UGD1Y"},r.Ay.createElement(_.A,{fluid:!0,isText:!0,size:"smaller",className:z,onClick:l},c("UnconfirmedAuthConfirm")),r.Ay.createElement(_.A,{fluid:!0,isText:!0,size:"smaller",color:"danger",onClick:f,className:z},c("UnconfirmedAuthDeny"))))})),H=new Set(["9","0"]),K=(0,r.ph)((({className:e,folderType:t,folderId:n,isActive:w,isForumPanelOpen:S,canDisplayArchive:E,archiveSettings:k,sessions:T,foldersDispatch:P,onSettingsScreenSelect:M,onLeftColumnContentChange:L})=>{const{openChat:N,openNextChat:B,closeForumPanel:x,toggleStoryRibbon:D}=(0,o.ko)(),R=(0,r.li)(null),U=(0,r.li)(!1),[_,j]=(0,r.J0)(0),z="archived"===t,K="all"===t,W="saved"===t,J=K?a.DSF:z?a._E9:W?a.pX9:n,G=K&&E&&k,q=(0,g.Rh)(J);(0,l.A)(q);const X=(q?.length||0)*a.yq1,Y=G?k?.isMinimized?a.eqO:a.yq1:0,{orderDiffById:Q,getAnimationType:Z}=(0,A.A)(q),[ee,te]=(0,v.A)(void 0,q,void 0,a.T7t),ne=(0,r.Kr)((()=>{const e=Object.values(T||{}),t=e.find((e=>e.isCurrent));return!(!t||(0,d.Fm)()-t.dateCreated<a.C7Y)&&K&&e.some((e=>e.isUnconfirmed))}),[K,T]);(0,r.vJ)((()=>{ne||j(0)}),[ne]),(0,y.v)((0,r.Kr)((()=>w&&q?.length?{"Alt+ArrowUp":e=>{e.preventDefault(),B({targetIndexDelta:-1,orderedIds:q})},"Alt+ArrowDown":e=>{e.preventDefault(),B({targetIndexDelta:1,orderedIds:q})}}:void 0),[w,q])),(0,r.vJ)((()=>{if(w&&!W&&q&&u.lE)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){if((u.MP&&e.metaKey||!u.MP&&e.ctrlKey)&&e.code.startsWith("Digit")){const[,t]=e.code.match(/Digit(\d)/)||[];if(!t||H.has(t))return;const n=G&&k&&!k.isMinimized,r=n?-1:0,o=Number(t)+r-1;if(n&&-1===o)return void L?.(s.Bn.Archived);if(o>q.length-1)return;N({id:q[o],shouldReplaceHistory:!0})}}}),[k,W,w,L,N,B,q,G]);const{observe:re}=(0,b.BL)({rootRef:R,throttleMs:200}),oe=(0,p.A)((()=>{L(s.Bn.Archived),x()})),se=(0,p.A)((()=>{U.current?U.current=!1:oe()})),ae=(0,m.A)((e=>{U.current?U.current=!1:N({id:e,shouldReplaceHistory:!0})}),[N],500,!0),ie=(0,p.A)((e=>{const t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;n<t.width||r<t.y||(U.current=!0)})),ce=function(e,t,n,o){const s=(0,r.li)(null),a=(0,r.li)(!1),i=(0,r.li)(0),c=(0,r.li)(!1),d=(0,r.li)(!0),l=(0,r.li)(0),g=(0,r.li)(!1),y=(0,p.A)(((t=!1)=>{c.current||s.current&&e.current&&(s.current.style.display="block",e.current.scrollTop=1,u.Yw||t||(0,h.E)(e.current),a.current=!0,i.current=1,c.current=!0,d.current=!0)})),v=(0,p.A)((()=>{c.current&&s.current&&(s.current.style.display="none",c.current=!1)})),b=(0,p.A)((()=>{if(!e.current)return;if(a.current)return void(a.current=!1);const r=e.current.scrollTop,o=r>i.current,u=r<i.current,h=0===r,m=Date.now()-l.current;if(s.current){if(h&&!c.current)return void(0,f.dL)(y,[e.current,s.current]);(0,f.dL)(v,s.current)}u&&(d.current&&m>100||r<0&&g.current)?t?.():o&&r>0&&n?.(),i.current=r,d.current=h,l.current=Date.now(),g.current=o&&r<0})),A=(0,m.A)((r=>{if(!e.current)return;const o=e.current;o.scrollHeight>o.offsetHeight||0===r.deltaY||(r.deltaY<0?t?.():n?.())}),[e,t,n],250);return(0,r.vJ)((()=>{const t=e.current;if(t)return 0===t.scrollTop&&(0,f.RK)((()=>{y(!0)})),t.addEventListener("scroll",b,{passive:!0}),t.addEventListener("wheel",A,{passive:!0}),()=>{t.removeEventListener("scroll",b),t.removeEventListener("wheel",A)}}),[e,A]),u.pz||o?void 0:r.Ay.createElement("div",{ref:s,className:"overscroll-trigger",key:"overscroll-trigger"})}(R,(0,p.A)((()=>{D({isShown:!0,isArchived:z})})),(0,p.A)((()=>{D({isShown:!1,isArchived:z})})),W);return r.Ay.createElement(I.A,{className:(0,i.A)("chat-list custom-scroll",S&&"forum-panel-open",e),ref:R,items:ee,itemSelector:".ListItem:not(.chat-item-archive)",preloadBackwards:a.T7t,withAbsolutePositioning:!0,beforeChildren:ce,maxHeight:X+Y+_,onLoadMore:te,onDragLeave:ie},ne&&r.Ay.createElement(V,{key:"unconfirmed",sessions:T,onHeightChange:j}),G&&r.Ay.createElement(F,{key:"archive",archiveSettings:k,onClick:oe,onDragEnter:se}),ee?.length?function(){const e=q.indexOf(ee[0]),t=(0,c.zm)(J)||0;return ee.map(((o,s)=>{const i=e+s<t,d=_+Y+(e+s)*a.yq1;return r.Ay.createElement(O.A,{key:o,teactOrderKey:i?s:(0,c.uk)(o,W),chatId:o,isPinned:i,folderId:n,isSavedDialog:W,animationType:Z(o),orderDiff:Q[o],offsetTop:d,observeIntersection:re,onDragEnter:ae})}))}():!ee||ee.length||W?r.Ay.createElement(C.A,{key:"loading"}):r.Ay.createElement($,{folderId:n,folderType:t,foldersDispatch:P,onSettingsScreenSelect:M}))}))},79882:(e,t,n)=>{n.d(t,{I:()=>o,W:()=>s});var r=n(84051);let o=function(e){return e[e.Move=0]="Move",e[e.Opacity=1]="Opacity",e[e.None=2]="None",e}({});function s(e){return(0,r.Kr)((()=>{const t=Object.values(e),n=t.filter((e=>e<0)).length,r=t.filter((e=>e>0)).length;return t=>{const s=e[t];return 0===s?o.None:s===1/0||s===-1/0||n<=r&&s<0||r<n&&s>0?o.Opacity:o.Move}}),[e])}},53188:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(84051),o=n(13439),s=n(31481),a=n(66644),i=n(90709),c=n(70636),d=n(26129),u=n(87357),l=n(59776),f=n(4961),h=n(18501),m=n(79882),p=n(49746),g=n(21488),y=n(62587),v=n(59030),b=n(76023),A=n(43874),I=n(11217),C=n(38102);const w="CBda1UmC",S="BhS75ocD",E="uWo2dhui",k="g3XnC73g",T=Number(b.$),P=(0,r.ph)((({chat:e,topics:t,renderLastMessage:n,observeIntersection:s})=>{const{openThread:a}=(0,o.ko)(),c=(0,r.li)(null),d=(0,r.li)(null),l=(0,v.A)(),[h,...m]=(0,r.Kr)((()=>t?(0,i.COF)(Object.values(t),void 0,!0).slice(0,3):[]),[t]),[p,g]=(0,r.J0)(!1),[y,b]=(0,r.J0)(void 0),{handleClick:P,handleMouseDown:M}=(0,I.Q)((t=>{0===h.unreadCount||e.isForumAsMessages||(t.stopPropagation(),t.preventDefault(),a({chatId:e.id,threadId:h.id,shouldReplaceHistory:!0,noForumTopicPanel:(0,A.Ny)()}))}));return(0,r.vJ)((()=>{const e=c.current,t=d.current;if(!e||!t)return;const n=e.offsetWidth,r=t.offsetWidth;Math.abs(n-r)<T?b(Math.max(n,r)):b(void 0),g(n>r)}),[h,n]),r.Ay.createElement("div",{className:(0,u.A)("Ow6Ij9O5",p&&"U_yhhC0w",y&&"HV0wCR4O"),dir:l.isRtl?"rtl":void 0,style:y?`--overwritten-width: ${y}px`:void 0},h&&r.Ay.createElement("div",{className:w},r.Ay.createElement("div",{className:(0,u.A)("lEbV6HrI",h.unreadCount&&S),ref:d,onClick:P,onMouseDown:M},r.Ay.createElement(C.A,{topic:h,observeIntersection:s}),r.Ay.createElement("div",{className:"k3Ch25ZQ"},(0,f.A)(h.title)),!y&&p&&r.Ay.createElement("div",{className:E},r.Ay.createElement("div",{className:k}))),r.Ay.createElement("div",{className:"IkuCBmvA"},m.map((e=>r.Ay.createElement("div",{className:(0,u.A)("d0hTIVJn",e.unreadCount&&S),key:e.id},r.Ay.createElement(C.A,{topic:e,className:"oknhG11L",observeIntersection:s}),r.Ay.createElement("span",{className:"ZUj3xAjs"},(0,f.A)(e.title)))))),r.Ay.createElement("div",{className:"_m_2xcPW"})),!h&&r.Ay.createElement("div",{className:(0,u.A)(w,"L4Zk0yMN")},l("Loading")),r.Ay.createElement("div",{className:(0,u.A)("KJ16dBus",h?.unreadCount&&S),ref:c,onClick:P,onMouseDown:M},n(),!y&&!p&&r.Ay.createElement("div",{className:E},r.Ay.createElement("div",{className:k}))))}));var M=n(18276),L=n(18653),N=n(80477);const B=200;function x({chat:e,topics:t,lastMessage:n,statefulMediaContent:b,chatId:A,typingStatus:I,draft:C,actionTargetMessage:w,actionTargetUserIds:S,lastMessageTopic:E,lastMessageSender:k,actionTargetChatId:T,observeIntersection:x,animationType:F,orderDiff:O,withInterfaceAnimations:D,isTopic:R,isSavedDialog:U,isPreview:_}){const $=(0,v.A)(),j=(0,r.li)(null),z=n&&(0,i._P2)(n),V=n&&(0,d.Q)(n)?.replyToMsgId;(0,p.A)(A,z?V:void 0,w);const H=n?.content.storyData,K=b&&!b.story;(0,g.A)(K?H?.peerId:void 0,H?.id,b?.story);const W=b?.story||n,J=W&&!(0,i.fP4)(W),G=J?(0,i.CIU)(W):void 0,q=(0,y.A)(J?(0,i.EOe)(W,"micro"):void 0),X=Boolean(n&&(0,i.lkW)(n)),Y=(0,r.Kr)((()=>{if(!S)return;const e=(0,o.mS)().users.byId;return S.map((t=>e[t])).filter(Boolean)}),[S]),Q=(0,r.hb)((()=>{if(!U&&!_&&I&&n&&I.timestamp>1e3*n.date)return r.Ay.createElement(N.A,{typingStatus:I});const t=C&&C.replyInfo?.replyToMsgId===E?.id,o=C?.replyInfo&&!C.text&&C.isLocal;if(!e?.isForum&&!U&&!_&&C&&!o&&(!R||!t))return r.Ay.createElement("p",{className:"last-message",dir:$.isRtl?"auto":"ltr"},r.Ay.createElement("span",{className:"draft"},$("Draft")),(0,h.f)({text:C.text?.text||"",entities:C.text?.entities,isSimple:!0,withTranslucentThumbs:!0}));if(!n)return;if((0,i.r$r)(n))return r.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:$.isRtl?"auto":"ltr"},(0,i.Pox)($,n));if(z)return r.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:$.isRtl?"auto":"ltr"},(0,l.V)($,n,k&&!(0,c.vj)(k)?k:void 0,k&&(0,c.vj)(k)?k:e,Y,w,T,E,{isEmbedded:!0},void 0,void 0));const s=(0,i.Q5I)($,A,k);return r.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:$.isRtl?"auto":"ltr"},s&&r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("span",{className:"sender-name"},(0,f.A)(s)),r.Ay.createElement("span",{className:"colon"},":")),!U&&n.forwardInfo&&r.Ay.createElement(M.A,{name:"share-filled",className:"chat-prefix-icon"}),"story"===n.replyInfo?.type&&r.Ay.createElement(M.A,{name:"story-reply",className:"chat-prefix-icon"}),function(e,t,n,o){const s=r.Ay.createElement(L.A,{message:e,noEmoji:Boolean(n),observeIntersectionForLoading:t,inChatList:!0});if(!n)return s;const a=(0,i.y2W)(e);return r.Ay.createElement("span",{className:"media-preview"},r.Ay.createElement("img",{src:n,alt:"",className:(0,u.A)("media-preview--image",o&&"round",a&&"media-preview-spoiler"),draggable:!1}),(0,i.zXI)(e)&&r.Ay.createElement(M.A,{name:"play"}),s)}(n,x,q||G,X))}),[T,w,Y,e,A,C,z,X,R,$,n,k,E,q,G,x,I,U,_]);return(0,r.Nf)((()=>{const e=j.current;if(D&&e){if(F===m.I.Opacity)e.style.opacity="0",(0,a.RK)((()=>{e.classList.add("animate-opacity"),e.style.opacity="1"}));else{if(F!==m.I.Move)return;e.style.transform=`translate3d(0, ${-O*s.yq1}px, 0)`,(0,a.RK)((()=>{e.classList.add("animate-transform"),e.style.transform=""}))}setTimeout((()=>{(0,a.RK)((()=>{e.classList.remove("animate-opacity","animate-transform"),e.style.opacity="",e.style.transform=""}))}),B+s.xB5)}}),[D,O,F]),{renderSubtitle:function(){return e?.isForum&&!R?r.Ay.createElement(P,{chat:e,renderLastMessage:Q,observeIntersection:x,topics:t}):Q()},ref:j}}},9717:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(87894),s=n(79882),a=n(73767);function i(e,t){const n=(0,r.Kr)((()=>{if(e)return e.reduce(((e,t,n)=>(e[t]=n,e)),{})}),[e]),i=(0,a.A)(n),c=(0,a.A)(t),d=(0,r.Kr)((()=>n&&i&&t===c?(0,o.LG)(n,((e,t)=>void 0!==i[t]?e-i[t]:-1/0)):{}),[t,n,c,i]);return{orderDiffById:d,getAnimationType:(0,s.W)(d)}}},58734:(e,t,n)=>{n.d(t,{Rr:()=>f,Y5:()=>l,_p:()=>d,hB:()=>u});var r=n(13439),o=n(23174),s=n(31481),a=n(87357),i=n(60261),c=n(76023);const d="img[data-document-id]";function u(e){const[t,n,r]=(0,i.Qy)(e);return`<img\n    class="${(0,a.A)("custom-emoji","emoji","emoji-small",t&&"placeholder",e.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e.emoji}"\n    data-document-id="${e.id}"\n    ${r?`data-unique-id="${r}"`:""}\n    data-entity-type="${o.C7.CustomEmoji}"\n    src="${n}"\n  />`}function l(e,t){const n=(0,r.mS)().customEmojis.byId[t.documentId],[s,c,d]=(0,i.Qy)(n);return`<img\n    class="${(0,a.A)("custom-emoji","emoji","emoji-small",s&&"placeholder",n?.shouldUseTextColor&&"colorable")}"\n    draggable="false"\n    alt="${e}"\n    data-document-id="${t.documentId}"\n    ${d?`data-unique-id="${d}"`:""}\n    data-entity-type="${o.C7.CustomEmoji}"\n    src="${c}"\n  />`}function f(e){if(e)return e>s.Apc?2.25*c.$:1===e?7*c.$:Math.min(7.5-.75*e,5.625)*c.$}},54464:(e,t,n)=>{n.d(t,{l:()=>s,u:()=>a});var r=n(31481),o=n(82393);function s(e,t=!1){o.pz||!document.activeElement||document.activeElement.id!==r.CfG||!t&&e.target!==e.currentTarget||e.preventDefault()}function a(e){s(e,!0)}},56362:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(13439),s=n(23174),a=n(29807),i=n(43874);const c=(0,o.EK)(((e,{userId:t})=>({userOrChat:t?(0,a.mBe)(e,t):void 0})))((({userId:e,username:t,userOrChat:n,children:a})=>{const{openChat:c,openChatByUsername:d,closeStoryViewer:u,setShouldCloseRightColumn:l}=(0,o.ko)(),{isMobile:f}=(0,i.Ay)();return r.Ay.createElement("a",{onClick:()=>{f&&l({value:!0}),n?c({id:n.id}):t&&(u(),d({username:t.substring(1)}))},className:"text-entity-link",dir:"auto","data-entity-type":e?s.C7.MentionName:s.C7.Mention},a)}))},75343:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(84051),o=n(13439),s=n(87357),a=n(43874),i=n(36838),c=n(59030),d=n(89925),u=n(90709),l=n(54464),f=n(10722),h=n(17712),m=n(92111),p=n(21849),g=n(71429),y=n(24433),v=n(2429);const b=(0,r.ph)((function({peer:e,isArchived:t}){const{openChat:n,openChatWithInfo:a,openStoryViewer:i,toggleStoriesHidden:b}=(0,o.ko)(),A=(0,c.A)(),I=(0,r.li)(null),C="isSelf"in e&&e.isSelf,w=!(0,u.L8L)(e.id);(0,m.A)(e.id);const{isContextMenuOpen:S,contextMenuAnchor:E,handleBeforeContextMenu:k,handleContextMenu:T,handleContextMenuClose:P,handleContextMenuHide:M}=(0,f.A)(I),L=(0,h.A)((()=>I.current)),N=(0,h.A)((()=>document.body)),B=(0,h.A)((()=>I.current.querySelector(".story-peer-context-menu .bubble"))),x=(0,h.A)((()=>({withPortal:!0,isDense:!0}))),F=(0,h.A)((()=>{S||i({peerId:e.id,origin:d.G9.StoryRibbon})})),O=(0,h.A)((e=>{(0,l.u)(e),k(e)})),D=(0,h.A)((()=>{a({id:e.id,shouldReplaceHistory:!0,profileTab:"stories"})})),R=(0,h.A)((()=>{a({id:e.id,shouldReplaceHistory:!0,profileTab:"storiesArchive"})})),U=(0,h.A)((()=>{n({id:e.id,shouldReplaceHistory:!0})})),_=(0,h.A)((()=>{a({id:e.id,shouldReplaceHistory:!0})})),$=(0,h.A)((()=>{b({peerId:e.id,isHidden:!t})}));return r.Ay.createElement("div",{ref:I,role:"button","data-peer-id":e.id,tabIndex:0,className:v.A.peer,onMouseDown:O,onClick:F,onContextMenu:T},r.Ay.createElement(p.A,{peer:e,withStory:!0,storyViewerOrigin:d.G9.StoryRibbon,storyViewerMode:"full"}),r.Ay.createElement("div",{className:(0,s.A)(v.A.name,e.hasUnreadStories&&v.A.name_hasUnreadStory)},C?A("MyStory"):(0,u.F9N)(A,e)),void 0!==E&&r.Ay.createElement(g.A,{isOpen:S,anchor:E,getTriggerElement:L,getRootElement:N,getMenuElement:B,getLayout:x,className:(0,s.A)("story-peer-context-menu",v.A.contextMenu),autoClose:!0,withPortal:!0,onClose:P,onCloseAnimationEnd:M},C?r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement(y.A,{onClick:D,icon:"play-story"},A("StoryList.Context.SavedStories")),r.Ay.createElement(y.A,{onClick:R,icon:"archive"},A("StoryList.Context.ArchivedStories"))):r.Ay.createElement(r.Ay.Fragment,null,!w&&r.Ay.createElement(y.A,{onClick:U,icon:"message"},A("SendMessageTitle")),w?r.Ay.createElement(y.A,{onClick:_,icon:"channel"},A("ChatList.ContextOpenChannel")):r.Ay.createElement(y.A,{onClick:_,icon:"user"},A("StoryList.Context.ViewProfile")),r.Ay.createElement(y.A,{onClick:$,icon:t?"unarchive":"archive"},A(t?"StoryList.Context.Unarchive":"StoryList.Context.Archive")))))})),A=(0,r.ph)((0,o.EK)(((e,{isArchived:t})=>{const{orderedPeerIds:{active:n,archived:r}}=e.stories;return{orderedPeerIds:t?r:n,usersById:e.users.byId,chatsById:e.chats.byId}}))((function({isArchived:e,className:t,orderedPeerIds:n,usersById:o,chatsById:d,isClosing:u}){const l=(0,c.A)(),f=(0,s.A)(v.A.root,!n.length&&v.A.hidden,u&&v.A.closing,t,"no-scrollbar"),h=(0,r.li)(null);return(0,i.A)(h,(0,a.Ny)()),r.Ay.createElement("div",{ref:h,id:"StoryRibbon",className:f,dir:l.isRtl?"rtl":void 0},n.map((t=>{const n=o[t]||d[t];if(n)return r.Ay.createElement(b,{key:t,peer:n,isArchived:e})})))})))},46051:(e,t,n)=>{n.d(t,{G:()=>r,w:()=>o});const r="video/mp4; codecs=hvc1.1.6.L63.00",o="video/mp4; codecs=avc1.64001E"},92111:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(84051),o=n(13439),s=n(23174),a=n(90709),i=n(29807),c=n(39761),d=n(87679),u=n(58554),l=n(95704),f=n(37836),h=n(46051),m=n(66991);const p={},g=(0,f.v7)(1e3),y=function(e,t){(0,r.vJ)((()=>{if(void 0===e)return;(Array.isArray(e)?e:[e]).forEach((e=>{const n=t||(0,o.mS)().stories.byPeerId[e]?.orderedIds?.[0];n&&(async e=>{await g,e.forEach((({hash:e,format:t,isStream:n})=>{n?async function(e){const t=(0,l.h)((0,u.RB)(e));let n=0;for await(const e of t)if(n+=e.byteLength,n>=2097152)break}(e):u.hd(e,t).then((e=>{e&&(t===s.qZ.Progressive&&function(e){const t=document.head,n=document.createElement("video");n.preload="auto",n.src=e,n.muted=!0,n.autoplay=!0,n.disableRemotePlayback=!0,n.style.display="none",t.appendChild(n),n.load(),setTimeout((()=>{(0,c.A)(n),t.removeChild(n)}),1e3)}(e),t===s.qZ.BlobUrl&&(0,d.NN)(e))}))}))})(function(e,t){const n=(0,i._bp)((0,o.mS)(),e);if(!n||!n.orderedIds?.length)return[];const r=function(e,t,n){const r=e.indexOf(t),o=Math.max(r-5,0),s=Math.min(r+5,e.length);return e.slice(o,s)}(n.orderedIds,t),c=[];return r.forEach((t=>{if(p[e]?.has(t))return;const r=n.byId[t];if(!r||!("content"in r))return;const o=Boolean(r.content.video);c.push({hash:(0,a.EN7)(r,"full"),format:o?s.qZ.Progressive:s.qZ.BlobUrl,isStream:o&&(0,m.c)(h.G)}),c.push({hash:(0,a.EN7)(r),format:s.qZ.BlobUrl}),r.content.altVideos&&c.push({hash:(0,a.EN7)(r,"full",!0),format:s.qZ.Progressive}),p[e]=(p[e]||new Set).add(t)})),c}(e,n))}))}),[t,e])}},24713:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(87357),s=n(68292),a=n(26607);const i=(0,r.ph)((({text:e,className:t,isAlternateColor:n})=>r.Ay.createElement(a.A,{className:(0,o.A)("Y3ZoW17O",n?"Lq67O2D2":"DWjOG2Ze",t),isOpen:Boolean(e)},e&&r.Ay.createElement(s.A,{text:e}))))},64493:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(84051),o=n(87357),s=n(95807),a=n(82393),i=n(17712),c=n(59030),d=n(85118),u=n(42452),l=n(57474);const f=({ref:e,type:t="button",id:n,onClick:f,onContextMenu:h,onMouseDown:m,onMouseUp:p,onMouseEnter:g,onMouseLeave:y,onFocus:v,children:b,size:A="default",color:I="primary",backgroundImage:C,className:w,round:S,pill:E,badge:k,fluid:T,isText:P,isLoading:M,isShiny:L,withPremiumGradient:N,withSparkleEffect:B,onTransitionEnd:x,ariaLabel:F,ariaControls:O,hasPopup:D,href:R,download:U,disabled:_,nonInteractive:$,allowDisabledClick:j,noFastClick:z="danger"===I,ripple:V,faded:H,tabIndex:K,isRtl:W,isRectangular:J,noPreventDefault:G,shouldStopPropagation:q,noForcedUpperCase:X,style:Y})=>{let Q=(0,r.li)(null);e&&(Q=e);const Z=(0,c.A)(),[ee,te]=(0,r.J0)(!1),ne=_||$,re=(0,o.A)("Button",w,A,I,S&&"round",E&&"pill",T&&"fluid",k&&"badge",ne&&"disabled",$&&"non-interactive",j&&"click-allowed",P&&"text",M&&"loading",V&&"has-ripple",H&&"faded",ee&&"clicked",C&&"with-image",L&&"shiny",N&&"premium",J&&"rectangular",X&&"no-upper-case"),oe=(0,i.A)((e=>{!j&&ne||!f||f(e),q&&e.stopPropagation(),te(!0),setTimeout((()=>{te(!1)}),400)})),se=(0,i.A)((e=>{G||e.preventDefault(),!j&&ne||!m||m(e),a.TF||e.button!==a.w3.Main||z||oe(e)})),ae=r.Ay.createElement(r.Ay.Fragment,null,B&&r.Ay.createElement(d.A,{preset:"button"}),M?r.Ay.createElement("div",null,r.Ay.createElement("span",{dir:W?"auto":void 0},Z("Cache.ClearProgress")),r.Ay.createElement(l.A,{color:P?"blue":"white"})):b,!ne&&V&&r.Ay.createElement(u.A,null));return R?r.Ay.createElement("a",{ref:Q,id:n,className:re,href:R,title:F,download:U,tabIndex:K,dir:W?"rtl":void 0,"aria-label":F,"aria-controls":O,style:Y,onTransitionEnd:x,target:"_blank",rel:"noreferrer"},ae):r.Ay.createElement("button",{ref:Q,id:n,type:t,className:re,onClick:a.TF||z?oe:void 0,onContextMenu:h,onMouseDown:se,onMouseUp:p,onMouseEnter:g&&!ne?g:void 0,onMouseLeave:y&&!ne?y:void 0,onTransitionEnd:x,onFocus:v&&!ne?v:void 0,"aria-label":F,"aria-controls":O,"aria-haspopup":D,title:F,tabIndex:K,dir:W?"rtl":void 0,style:(0,s.A)(Y,C&&`background-image: url(${C})`)||void 0},ae)}},19806:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(84051),o=n(87357),s=n(4961),a=n(17712),i=n(59030),c=n(18276),d=n(64493),u=n(57474);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const f=({id:e,name:t,value:n,label:h,labelText:m,subLabel:p,checked:g,tabIndex:y,disabled:v,withIcon:b,blocking:A,permissionGroup:I,isLoading:C,className:w,rightIcon:S,onlyInput:E,isRound:k,nestedCheckbox:T,nestedCheckboxCount:P,nestedOptionList:M,leftElement:L,values:N=[],onChange:B,onCheck:x,onClickLabel:F})=>{const O=(0,i.A)(),D=(0,r.li)(null),[R,U]=(0,r.J0)(!1),_=(0,a.A)((e=>{v||(B&&B(e,M),x&&x(e.currentTarget.checked))})),$=(0,a.A)((()=>{U(!R)})),j=(0,o.A)("Checkbox",v&&"disabled",b&&"withIcon",C&&"loading",A&&"blocking",T&&"nested",p&&"withSubLabel",I&&"permission-group",Boolean(L)&&"avatar",E&&"onlyInput",k&&"round",Boolean(S)&&"withNestedList",w);return r.Ay.createElement(r.Ay.Fragment,null,r.Ay.createElement("label",{className:j,dir:O.isRtl?"rtl":void 0,onClick:F?function(e){e.target!==D.current&&F?.(e,n)}:void 0,ref:D},r.Ay.createElement("input",{type:"checkbox",id:e,name:t,value:n,checked:g,disabled:v,tabIndex:y,onChange:_,onClick:F?function(e){e.stopPropagation()}:void 0}),r.Ay.createElement("div",{className:(0,o.A)("Checkbox-main",Boolean(L)&&"Nested-avatar-list")},r.Ay.createElement("span",{className:"label",dir:"auto"},L,"string"==typeof h?(0,s.A)(h):h,m&&r.Ay.createElement("span",{className:"ml-1"},(0,s.A)(m))),p&&r.Ay.createElement("span",{className:"subLabel",dir:"auto"},(0,s.A)(p)),S&&r.Ay.createElement(c.A,{name:S,className:"right-icon"})),T&&r.Ay.createElement("span",{className:"nestedButton",dir:"auto"},r.Ay.createElement(d.A,{className:"button",color:"translucent",size:"smaller",onClick:$},r.Ay.createElement(c.A,{name:"group-filled",className:"group-icon"}),P,r.Ay.createElement(c.A,{name:R?"up":"down"}))),C&&r.Ay.createElement(u.A,null)),T&&r.Ay.createElement("div",{className:(0,o.A)("nested-checkbox-group",R&&"nested-checkbox-group-open")},M?.nestedOptions?.map((e=>r.Ay.createElement(f,l({key:e.value,leftElement:L,onChange:_,checked:-1!==N.indexOf(e.value),values:N},e))))))},h=(0,r.ph)(f)},22699:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(18276),s=n(64493),a=n(71429);const i=({trigger:e,className:t,children:n,transformOriginX:i,transformOriginY:c,positionX:d="left",positionY:u="top",footer:l,forceOpen:f,onOpen:h,onClose:m,onTransitionEnd:p,onMouseEnterBackdrop:g,onHide:y,autoClose:v=!0})=>{const b=(0,r.li)(null),[A,I]=(0,r.J0)(!1),C=(0,r.hb)((()=>{I(!1),m?.()}),[m]),w=(0,r.Kr)((()=>e||(({onTrigger:e,isOpen:t})=>r.Ay.createElement(s.A,{round:!0,size:"smaller",color:"translucent",className:t?"active":"",onClick:e,ariaLabel:"More actions"},r.Ay.createElement(o.A,{name:"more"})))),[e]);return r.Ay.createElement("div",{className:`DropdownMenu ${t||""}`,onKeyDown:e=>{const t=b.current;if(!A||40!==e.keyCode||!t)return;const n=document.activeElement,r=Array.from(t.children);n&&-1!==r.indexOf(n)||r[0].focus()},onTransitionEnd:p},w({onTrigger:()=>{I(!A),A?m?.():h?.()},isOpen:A}),r.Ay.createElement(a.A,{ref:b,isOpen:A||Boolean(f),className:t||"",transformOriginX:i,transformOriginY:c,positionX:d,positionY:u,footer:l,autoClose:v,onClose:C,onCloseAnimationEnd:y,onMouseEnterBackdrop:g},n))}},46222:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(84051),o=n(89925),s=n(66644),a=n(95807),i=n(9718),c=n(37836),d=n(82393),u=n(17712);const l=({ref:e,style:t,className:n,items:l,itemSelector:f=".ListItem",preloadBackwards:h=20,sensitiveArea:m=800,withAbsolutePositioning:p,maxHeight:g,noScrollRestore:y=!1,noScrollRestoreOnTop:v=!1,noFastList:b,cacheBuster:A,beforeChildren:I,children:C,scrollContainerClosest:w,onLoadMore:S,onScroll:E,onWheel:k,onClick:T,onKeyDown:P,onDragOver:M,onDragLeave:L})=>{let N=(0,r.li)(null);e&&(N=e);const B=(0,r.li)({}),[x,F]=(0,r.Kr)((()=>S?[(0,c.sg)(((e=!1)=>{S({direction:o.TN.Backwards,noScroll:e})}),1e3,!0,!1),(0,c.sg)((()=>{S({direction:o.TN.Forwards})}),1e3,!0,!1)]:[]),[S,l]);(0,r.vJ)((()=>{const e=w?N.current.closest(w):N.current;if(!x||!e)return;if(h>0&&(!l||l.length<h))return void x(!0);const{scrollHeight:t,clientHeight:n}=e;n&&t<n&&x()}),[l,x,h,w]),(0,r.Nf)((()=>{const e=w?N.current.closest(w):N.current,t=N.current;(0,s.gm)((()=>{const n=B.current;let r;if(n.listItemElements=t.querySelectorAll(f),n.currentAnchor&&Array.from(n.listItemElements).includes(n.currentAnchor)){const{scrollTop:t}=e,o=n.currentAnchor.getBoundingClientRect().top;r=t+(o-n.currentAnchorTop)}else{const e=n.listItemElements[0];e&&(n.currentAnchor=e,n.currentAnchorTop=e.getBoundingClientRect().top)}if(p||y)return;const{scrollTop:o}=e;return v&&0===o?void 0:()=>{(0,i.A)(e,r),n.isScrollTopJustUpdated=!0}}))}),[l,f,y,v,A,p,w]);const O=(0,u.A)((e=>{if(F&&x){const{isScrollTopJustUpdated:e,currentAnchor:t,currentAnchorTop:n}=B.current,r=B.current.listItemElements;if(e)return void(B.current.isScrollTopJustUpdated=!1);const o=r.length,s=w?N.current.closest(w):N.current,{scrollTop:a,scrollHeight:i,offsetHeight:c}=s,d=a<=(o?r[0].offsetTop:0)+m,u=(o?r[o-1].offsetTop+r[o-1].offsetHeight:i)-(a+c)<=m;let l=!1;if(d){const e=r[0];if(e){const r=e.getBoundingClientRect().top,o=t?.offsetParent&&t!==e?t.getBoundingClientRect().top:r;t&&void 0!==n&&o>n&&(B.current.currentAnchor=e,B.current.currentAnchorTop=r,l=!0,F())}}if(u){const e=r[o-1];if(e){const r=e.getBoundingClientRect().top,o=t?.offsetParent&&t!==e?t.getBoundingClientRect().top:r;t&&void 0!==n&&o<n&&(B.current.currentAnchor=e,B.current.currentAnchorTop=r,l=!0,x())}}if(!l)if(t?.offsetParent)B.current.currentAnchorTop=t.getBoundingClientRect().top;else{const e=r[0];e&&(B.current.currentAnchor=e,B.current.currentAnchorTop=e.getBoundingClientRect().top)}}E&&E(e)}));return(0,r.Nf)((()=>{const e=w?N.current.closest(w):N.current;if(!e)return;const t=e=>O(e);return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}),[O,w]),r.Ay.createElement("div",{ref:N,className:n,onWheel:k,teactFastList:!b&&!p,onKeyDown:P,onDragOver:M,onDragLeave:L,onClick:T,style:t},I,p&&l?.length?r.Ay.createElement("div",{teactFastList:!b,style:(0,a.A)("position: relative",d.Ni&&`height: ${g}px`)},C):C)}},40664:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(87357),s=n(59030);const a=(0,r.ph)((({ref:e,id:t,className:n,value:a,label:i,error:c,success:d,disabled:u,readOnly:l,placeholder:f,autoComplete:h,inputMode:m,maxLength:p,tabIndex:g,teactExperimentControlled:y,onChange:v,onInput:b,onKeyPress:A,onKeyDown:I,onBlur:C,onPaste:w})=>{const S=(0,s.A)(),E=c||d||i,k=(0,o.A)("input-group",a&&"touched",c?"error":d&&"success",u&&"disabled",l&&"disabled",E&&"with-label",n);return r.Ay.createElement("div",{className:k,dir:S.isRtl?"rtl":void 0},r.Ay.createElement("input",{ref:e,className:"form-control",type:"text",id:t,dir:"auto",value:a||"",tabIndex:g,placeholder:f,maxLength:p,autoComplete:h,inputMode:m,disabled:u,readOnly:l,onChange:v,onInput:b,onKeyPress:A,onKeyDown:I,onBlur:C,onPaste:w,"aria-label":E,teactExperimentControlled:y}),E&&r.Ay.createElement("label",{htmlFor:t},E))}))},96530:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(87357),s=n(17712);const a=({children:e,isPrimary:t,className:n,isRtl:a,onClick:i})=>{const c=(0,s.A)((e=>{e.preventDefault(),i(e)}));return r.Ay.createElement("a",{href:"#",className:(0,o.A)("Link","swBnOk1h",n,t&&"Jz1SC8nz"),dir:a?"rtl":"auto",onClick:i?c:void 0},e)}},22720:(e,t,n)=>{n.d(t,{A:()=>b});var r=n(84051),o=n(66644),s=n(87357),a=n(82393),i=n(4961),c=n(10722),d=n(11217),u=n(37661),l=n(17712),f=n(59030),h=n(18276),m=n(64493),p=n(71429),g=n(24433),y=n(60859),v=n(42452);const b=({ref:e,buttonRef:t,icon:n,iconClassName:b,leftElement:A,buttonClassName:I,menuBubbleClassName:C,secondaryIcon:w,secondaryIconClassName:S,rightElement:E,className:k,style:T,children:P,disabled:M,allowDisabledClick:L,ripple:N,narrow:B,inactive:x,focus:F,destructive:O,multiline:D,isStatic:R,allowSelection:U,withColorTransition:_,contextActions:$,withPortalForMenu:j,href:z,onMouseDown:V,onClick:H,onContextMenu:K,clickArg:W,onSecondaryIconClick:J,onDragEnter:G,nonInteractive:q})=>{let X=(0,r.li)(null);e&&(X=e);const[Y,Q,Z]=(0,u.A)(),{isContextMenuOpen:ee,contextMenuAnchor:te,handleBeforeContextMenu:ne,handleContextMenu:re,handleContextMenuClose:oe,handleContextMenuHide:se}=(0,c.A)(X,!$),ae=(0,l.A)((()=>X.current)),ie=(0,l.A)((()=>X.current.closest(".custom-scroll"))),ce=(0,l.A)((()=>(j?document.querySelector("#portals"):X.current).querySelector(".ListItem-context-menu .bubble"))),de=(0,l.A)((()=>({withPortal:j}))),ue=(0,l.A)((e=>{e.ctrlKey||e.metaKey||e.shiftKey||e.button!==a.w3.Main||e.preventDefault()})),le=(0,l.A)((e=>{if((!M||L)&&H){if(z){if((e.ctrlKey||e.metaKey||e.shiftKey)&&e.button===a.w3.Main||e.button===a.w3.Auxiliary)return;e.preventDefault()}H(e,W),a.TF&&!N&&(Q(),(0,o.YS)(Z))}})),{handleClick:fe,handleMouseDown:he}=(0,d.Q)((e=>{M&&!L||0!==e.button||!J&&!$||(e.stopPropagation(),J?J(e):re(e))})),me=(0,l.A)((e=>{x||a.TF||(!$||e.button!==a.w3.Secondary&&H||ne(e),e.button===a.w3.Main&&(H?le(e):re(e)))})),pe=(0,f.A)(),ge=(0,s.A)("ListItem",k,U&&"allow-selection",N&&"has-ripple",B&&"narrow",M&&"disabled",L&&"click-allowed",x&&"inactive",te&&"has-menu-open",F&&"focus",O&&"destructive",D&&"multiline",R&&"is-static",_&&"with-color-transition"),ye=z?"a":"div";return r.Ay.createElement("div",{ref:X,className:ge,dir:pe.isRtl?"rtl":void 0,style:T,onMouseDown:V,onDragEnter:G},r.Ay.createElement(ye,{className:(0,s.A)("ListItem-button",Y&&"active",I),role:R?void 0:"button",href:z,ref:t,tabIndex:R?void 0:0,onClick:!x&&a.TF?le:ue,onMouseDown:me,onContextMenu:K||(!x&&$?re:void 0)},!M&&!x&&N&&r.Ay.createElement(v.A,null),A,n&&r.Ay.createElement(h.A,{name:n,className:(0,s.A)("ListItem-main-icon",b)}),D&&r.Ay.createElement("div",{className:"multiline-item"},P),!D&&P,w&&r.Ay.createElement(m.A,{nonInteractive:q,className:(0,s.A)("secondary-icon",S),round:!0,color:"translucent",size:"smaller",onClick:fe,onMouseDown:he},r.Ay.createElement(h.A,{name:w})),E),$&&void 0!==te&&r.Ay.createElement(p.A,{isOpen:ee,anchor:te,getTriggerElement:ae,getRootElement:ie,getMenuElement:ce,getLayout:de,className:"ListItem-context-menu with-menu-transitions",autoClose:!0,onClose:oe,onCloseAnimationEnd:se,withPortal:j,bubbleClassName:C},$.map((e=>"isSeparator"in e?r.Ay.createElement(y.A,{key:e.key||"separator"}):r.Ay.createElement(g.A,{key:e.title,icon:e.icon,destructive:e.destructive,disabled:!e.handler,onClick:e.handler},r.Ay.createElement("span",{className:"list-item-ellipsis"},(0,i.A)(e.title)))))))}},52745:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(87357),s=n(57474);const a=(0,r.ph)((({color:e="blue",backgroundColor:t,className:n,onClick:a})=>r.Ay.createElement("div",{className:(0,o.A)("Loading",a&&"interactive",n),onClick:a},r.Ay.createElement(s.A,{color:e,backgroundColor:t}))))},71429:(e,t,n)=>{n.d(t,{A:()=>I});var r=n(84051),o=n(87357),s=n(11778),a=n(82393),i=n(54464),c=n(43874),d=n(82117),u=n(26072),l=n(10328),f=n(17712),h=n(61433),m=n(66644),p=n(41257);const g={width:0,left:0,height:0,top:0};function y(e,t,{positionX:n="left",positionY:r="top",transformOriginX:o,transformOriginY:s,style:a,bubbleStyle:i}){const c=e.current,d=t.current;a&&(c.style.cssText=a),i&&(d.style.cssText=i),n&&(0,h.YM)(d,n),r&&(0,h.YM)(d,r),(0,h.Tv)(d,{transformOrigin:[o?`${o}px`:n,s?`${s}px`:r].join(" ")})}var v=n(21511),b=n(22802),A=n(3325);const I=(0,r.ph)((({ref:e,shouldCloseFast:t,isOpen:n,id:h,className:I,bubbleClassName:C,ariaLabelledBy:w,children:S,autoClose:E=!1,footer:k,noCloseOnBackdrop:T=!1,backdropExcludedSelector:P,noCompact:M,onCloseAnimationEnd:L,onClose:N,onMouseEnter:B,onMouseLeave:x,withPortal:F,onMouseEnterBackdrop:O,...D})=>{const{isTouchScreen:R}=(0,c.Ay)(),U=(0,r.li)(null),{ref:_}=(0,v.A)({isOpen:n,ref:e,onCloseAnimationEnd:L});(function(e,t,n,o){const s=(0,p.i)(o);(0,r.Nf)((()=>{if(!e)return;const r=s.current;"getTriggerElement"in r?(0,m.gm)((()=>{const e=function(e,t,{anchor:n,getRootElement:r,getMenuElement:o,getTriggerElement:s,getLayout:a,withMaxHeight:i}){const c=s();let{x:d,y:u}=n;const l=d,f=u,h=o(),m=r(),{extraPaddingX:p=0,extraTopPadding:y=0,extraMarginTop:v=0,topShiftY:b=0,menuElMinWidth:A=0,deltaX:I=0,shouldAvoidNegativePosition:C=!1,withPortal:w=!1,isDense:S=!1}=a?.()||{},E=h?parseInt(getComputedStyle(h).marginTop,10)+v:void 0,{offsetWidth:k,offsetHeight:T}=h||{offsetWidth:0,offsetHeight:0},P=h?{width:Math.max(k,A),height:T+E}:g,M=m?m.getBoundingClientRect():g;let L,N;S||d+P.width+p<M.width+M.left?(d+=3,L="left"):d-P.width-M.left>0?(L="right",d-=3):(L="left",d=16),d+=I;const B=u+b;S||B+P.height<M.height+M.top?(N="top",u=B):(N="bottom",u-P.height<M.top+y&&(u=M.top+M.height));const x=c.getBoundingClientRect(),F=w?x.top:0,O=w?x.left:0,D=Math.min(d-x.left,M.width-P.width-16);let R=("left"===L?w||C?Math.max(16,D):D:d-x.left)+O,U=u-x.top+F;S&&(R=Math.min(R,M.width-P.width-16),U=Math.min(U,M.height-P.height-16));const _=A?Math.max(0,(A-k)/2):0;R-_<0&&C&&(R=_+16);const $=l+O-x.left-R,j=f+F-x.top-U-(E||0),z="left"===L?$:P.width+$,V="bottom"===N?P.height+j:j,H=`left: ${R}px; top: ${U}px`;let K;return i&&(K=`max-height: ${M.height-12-(E||0)}px;`),{positionX:L,positionY:N,transformOriginX:z,transformOriginY:V,style:H,bubbleStyle:K}}(0,0,r);return()=>{y(t,n,e)}})):y(t,n,r)}),[e,t,n,s])})(n,U,_,D),(0,r.vJ)((()=>n?(0,s.A)(N):void 0),[n,N]),(0,u.A)({isActive:n,onBack:N,shouldBeReplaced:!0}),(0,d.A)((([e])=>{(n||!n&&!0===e)&&(0,r.VK)(200)}),[n]);const $=(0,l.A)(_,n,E?N:void 0,void 0,!0);(0,b.A)(n,U,T?void 0:N,void 0,P);const j=(0,o.A)("bubble menu-container custom-scroll",k&&"with-footer",C,t&&"close-fast"),z=(0,f.A)((e=>{e.stopPropagation(),E&&N()})),V=r.Ay.createElement("div",{ref:U,id:h,className:(0,o.A)("Menu",!M&&!R&&"compact",!a.Fy&&"no-blur",F&&"in-portal",I),"aria-labelledby":w,role:w?"menu":void 0,onKeyDown:n?$:void 0,onMouseEnter:B,onMouseLeave:n?x:void 0},n&&r.Ay.createElement("div",{className:"backdrop",onMouseDown:i.u,onMouseEnter:O}),r.Ay.createElement("div",{role:"presentation",ref:_,className:j,onClick:z},S,k&&r.Ay.createElement("div",{className:"footer"},k)));return F?r.Ay.createElement(A.A,null,V):V}))},24433:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(31481),s=n(87357),a=n(43874),i=n(17712),c=n(59030),d=n(18276);const u=e=>{const{icon:t,isCharIcon:n,customIcon:u,className:l,children:f,onClick:h,href:m,download:p,disabled:g,destructive:y,ariaLabel:v,withWrap:b,onContextMenu:A,clickArg:I,withPreventDefaultOnMouseDown:C}=e,w=(0,c.A)(),{isTouchScreen:S}=(0,a.Ay)(),E=(0,i.A)((e=>{!g&&h?h(e,I):e.preventDefault()})),k=(0,i.A)((e=>{13!==e.keyCode&&32!==e.keyCode||(!g&&h?h(e,I):e.preventDefault())})),T=(0,i.A)((e=>{C&&e.preventDefault()})),P=(0,s.A)("MenuItem",l,g&&"disabled",y&&"destructive",!S&&"compact",b&&"wrap"),M=r.Ay.createElement(r.Ay.Fragment,null,!u&&t&&r.Ay.createElement(d.A,{name:n?"char":t,character:n?t:void 0}),u,f);return m?r.Ay.createElement("a",{tabIndex:0,className:P,href:m,download:p,"aria-label":v,title:v,target:m.startsWith(window.location.origin)||o.W75?"_self":"_blank",rel:"noopener noreferrer",dir:w.isRtl?"rtl":void 0,onClick:h,onMouseDown:T},M):r.Ay.createElement("div",{role:"menuitem",tabIndex:0,className:P,onClick:E,onKeyDown:k,onMouseDown:T,onContextMenu:A,"aria-label":v,title:v,dir:w.isRtl?"rtl":void 0},M)}},60859:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(87357);const s={root:"h039vb1K",thin:"NGKaFgra",thick:"_BdnjPEa"},a=({className:e,size:t="thin"})=>r.Ay.createElement("div",{className:(0,o.A)(s.root,s[t],e)})},47970:(e,t,n)=>{n.d(t,{U:()=>g,A:()=>y});var r=n(84051),o=n(87357),s=n(52674),a=n(14680),i=n(91034),c=n(26072),d=n(17712),u=n(37859),l=n(59030),f=n(21511),h=n(18276),m=n(64493),p=n(3325);const g=200,y=(0,i.A)((({dialogRef:e,title:t,className:n,contentClassName:i,headerClassName:y,isOpen:v,isSlim:b,header:A,hasCloseButton:I,hasAbsoluteCloseButton:C,absoluteCloseButtonColor:w="translucent",noBackdrop:S,noBackdropClose:E,children:k,style:T,dialogStyle:P,isLowStackPriority:M,dialogContent:L,onClose:N,onCloseAnimationEnd:B,onEnter:x})=>{const{ref:F,shouldRender:O}=(0,f.A)({isOpen:v,onCloseAnimationEnd:B,withShouldRender:!0}),D=I||C;(0,r.vJ)((()=>{if(v)return(0,a.FD)(),a.wb}),[v]);const R=(0,d.A)((e=>!!x&&(e.preventDefault(),x(),!0)));(0,r.vJ)((()=>v?(0,s.A)({onEsc:N,onEnter:R}):void 0),[v,N,R]),(0,r.vJ)((()=>v&&F.current?function(e){function t(t){if("Tab"!==t.key)return;t.preventDefault(),t.stopPropagation();const n=Array.from(e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(!n.length)return;const r=n.findIndex((e=>e.isSameNode(document.activeElement)));let o=0;r>=0&&(o=t.shiftKey?r>0?r-1:n.length-1:r<n.length-1?r+1:0),n[o].focus()}return document.addEventListener("keydown",t,!1),()=>{document.removeEventListener("keydown",t,!1)}}(F.current):void 0),[v,F]),(0,c.A)({isActive:v,onBack:N}),(0,u.A)((([e])=>(document.body.classList.toggle("has-open-dialog",Boolean(v)),(v||!v&&void 0!==e)&&(0,r.VK)(g),()=>{document.body.classList.remove("has-open-dialog")})),[v]);const U=(0,l.A)();if(!O)return;const _=(0,o.A)("Modal",n,S&&"transparent-backdrop",b&&"slim",M&&"low-priority");return r.Ay.createElement(p.A,null,r.Ay.createElement("div",{ref:F,className:_,tabIndex:-1,role:"dialog"},r.Ay.createElement("div",{className:"modal-container"},r.Ay.createElement("div",{className:"modal-backdrop",onClick:E?void 0:N}),r.Ay.createElement("div",{className:"modal-dialog",ref:e,style:P},function(){if(A)return A;if(!t&&!D)return;const e=r.Ay.createElement(m.A,{className:(0,o.A)(C&&"modal-absolute-close-button"),round:!0,color:w,size:"smaller",ariaLabel:U("Close"),onClick:N},r.Ay.createElement(h.A,{name:"close"}));return C?e:r.Ay.createElement("div",{className:(0,o.A)("modal-header",y)},D&&e,r.Ay.createElement("div",{className:"modal-title"},t))}(),L,r.Ay.createElement("div",{className:(0,o.A)("modal-content custom-scroll",i),style:T},k)))))}))},65843:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(84051),o=n(71533),s=n(17712),a=n(35297),i=n(73622),c=n(66644),d=n(84080),u=n(34780),l=n(61157);function f(){return(0,r.OV)()||(0,u.c_)()||(0,l.g)()}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}const m=(0,r.ph)((function({ref:e,isPriority:t,canPlay:n,children:m,onReady:p,onBroken:g,onTimeUpdate:y,...v}){const b=(0,r.li)(null);e||(e=b);const{handlePlaying:A}=function(e,t,n){const o=(0,r.li)();o.current=t;const{play:a,pause:i}=function(e){const t=(0,r.li)(!1),n=(0,r.li)(!1);return{play:(0,s.A)((()=>{t.current=!1,e.current&&!n.current&&document.body.contains(e.current)&&(n.current=!0,e.current.play().then((()=>{n.current=!1,t.current&&(e.current?.pause(),t.current=!1)})).catch((e=>{console.warn(e)})))})),pause:(0,s.A)((()=>{n.current?t.current=!0:e.current?.pause()}))}}(e),h=(0,s.A)((()=>{!o.current||!n&&f()||a()})),m=(0,s.A)((()=>{(0,c.YS)(h)}));(0,l.A)(i,m,!t||n),(0,d.Ay)(i,h,!t||n),(0,u.Ay)(i,h,!t||n);const p=(0,s.A)((()=>{(!o.current||!n&&f())&&i()}));return(0,r.vJ)((()=>{t?!n&&f()||a():i()}),[t,a,i,n]),{handlePlaying:p}}(e,n,t),I=(0,r.li)(!1),C=(0,s.A)((()=>{I.current||(p?.(),I.current=!0)})),{isBuffered:w,bufferingHandlers:S}=(0,o.A)(!0,y,g),{onPlaying:E,...k}=S;(0,a.A)((([e])=>{void 0!==e&&C()}),[w,C]);const T=(0,s.A)((e=>{A(),E(e),C(),v.onPlaying?.(e)})),P=(0,r.Kr)((()=>{const e={};return Object.keys(k).forEach((t=>{const n=t;e[n]=e=>{v[n]?.(e),k[n]?.(e)}})),e}),[k,v]);return(0,i.A)(e,P),r.Ay.createElement("video",h({ref:e,autoPlay:!0},v,P,{onPlaying:T}),m)}))},3325:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(61433);const s=({containerSelector:e,className:t,children:n})=>{const s=(0,r.li)();return s.current||(s.current=document.createElement("div")),(0,r.Nf)((()=>{const n=document.querySelector(e||"#portals");if(!n)return;const r=s.current;return t&&r.classList.add(t),n.appendChild(r),()=>{o.Ay.render(void 0,r),n.removeChild(r)}}),[t,e]),o.Ay.render(n,s.current)}},42452:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(37836),s=n(17712);const a=(0,r.ph)((()=>{const[e,t]=(0,r.J0)([]),n=(0,r.Kr)((()=>(0,o.sg)((()=>{t([])}),700,!1)),[]),a=(0,s.A)((r=>{if(0!==r.button)return;const o=r.currentTarget,s=o.getBoundingClientRect(),a=o.offsetWidth/2;t([...e,{x:r.clientX-s.x-a/2,y:r.clientY-s.y-a/2,size:a}]),n()}));return r.Ay.createElement("div",{className:"ripple-container",onMouseDown:a},e.map((({x:e,y:t,size:n})=>r.Ay.createElement("div",{className:"ripple-wave",style:`left: ${e}px; top: ${t}px; width: ${n}px; height: ${n}px;`}))))}))},26607:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(73767),s=n(21511);const a=({isOpen:e,isHidden:t,isCustom:n,id:a,className:i,onClick:c,children:d,noCloseTransition:u,shouldAnimateFirstRender:l,style:f,ref:h})=>{const m=(0,o.A)(e),p=(0,o.A)(d),g=(0,r.li)(),y=void 0===m,{ref:v,shouldRender:b}=(0,s.A)({isOpen:e&&!t,ref:h,noMountTransition:y&&!l,className:!n&&void 0,noCloseTransition:u,withShouldRender:!0});return m&&!e&&(g.current=p),(b||t)&&r.Ay.createElement("div",{id:a,ref:v,className:i,onClick:c,style:f},e?d:g.current)}},57474:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(87357);const s=({color:e="blue",backgroundColor:t,className:n})=>r.Ay.createElement("div",{className:(0,o.A)("Spinner",n,e,t&&"with-background",t&&`bg-${t}`)},r.Ay.createElement("div",{className:"Spinner__inner"}))},34132:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(84051),o=n(66644),s=n(87357),a=n(41402),i=n(82393),c=n(4961),d=n(10722),u=n(11217),l=n(17712),f=n(18276),h=n(71429),m=n(24433),p=n(60859);const g="Tab--active",y=({className:e,title:t,isActive:n,isBlocked:y,badgeCount:v,isBadgeActive:b,previousActiveTab:A,onClick:I,clickArg:C,contextActions:w,contextRootElementSelector:S})=>{const E=(0,r.li)(null);(0,r.Nf)((()=>{n&&void 0===A&&E.current&&E.current.classList.add(g)}),[n,A]),(0,r.vJ)((()=>{if(!n||void 0===A)return;const e=E.current,t=e.parentElement.children[A];if(!t)return void(n&&!e.classList.contains(g)&&(0,o.RK)((()=>{e.classList.add(g)})));const r=e.querySelector(".platform"),s=t.querySelector(".platform"),i=s.parentElement.offsetLeft-r.parentElement.offsetLeft,c=s.clientWidth/r.clientWidth;(0,o.RK)((()=>{s.classList.remove("animate"),r.classList.remove("animate"),r.style.transform=`translate3d(${i}px, 0, 0) scale3d(${c}, 1, 1)`,(0,o.gm)((()=>((0,a.A)(r),()=>{r.classList.add("animate"),r.style.transform="none",t.classList.remove(g),e.classList.add(g)})))}))}),[n,A]);const{contextMenuAnchor:k,handleContextMenu:T,handleBeforeContextMenu:P,handleContextMenuClose:M,handleContextMenuHide:L,isContextMenuOpen:N}=(0,d.A)(E,!w),{handleClick:B,handleMouseDown:x}=(0,u.Q)((e=>{!w||e.button!==i.w3.Secondary&&I||P(e),"mousedown"===e.type&&e.button!==i.w3.Main||I?.(C)})),F=(0,l.A)((()=>E.current)),O=(0,l.A)((()=>S?E.current.closest(S):document.body)),D=(0,l.A)((()=>document.querySelector("#portals").querySelector(".Tab-context-menu .bubble"))),R=(0,l.A)((()=>({withPortal:!0})));return r.Ay.createElement("div",{className:(0,s.A)("Tab",I&&"Tab--interactive",e),onClick:B,onMouseDown:x,onContextMenu:T,ref:E},r.Ay.createElement("span",{className:"Tab_inner"},"string"==typeof t?(0,c.A)(t):t,Boolean(v)&&r.Ay.createElement("span",{className:(0,s.A)("badge",b&&"Tab__badge--active")},v),y&&r.Ay.createElement(f.A,{name:"lock-badge",className:"blocked"}),r.Ay.createElement("i",{className:"platform"})),w&&void 0!==k&&r.Ay.createElement(h.A,{isOpen:N,anchor:k,getTriggerElement:F,getRootElement:O,getMenuElement:D,getLayout:R,className:"Tab-context-menu",autoClose:!0,onClose:M,onCloseAnimationEnd:L,withPortal:!0},w.map((e=>"isSeparator"in e?r.Ay.createElement(p.A,{key:e.key||"separator"}):r.Ay.createElement(m.A,{key:e.title,icon:e.icon,destructive:e.destructive,disabled:!e.handler,onClick:e.handler},e.title)))))}},24680:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(84051),o=n(57446),s=n(87357),a=n(82393),i=n(36838),c=n(59030),d=n(73767),u=n(34132);const l=a.pz?450:a.Ni?400:300,f=(0,r.ph)((({tabs:e,activeTab:t,onSwitchTab:n,contextRootElementSelector:a,className:f,tabClassName:h})=>{const m=(0,r.li)(null),p=(0,d.A)(t);(0,i.A)(m,void 0,!0),(0,r.vJ)((()=>{const e=m.current,{scrollWidth:n,offsetWidth:r,scrollLeft:s}=e;if(n<=r)return;const a=e.childNodes[t];if(!a)return;const{offsetLeft:i,offsetWidth:c}=a,d=i-r/2+c/2;Math.abs(d-s)<16||(0,o.A)(e,d,l)}),[t]);const g=(0,c.A)();return r.Ay.createElement("div",{className:(0,s.A)("TabList","no-scrollbar",f),ref:m,dir:g.isRtl?"rtl":void 0},e.map(((e,o)=>r.Ay.createElement(u.A,{key:e.id,title:e.title,isActive:o===t,isBlocked:e.isBlocked,badgeCount:e.badgeCount,isBadgeActive:e.isBadgeActive,previousActiveTab:p,onClick:n,clickArg:o,contextActions:e.contextActions,contextRootElementSelector:a,className:h}))))}))},41036:(e,t,n)=>{n.d(t,{Ay:()=>w,VY:()=>I,uo:()=>A});var r=n(84051),o=n(61433),s=n(13439),a=n(66644),i=n(29807),c=n(87357),d=n(25903),u=n(41402),l=n(87894),f=n(55994),h=n(30857),m=n(73767);const p="Transition_slide",g="Transition_slide-active",y="Transition_slide-from",v="Transition_slide-to",b="Transition_slide-inactive",A=g,I=v,C=new Set(["slide","slideRtl","slideFade","zoomFade","zoomBounceSemiFade","slideLayers","pushSlide","reveal","slideOptimized","slideOptimizedRtl","slideVertical","slideVerticalFade"]),w=function({ref:e,activeKey:t,nextKey:n,name:A,direction:I="auto",renderCount:w,shouldRestoreHeight:S,shouldCleanup:E,cleanupExceptionKey:k,cleanupOnlyKey:T,shouldWrap:P,wrapExceptionKey:M,id:L,className:N,slideClassName:B,withSwipeControl:x,isBlockingAnimation:F,onStart:O,onStop:D,children:R}){const U=(0,r.li)(),_=C.has(A)&&!(0,i.PKK)((0,s.mS)());let $=(0,r.li)(null);e&&($=e);const j=(0,r.li)({}),z=(0,m.A)(t),V=(0,h.A)(),H=(0,r.li)(!1),K=(0,r.li)(!1),W=void 0!==z&&t!==z;!w&&W&&(j.current={[z]:j.current[z]}),j.current[t]=R,n&&(j.current[n]=R);const J=-1===I||"auto"===I&&z>t||"inverse"===I&&z<t;(0,r.Nf)((()=>{function e(){E&&(j.current=void 0!==k?{[k]:j.current[k]}:void 0!==T?(0,l.cJ)(j.current,[T]):{},V())}const n="slideOptimized"===A||"slideOptimizedRtl"===A,s=$.current,i=Object.keys(j.current).map(Number),c=w?z:i.indexOf(z),h=w?t:i.indexOf(t),m=Array.from(s.childNodes);if(!m.length)return;const I=Array.from(s.children);if(I.forEach((e=>{(0,o.YM)(e,p),B&&B.split(/\s+/).forEach((t=>{(0,o.YM)(e,t)}))})),!W){if(H.current)return;return void I.forEach((e=>{e===m[h]?((0,o.YM)(e,g),n&&(0,o.Tv)(e,{transition:"none",transform:"translate3d(0, 0, 0)"})):n||(0,o.YM)(e,b)}))}if(U.current=t,n){if(!m[h])return;return void function(e,t,n,s,i,c,l,f,h,m,p,y,v,b){if(e)return(0,o.dH)(f,`Transition-${t}`,!n),(0,o.dH)(f,`Transition-${t}Backwards`,n),m instanceof HTMLElement&&((0,o.HW)(m,g),(0,o.Tv)(m,{transition:"none",transform:""})),h instanceof HTMLElement&&((0,o.YM)(h,g),(0,o.Tv)(h,{transition:"none",transform:"translate3d(0, 0, 0)"})),void s();"slideOptimizedRtl"===t&&(n=!n),l.current=!0;const A=(0,r.VK)(void 0,y);v?.(),(0,o.dH)(f,`Transition-${t}`,!n),(0,o.dH)(f,`Transition-${t}Backwards`,n),m instanceof HTMLElement&&(0,o.Tv)(m,{transition:"none",transform:"translate3d(0, 0, 0)"}),h instanceof HTMLElement&&(0,o.Tv)(h,{transition:"none",transform:`translate3d(${n?"-":""}100%, 0, 0)`}),(0,a.gm)((()=>(h instanceof HTMLElement&&(0,u.A)(h),()=>{m instanceof HTMLElement&&((0,o.HW)(m,g),(0,o.Tv)(m,{transition:"",transform:`translate3d(${n?"":"-"}100%, 0, 0)`})),h instanceof HTMLElement&&((0,o.YM)(h,g),(0,o.Tv)(h,{transition:"",transform:"translate3d(0, 0, 0)"}))}))),(0,d.j)(h,(()=>{const e=h instanceof HTMLElement?h.clientHeight:void 0;(0,a.RK)((()=>{i===c.current?(m instanceof HTMLElement&&(0,o.Tv)(m,{transition:"none",transform:""}),p&&e&&h instanceof HTMLElement&&((0,o.Tv)(h,{height:"auto"}),(0,o.Tv)(f,{height:`${e}px`})),b?.(),A(),l.current=!1,s()):A()}))}))}(_,A,J,e,t,U,H,s,m[h],m[c],S,F,O,D)}if("none"===A||_||K.current)return K.current&&(K.current=!1),m.forEach(((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,y),(0,o.HW)(e,v),(0,o.dH)(e,g,t===h),(0,o.dH)(e,b,t!==h))})),void e();m.forEach(((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,g),(0,o.dH)(e,y,t===c),(0,o.dH)(e,v,t===h),(0,o.dH)(e,b,t!==c&&t!==h))})),H.current=!0;const C=(0,r.VK)(void 0,F);function P(){const n=s.querySelector(`.${g}`),{clientHeight:r}=n||{};(0,a.RK)((()=>{t===U.current?((0,o.HW)(s,`Transition-${A}`),(0,o.HW)(s,`Transition-${A}Backwards`),m.forEach(((e,t)=>{e instanceof HTMLElement&&((0,o.HW)(e,y),(0,o.HW)(e,v),(0,o.dH)(e,g,t===h),(0,o.dH)(e,b,t!==h))})),S&&n&&((0,o.Tv)(n,{height:"auto"}),(0,o.Tv)(s,{height:`${r}px`})),D?.(),C(),H.current=!1,e()):C()}))}O?.(),(0,o.dH)(s,`Transition-${A}`,!J),(0,o.dH)(s,`Transition-${A}Backwards`,J);const M="reveal"!==A&&"slideFadeAndroid"!==A||!J?m[h]:m[c];if(M)if(x&&m[c]){const e=(0,d.e)(M,P);(0,f.R)(m[c],m[h],(()=>{e(),K.current=!0,D?.(),C(),H.current=!1}))}else(0,d.e)(M,P,void 0,1e3);else P()}),[t,n,z,W,J,A,O,D,w,S,E,B,k,_,V,x,F,T]),(0,r.vJ)((()=>{if(!S)return;const e=$.current,t=e.querySelector(`:scope > .${g}`)||e.querySelector(`:scope > .${y}`);if(!t)return;const{clientHeight:n,clientWidth:r}=t||{};n&&r&&(0,a.RK)((()=>{(0,o.Tv)(t,{height:"auto"}),(0,o.Tv)(e,{height:`${n}px`,flexBasis:`${n}px`})}))}),[S,R]);const G=!w,q=j.current,X=Object.keys(w?new Array(w).fill(void 0):q).map(Number).map((e=>{const n=q[e];if(!n)return;const o="function"==typeof n?n(e===t,e===z,e,t):n;return P&&e!==M||G?r.Ay.createElement("div",{key:e,teactOrderKey:e},o):o}));return r.Ay.createElement("div",{ref:$,id:L,className:(0,c.A)("Transition",N),teactFastList:G},X)}},31481:(e,t,n)=>{n.d(t,{$4F:()=>fe,$gx:()=>$,$nk:()=>It,AGC:()=>K,Apc:()=>Lt,BYH:()=>wt,C$_:()=>ce,C1b:()=>d,C39:()=>o,C7Y:()=>Rn,CH0:()=>er,CQG:()=>Un,CV:()=>_,CVm:()=>Ae,CVv:()=>M,CfG:()=>Fe,Ckz:()=>Cn,Cmz:()=>f,Cyx:()=>Je,D$I:()=>Xn,D3G:()=>$e,DRJ:()=>ue,DSF:()=>En,EPW:()=>Bt,FHx:()=>I,FZw:()=>Mn,G38:()=>mn,G3A:()=>Nt,GW0:()=>B,GhT:()=>At,H4O:()=>dt,H6l:()=>lt,HGU:()=>X,H_r:()=>cn,HxB:()=>Dn,Hz7:()=>ve,IH3:()=>Zt,IRc:()=>J,Iz7:()=>O,J$1:()=>Mt,KFG:()=>ze,K_A:()=>yn,Ka6:()=>Nn,Kh8:()=>Wt,Kp3:()=>Dt,LWg:()=>Zn,LaL:()=>w,Lj4:()=>Ke,M$8:()=>ir,M8B:()=>Ie,MVx:()=>p,MkD:()=>Jn,Msx:()=>Xt,MyF:()=>_t,N89:()=>nn,NFE:()=>E,NjX:()=>hn,NkL:()=>Ln,O2i:()=>sr,O4t:()=>Qe,OFc:()=>an,OMf:()=>Tt,OUy:()=>Ge,OVC:()=>Kt,Oig:()=>m,OzO:()=>st,P3f:()=>be,PGI:()=>Vn,Pje:()=>On,PqE:()=>Kn,Q$7:()=>N,QkL:()=>wn,RCH:()=>gt,Rqe:()=>bt,S4O:()=>rt,SKD:()=>ot,T7t:()=>Q,TBj:()=>yt,UAx:()=>Qn,Um:()=>ee,UuV:()=>T,UyP:()=>ft,Uyp:()=>St,ViI:()=>L,Vz3:()=>Gt,W75:()=>l,WG3:()=>ae,XLD:()=>Hn,XQO:()=>he,Xab:()=>tt,Xrp:()=>Be,Y3M:()=>ln,YVZ:()=>De,YfK:()=>rr,ZhW:()=>ie,_Bb:()=>zn,_E9:()=>kn,a9l:()=>z,aFH:()=>un,b5_:()=>In,bVP:()=>tn,be8:()=>Wn,bkT:()=>ht,bnE:()=>sn,bpX:()=>jt,bxS:()=>Sn,c2m:()=>Ye,cK8:()=>r,cLl:()=>R,cOD:()=>s,cUY:()=>zt,cgU:()=>_n,cnh:()=>He,cqp:()=>Ne,dK5:()=>Yn,dR$:()=>nr,dnp:()=>Ce,dqH:()=>Me,dxe:()=>or,e0F:()=>Oe,eKB:()=>Ut,eqO:()=>G,es:()=>ct,f51:()=>An,f84:()=>Ze,fNs:()=>Qt,fRl:()=>et,fSF:()=>Te,fng:()=>u,frj:()=>le,fwn:()=>Et,g0Q:()=>mt,g0p:()=>qn,gQx:()=>qe,gXr:()=>ne,gex:()=>Yt,hfH:()=>Rt,i11:()=>Ee,iIc:()=>pe,iKt:()=>_e,iRY:()=>tr,ikg:()=>qt,irO:()=>ye,j0M:()=>C,j1l:()=>Ft,j41:()=>vt,j7z:()=>Xe,jNX:()=>Jt,jQ1:()=>Ve,jhT:()=>ar,jhd:()=>Ht,jht:()=>h,jsp:()=>dn,kNZ:()=>rn,lFE:()=>g,laV:()=>te,m$5:()=>Re,mD0:()=>kt,mFn:()=>a,mH$:()=>oe,mPG:()=>Le,map:()=>de,mxD:()=>en,naf:()=>ut,nfi:()=>U,nnT:()=>se,npx:()=>xe,nxZ:()=>at,oBq:()=>k,ozB:()=>x,pX9:()=>Tn,pZc:()=>Pe,pge:()=>P,pk8:()=>ke,pkx:()=>Fn,qGQ:()=>b,qJR:()=>c,qKY:()=>S,qLe:()=>v,qbC:()=>$n,qj6:()=>ge,r2x:()=>Ct,r9K:()=>xn,rBM:()=>me,rLF:()=>j,rgX:()=>pn,rkj:()=>y,s8T:()=>it,sR2:()=>xt,sXR:()=>on,tBS:()=>cr,tNZ:()=>vn,tP8:()=>Gn,tRH:()=>Ot,uCr:()=>Z,ukY:()=>Bn,uyj:()=>A,vVF:()=>Vt,wAs:()=>re,wEk:()=>gn,wVm:()=>Ue,x6_:()=>pt,xB5:()=>nt,xJs:()=>F,xMZ:()=>Pt,xcU:()=>We,xw7:()=>Y,y67:()=>jn,yhD:()=>V,ynd:()=>Pn,yo2:()=>W,yq1:()=>q,yq6:()=>i,zHL:()=>we,zLi:()=>fn,zNY:()=>$t,zP3:()=>Se,zPk:()=>je,zrf:()=>D,zv8:()=>bn});const r="A",o=`Telegram Web ${r}`,s=1740245723664,a="web.telegram.org",i="https://web.telegram.org/a",c="https://web.telegram.org/",d="https://web.telegram.org/a/",u=!1,l=!1,f=!1,h=!1,m=!1,p=!1,g="tt-log.json",y=m,v=20,b="https://telegra.ph/WebA-Beta-03-20",A="https://telegram-a-host",I="Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.",C="Telegram",w="[Inactive]",S=!1,E="user_auth",k="tt-passcode",T=!1,P="tt-global-state",M=500,L=200,N=10,B=150,x="tt-is-screen-locked",F=!1,O="tt-media",D="tt-media-avatars",R="tt-media-progressive",U="tt-custom-bg",_="tt-lang-packs-v49",$=[1,5,10,50,100,500],j="tt-global",z="tt-establish",V="tt-multitab",H="undefined"!=typeof window&&window.innerHeight>=900,K=1,W=H?60:40,J=2*W,G=36,q=72,X=65,Y=56,Q=H?30:25,Z=100,ee=42,te=42,ne=42,re=20,oe=5,se=30,ae=200,ie=500,ce=600,de=100,ue=50,le=15,fe=10,he=20,me="global",pe=20,ge=500,ye=20,ve=1,be=1,Ae=1200,Ie=-1,Ce=0,we=1,Se=2,Ee=Se,ke=16,Te=17,Pe=15,Me=3,Le=1e4,Ne=3e3,Be=1e7,xe=36e5,Fe="editable-message-text",Oe="editable-message-text-modal",De="editable-story-input-text",Re=`.messages-layout .Transition_slide-active #${Fe}, .messages-layout .Transition > .Transition_slide-to #${Fe}`,Ue=`#${Oe}`,_e=`#${De}`,$e="data-has-custom-appendix",je="message-content",ze=".message-content",Ve="resizeHandle",He=`.${Ve}`,Ke="snap-effect-container",We="snap-effect",Je="⭐",Ge="XTR",qe=1275,Xe=925,Ye=600,Qe=950,Ze=450,et=2**31-1,tt="0",nt=100,rt=200,ot=300,st=600,at=800,it=300,ct=(Math.round((ot+st)/2),new Set(["newMessage","newScheduledMessage","deleteMessages","deleteScheduledMessages","deleteHistory","deleteParticipantHistory"]),200),dt=13,ut=11,lt=160,ft=120,ht=72,mt=36,pt=32,gt=48,yt=32,vt=20,bt=72,At=72,It=36,Ct=160,wt=160,St=140,Et=100,kt=100,Tt=140,Pt=140,Mt=2,Lt=7,Nt="top",Bt="popular",xt="recent",Ft="collectibleStatus",Ot="favorite",Dt="effectStickers",Rt="effectEmojis",Ut="chatStickers",_t="topic-default-icon",$t="status-default-icon",jt=/<img[^>]+alt="([^"]+)"(?![^>]*data-document-id)[^>]*>/gm,zt="en",Vt=200,Ht=450,Kt="FestiveFontEmoji",Wt="RestrictedEmoji",Jt="http://www.w3.org/2000/svg",Gt="image/gif",qt="application/x-tgsticker",Xt="video/webm",Yt=new Set(["image/png","image/jpeg",Gt]),Qt=new Set(["video/mp4","video/quicktime"]),Zt=new Set(["audio/mp3","audio/ogg","audio/wav","audio/mpeg","audio/flac","audio/aac","audio/m4a","audio/mp4","audio/x-m4a"]),en=new Set([...Yt,...Qt]),tn="The message is not supported on this version of Telegram.",nn=["en","ar","be","ca","zh","nl","fr","de","id","it","ja","ko","pl","pt","ru","es","uk","af","sq","am","hy","az","eu","bn","bs","bg","ceb","zh-CN","zh-TW","co","hr","cs","da","eo","et","fi","fy","gl","ka","el","gu","ht","ha","haw","he","iw","hi","hmn","hu","is","ig","ga","jv","kn","kk","km","rw","ku","ky","lo","la","lv","lt","lb","mk","mg","ms","ml","mt","mi","mr","mn","my","ne","no","ny","or","ps","fa","pa","ro","sm","gd","sr","st","sn","sd","si","sk","sl","so","su","sw","sv","tl","tg","ta","tt","te","th","tr","tk","ur","ug","uz","vi","cy","xh","yi","yo","zu"],rn="((ftp|https?):\\/\\/)?((www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)",on="(@[\\w\\d_-]+)",sn=/^tg:(\/\/)?/i,an=/^(https?:\/\/)?([-a-zA-Z0-9@:%_+~#=]{1,32}\.)?t\.me/i,cn=/^(https?:\/\/)?telegram\.org\//i,dn="https://t.me/",un="botfather",ln="USERNAME_PURCHASE_AVAILABLE",fn="MESSAGE_ID_REQUIRED",hn="auction",mn=(new Set([ln,"USERNAME_INVALID"]),new Set(["t.me","web.t.me","a.t.me","k.t.me","z.t.me"])),pn="weba",gn=new Set(["AU","BD","CA","CO","EG","HN","IE","IN","JO","MX","MY","NI","NZ","PH","PK","SA","SV","US"]),yn=["bots","channels","chats","users"],vn={type:"emoji",emoticon:"❤"},bn="777000",An="1271266957",In="489000",Cn="2666000",wn="7173162320003080",Sn=14,En=0,kn=1,Tn=-1,Pn=10,Mn=5,Ln=2147483646,Nn=["android","ios","tdesktop","macos"],Bn="https://bugs.telegram.org/?tag_ids=41&sort=time",xn="https://telegram.org/faq",Fn="https://telegram.org/privacy",On="https://telegram.org/tos/mini-apps",Dn=1,Rn=86400,Un=4,_n=10,$n=10,jn=10,zn="888",Vn=11,Hn="#99BA92",Kn="#0F0F0F",Wn="#4A8E3A8C",Jn="#0A0A0A8C",Gn="1a",qn="2b",Xn=5,Yn=524288,Qn=11,Zn=new Set(["USER_CANCELED"]),er=100,tr=100*er,nr={uploadMaxFileparts:[4e3,8e3],stickersFaved:[5,10],savedGifs:[200,400],dialogFiltersChats:[100,200],dialogFilters:[10,20],dialogFolderPinned:[5,10],captionLength:[1024,4096],channels:[500,1e3],channelsPublic:[10,20],aboutLength:[70,140],chatlistInvites:[3,100],chatlistJoined:[2,20],recommendedChannels:[10,100],savedDialogsPinned:[5,100]},rr=4096,or=2147483647,sr=["stories","double_limits","more_upload","faster_download","voice_to_text","no_ads","infinite_reactions","premium_stickers","animated_emoji","advanced_chat_management","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects"],ar=["faster_download","voice_to_text","advanced_chat_management","infinite_reactions","profile_badge","animated_userpics","emoji_status","translations","saved_tags","last_seen","message_privacy","effects"],ir=["channels","dialogFolderPinned","channelsPublic","savedGifs","stickersFaved","aboutLength","captionLength","dialogFilters","dialogFiltersChats","recommendedChannels"],cr={sortType:"byDate",shouldIncludeUnlimited:!0,shouldIncludeLimited:!0,shouldIncludeUnique:!0,shouldIncludeDisplayed:!0,shouldIncludeHidden:!0}},48544:(e,t,n)=>{var r=n(89925),o=n(31481),s=n(26120),a=n(70758),i=n(74824),c=n(14487),d=n(97312),u=n(70934),l=n(66414),f=n(37836),h=n(57751),m=n(84553),p=n(82393),g=n(4875),y=n(42385),v=n(13439),b=n(46042);(0,v.aJ)("initApi",((e,t)=>{const n=(0,l.f4)(),r=window.location.search.includes("test")||"1"===n?.tgWebAuthTest;(0,g.Ru)(t.apiUpdate,{userAgent:navigator.userAgent,platform:p.Aw,sessionData:(0,h.CX)(),isWebmSupported:p.OF,maxBufferSize:p.kn,webAuthToken:n?.tgWebAuthToken,dcId:n?.tgWebAuthDcId?Number(n?.tgWebAuthDcId):void 0,mockScenario:n?.mockScenario,shouldAllowHttpTransport:e.settings.byKey.shouldAllowHttpTransport,shouldForceHttpTransport:e.settings.byKey.shouldForceHttpTransport,shouldDebugExportedSenders:e.settings.byKey.shouldDebugExportedSenders,langCode:e.settings.byKey.language,isTestServerRequested:r}),(0,g.eu)(Boolean(e.settings.byKey.shouldCollectDebugLogs))})),(0,v.aJ)("setAuthPhoneNumber",((e,t,n)=>{const{phoneNumber:r}=n;return(0,g.px)("provideAuthPhoneNumber",r.replace(/[^\d]/g,"")),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("setAuthCode",((e,t,n)=>{const{code:r}=n;return(0,g.px)("provideAuthCode",r),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("setAuthPassword",((e,t,n)=>{const{password:r}=n;return(0,g.px)("provideAuthPassword",r),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("uploadProfilePhoto",(async(e,t,n)=>{const{file:o,isFallback:s,isVideo:a,videoTs:i,bot:d,tabId:u=(0,c.g0)()}=n;e=(0,b.G42)(e,r.TD.InProgress,u),(0,v.UF)(e),await(0,g.px)("uploadProfilePhoto",o,s,a,i,d)&&(e=(0,v.mS)(),e=(0,b.G42)(e,r.TD.Complete,u),(0,v.UF)(e),t.loadFullUser({userId:e.currentUserId}))})),(0,v.aJ)("signUp",((e,t,n)=>{const{firstName:r,lastName:o}=n;return(0,g.px)("provideAuthRegistration",{firstName:r,lastName:o}),{...e,authIsLoading:!0,authErrorKey:void 0}})),(0,v.aJ)("returnToAuthPhoneNumber",(e=>((0,g.px)("restartAuth"),{...e,authErrorKey:void 0}))),(0,v.aJ)("goToAuthQrCode",(e=>((0,g.px)("restartAuthWithQr"),{...e,authIsLoadingQrCode:!0,authErrorKey:void 0}))),(0,v.aJ)("saveSession",((e,t,n)=>{if(e.passcode.isScreenLocked)return;const{sessionData:r}=n;r?(0,h.AA)(r,e.currentUserId):(0,h.rE)()})),(0,v.aJ)("signOut",(async(e,t,n)=>{"hangUp"in t&&t.hangUp({tabId:(0,c.g0)()}),"leaveGroupCall"in t&&t.leaveGroupCall({tabId:(0,c.g0)()});try{(0,l.lD)(),(0,l.vO)(),await(0,d.al)(),await Promise.race([(0,g.px)("destroy"),(0,f.v7)(3e3)]),await(0,m.nv)(!1)}catch(e){}t.reset(),n?.forceInitApi&&t.initApi()})),(0,v.aJ)("requestChannelDifference",((e,t,n)=>{const{chatId:r}=n;(0,g.px)("requestChannelDifference",r)})),(0,v.aJ)("reset",((e,t)=>{(0,h.rE)(),(0,u.WN)(),i.clear(o.Iz7),i.clear(o.zrf),i.clear(o.cLl),i.clear(o.nfi),a.q.clear(),a.B.clear();const n=o.CV.replace(/\d+$/,""),r=Number((o.CV.match(/\d+$/)||["0"])[0]);for(let e=0;e<r;e++)i.clear(`${n}${0===e?"":e}`);(0,s.q)(0),t.initShared({force:!0}),Object.values(e.byTabId).forEach((({id:e,isMasterTab:n})=>{t.init({tabId:e,isMasterTab:n})}))})),(0,v.aJ)("disconnect",(()=>{(0,g.eZ)("disconnect")})),(0,v.aJ)("destroyConnection",(()=>{(0,g.eZ)("destroy",!0,!0)})),(0,v.aJ)("loadNearestCountry",(async e=>{if("connectionStateReady"!==e.connectionState)return;const t=await(0,g.px)("fetchNearestCountry");e=(0,v.mS)(),e={...e,authNearestCountry:t},(0,v.UF)(e)})),(0,v.aJ)("setDeviceToken",((e,t,n)=>({...e,push:{deviceToken:n,subscribedAt:Date.now()}}))),(0,v.aJ)("deleteDeviceToken",(e=>({...e,push:void 0}))),(0,v.aJ)("lockScreen",(async e=>{const t=JSON.stringify({...(0,h.CX)(),userId:e.currentUserId}),n=await(0,y.Mm)(e);await(0,u.yp)(t,n),(0,u.m)(),(0,h.rE)(),(0,s.q)(0),e=(0,v.mS)(),e=(0,b.Vg3)(e,{isScreenLocked:!0,invalidAttemptsCount:0,timeoutUntil:void 0}),(0,v.UF)(e),setTimeout((()=>{e=(0,v.mS)(),e=(0,b.nYM)(e),(0,v.UF)(e)}),o.es);try{await(0,d.al)(),await(0,g.px)("destroy",!0)}catch(e){}}))},26943:(e,t,n)=>{var r=n(89925),o=n(31481),s=n(14487),a=n(87894),i=n(97312),c=n(6e4),d=n(33204),u=n(80140),l=n(4875),f=n(90709),h=n(13439),m=n(46042),p=n(32989),g=n(29807);(0,h.aJ)("updateProfile",(async(e,t,n)=>{const{photo:o,firstName:a,lastName:i,bio:c,username:d,tabId:u=(0,s.g0)()}=n,{currentUserId:f}=e;if(f){if(e=(0,p.w)(e,{profileEdit:{progress:r.DV.InProgress}},u),(0,h.UF)(e),o&&await(0,l.px)("uploadProfilePhoto",o),(a||i||c)&&await(0,l.px)("updateProfile",{firstName:a,lastName:i,about:c})){e=(0,h.mS)();const t=f&&(0,g.mBe)(e,f);t&&(e=(0,m.TKu)(e,t.id,{firstName:a,lastName:i}),e=(0,m.weB)(e,t.id,{bio:c}),(0,h.UF)(e))}if(void 0!==d){const t=await(0,l.px)("updateUsername",d);e=(0,h.mS)();const n=f&&(0,g.mBe)(e,f);if(t&&n){const t=n.usernames?.find((e=>e.isEditable)),r=t?n.usernames?.map((e=>e.isEditable?{...e,username:d}:e)):[{username:d,isEditable:!0,isActive:!0},...n.usernames||[]];e=(0,m.TKu)(e,f,{usernames:r}),(0,h.UF)(e)}}e=(0,h.mS)(),e=(0,p.w)(e,{profileEdit:{progress:r.DV.Complete}},u),(0,h.UF)(e),o&&t.loadFullUser({userId:f,withPhotos:!0})}})),(0,h.aJ)("updateProfilePhoto",(async(e,t,n)=>{const{photo:r,isFallback:o}=n,{currentUserId:s}=e;s&&(0,g.mBe)(e,s)&&(e=(0,m.TKu)(e,s,{avatarPhotoId:void 0}),e=(0,m.weB)(e,s,{profilePhoto:void 0}),(0,h.UF)(e),await(0,l.px)("updateProfilePhoto",r,o)&&t.loadFullUser({userId:s,withPhotos:!0}))})),(0,h.aJ)("deleteProfilePhoto",(async(e,t,n)=>{const{photo:r}=n,{currentUserId:o}=e;o&&await(0,l.px)("deleteProfilePhotos",[r])&&(e=(0,h.mS)(),e=(0,m.sol)(e,o,r.id),(0,h.UF)(e),t.loadFullUser({userId:o,withPhotos:!0}))})),(0,h.aJ)("checkUsername",(async(e,t,n)=>{const{username:o,tabId:a=(0,s.g0)()}=n;let i=(0,g.nTw)(e,a);if(i.profileEdit&&i.profileEdit.progress===r.DV.InProgress)return;e=(0,p.w)(e,{profileEdit:{progress:i.profileEdit?i.profileEdit.progress:r.DV.Idle,checkedUsername:void 0,isUsernameAvailable:void 0,error:void 0}},a),(0,h.UF)(e);const{result:c,error:d}=await(0,l.px)("checkUsername",o);e=(0,h.mS)(),i=(0,g.nTw)(e,a),e=(0,p.w)(e,{profileEdit:{...i.profileEdit,checkedUsername:o,isUsernameAvailable:!0===c,error:d}},a),(0,h.UF)(e)})),(0,h.aJ)("loadWallpapers",(async e=>{const t=await(0,l.px)("fetchWallpapers");t&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,loadedWallpapers:t.wallpapers}},(0,h.UF)(e))})),(0,h.aJ)("uploadWallpaper",(async(e,t,n)=>{const o=n,s=URL.createObjectURL(o);e={...e,settings:{...e.settings,loadedWallpapers:[{slug:r.Vw,document:{mediaType:"document",fileName:"",size:o.size,mimeType:o.type,previewBlobUrl:s}},...e.settings.loadedWallpapers||[]]}},(0,h.UF)(e);const a=await(0,l.px)("uploadWallpaper",o);if(!a)return;const{wallpaper:i}=a;if(!(e=(0,h.mS)()).settings.loadedWallpapers)return;const c=e.settings.loadedWallpapers[0];if(!c||c.slug!==r.Vw)return;const d={...i,document:{...i.document,previewBlobUrl:s}};e={...e,settings:{...e.settings,loadedWallpapers:[d,...e.settings.loadedWallpapers.slice(1)]}},(0,h.UF)(e)})),(0,h.aJ)("loadBlockedUsers",(async e=>{const t=await(0,l.px)("fetchBlockedUsers",{});t&&(e=(0,h.mS)(),e={...e,blocked:{ids:t.blockedIds,totalCount:t.totalCount}},(0,h.UF)(e))})),(0,h.aJ)("blockUser",(async(e,t,n)=>{const{userId:r,isOnlyStories:o}=n,s=(0,g.mBe)(e,r);s&&await(0,l.px)("blockUser",{user:s,isOnlyStories:o||void 0})&&(e=(0,h.mS)(),e=(0,m.P6h)(e,r),(0,h.UF)(e))})),(0,h.aJ)("unblockUser",(async(e,t,n)=>{const{userId:r,isOnlyStories:o}=n,s=(0,g.mBe)(e,r);s&&await(0,l.px)("unblockUser",{user:s,isOnlyStories:o||void 0})&&(e=(0,h.mS)(),e=(0,m.OW3)(e,r),(0,h.UF)(e))})),(0,h.aJ)("loadNotificationExceptions",(async e=>{const t=await(0,l.px)("fetchNotificationExceptions");t&&(e=(0,h.mS)(),e=(0,m.DeY)(e,t),(0,h.UF)(e))})),(0,h.aJ)("loadNotificationSettings",(async e=>{const t=await(0,l.px)("fetchNotificationSettings");t&&(e=(0,h.mS)(),e=(0,m.qpc)(e,t),(0,h.UF)(e))})),(0,h.aJ)("updateNotificationSettings",(async(e,t,n)=>{const{peerType:r,isSilent:o,shouldShowPreviews:s}=n;await(0,l.px)("updateNotificationSettings",r,{isSilent:o,shouldShowPreviews:s})&&(e=(0,h.mS)(),e=(0,m.i0Z)(e,r,o,s),(0,h.UF)(e))})),(0,h.aJ)("updateWebNotificationSettings",(async(e,t,n)=>{const r=e.settings.byKey;e=(0,m.qpc)(e,n),(0,h.UF)(e);const{hasWebNotifications:o,hasPushNotifications:s}=e.settings.byKey;!r.hasPushNotifications&&s&&await(0,i.B1)(),r.hasPushNotifications&&!s&&await(0,i.al)(),!r.hasWebNotifications&&o&&(await(0,i.xe)()||(e=(0,h.mS)(),e=(0,m.qpc)(e,{hasWebNotifications:!1}),(0,h.UF)(e)))})),(0,h.aJ)("updateContactSignUpNotification",(async(e,t,n)=>{const{isSilent:r}=n;await(0,l.px)("updateContactSignUpNotification",r)&&(e=(0,h.mS)(),e=(0,m.qpc)(e,{hasContactJoinedNotifications:!r}),(0,h.UF)(e))})),(0,h.aJ)("loadLanguages",(async e=>{const t=await(0,l.px)("fetchLanguages");t&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,languages:t}},(0,h.UF)(e))})),(0,h.aJ)("loadPrivacySettings",(async e=>{const t=await Promise.all([(0,l.px)("fetchPrivacySettings","phoneNumber"),(0,l.px)("fetchPrivacySettings","addByPhone"),(0,l.px)("fetchPrivacySettings","lastSeen"),(0,l.px)("fetchPrivacySettings","profilePhoto"),(0,l.px)("fetchPrivacySettings","forwards"),(0,l.px)("fetchPrivacySettings","chatInvite"),(0,l.px)("fetchPrivacySettings","phoneCall"),(0,l.px)("fetchPrivacySettings","phoneP2P"),(0,l.px)("fetchPrivacySettings","voiceMessages"),(0,l.px)("fetchPrivacySettings","bio"),(0,l.px)("fetchPrivacySettings","birthday"),(0,l.px)("fetchPrivacySettings","gifts")]);if(t.some((e=>void 0===e)))return;const[n,r,o,s,a,i,c,d,u,f,m,p]=t;e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,phoneNumber:n.rules,addByPhone:r.rules,lastSeen:o.rules,profilePhoto:s.rules,forwards:a.rules,chatInvite:i.rules,phoneCall:c.rules,phoneP2P:d.rules,voiceMessages:u.rules,bio:f.rules,birthday:m.rules,gifts:p.rules}}},(0,h.UF)(e)})),(0,h.aJ)("setPrivacyVisibility",(async(e,t,n)=>{const{privacyKey:r,visibility:o,onSuccess:s}=n;if(!e.settings.privacy[r]){const t=await(0,l.px)("fetchPrivacySettings",r);if(!t)return;e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:t.rules}}},(0,h.UF)(e)}const{privacy:{[r]:a}}=e.settings;if(!a)return;const i=(0,f.wTW)(e,{visibility:o,allowedIds:[...a.allowUserIds,...a.allowChatIds],blockedIds:[...a.blockUserIds,...a.blockChatIds],botsPrivacy:a.botsPrivacy}),c=await(0,l.px)("setPrivacySettings",r,i);c&&(s?.(),e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:c.rules}}},(0,h.UF)(e))})),(0,h.aJ)("setPrivacySettings",(async(e,t,n)=>{const{privacyKey:r,isAllowList:o,updatedIds:s,isPremiumAllowed:a,botsPrivacy:i}=n,{privacy:{[r]:c}}=e.settings;if(!c)return;const d=(0,f.wTW)(e,{visibility:c.visibility,isUnspecified:c.isUnspecified,shouldAllowPremium:a,allowedIds:o?s:[...c.allowUserIds,...c.allowChatIds],blockedIds:o?[...c.blockUserIds,...c.blockChatIds]:s,botsPrivacy:i}),u=await(0,l.px)("setPrivacySettings",r,d);u&&(e=(0,h.mS)(),e={...e,settings:{...e.settings,privacy:{...e.settings.privacy,[r]:u.rules}}},(0,h.UF)(e))})),(0,h.aJ)("updateIsOnline",((e,t,n)=>{"connectionStateReady"===e.connectionState&&(0,l.px)("updateIsOnline",n)})),(0,h.aJ)("loadContentSettings",(async e=>{const t=await(0,l.px)("fetchContentSettings");t&&(e=(0,h.mS)(),e=(0,m.qpc)(e,t),(0,h.UF)(e))})),(0,h.aJ)("updateContentSettings",(async(e,t,n)=>{e=(0,m.qpc)(e,{isSensitiveEnabled:n}),(0,h.UF)(e),await(0,l.px)("updateContentSettings",n)||(e=(0,h.mS)(),e=(0,m.qpc)(e,{isSensitiveEnabled:!n}),(0,h.UF)(e))})),(0,h.aJ)("loadCountryList",(async(e,t,n)=>{let{langCode:r}=n;r||(r=e.settings.byKey.language);const o=await(0,l.px)("fetchCountryList",{langCode:r});o&&(e=(0,h.mS)(),e={...e,countryList:o},(0,h.UF)(e))})),(0,h.aJ)("ensureTimeFormat",(async(e,t,n)=>{const{tabId:r=(0,s.g0)()}=n||{};if(e.authNearestCountry){const n=o.wEk.has(e.authNearestCountry.toUpperCase())?"12h":"24h";t.setSettingOption({timeFormat:n,tabId:r}),(0,c.bV)(n)}if(e.settings.byKey.wasTimeFormatSetManually)return;const a=await(0,l.px)("fetchNearestCountry");if(a){const e=o.wEk.has(a.toUpperCase())?"12h":"24h";t.setSettingOption({timeFormat:e,tabId:r}),(0,c.bV)(e)}})),(0,h.aJ)("loadAppConfig",(async(e,t,n)=>{const r=n?.hash,s=await(0,l.px)("fetchAppConfig",r);s&&((0,d.A)({action:"loadAppConfig",payload:{hash:s.hash}},o.Xrp),e=(0,h.mS)(),e={...e,appConfig:s},(0,h.UF)(e))})),(0,h.aJ)("loadConfig",(async e=>{const t=await(0,l.px)("fetchConfig");if(!t)return;e=(0,h.mS)();const n=t.expiresAt-(0,u.Fm)();(0,d.A)({action:"loadConfig",payload:void 0},1e3*n),e={...e,config:t},(0,h.UF)(e)})),(0,h.aJ)("loadPeerColors",(async e=>{const t=e.peerColors?.generalHash,n=await(0,l.px)("fetchPeerColors",t);n&&(e=(0,h.mS)(),e={...e,peerColors:{...e.peerColors,general:n.colors,generalHash:n.hash}},(0,h.UF)(e))})),(0,h.aJ)("loadTimezones",(async e=>{const t=e.timezones?.hash,n=await(0,l.px)("fetchTimezones",t);n&&(e=(0,h.mS)(),e={...e,timezones:{byId:(0,a.dU)(n.timezones,"id"),hash:n.hash}},(0,h.UF)(e))})),(0,h.aJ)("loadGlobalPrivacySettings",(async e=>{const t=await(0,l.px)("fetchGlobalPrivacySettings");t&&(e=(0,h.mS)(),e=(0,m.qpc)(e,{...t}),(0,h.UF)(e))})),(0,h.aJ)("updateGlobalPrivacySettings",(async(e,t,n)=>{const r=n.shouldArchiveAndMuteNewNonContact??Boolean(e.settings.byKey.shouldArchiveAndMuteNewNonContact),o=n.shouldHideReadMarks??Boolean(e.settings.byKey.shouldHideReadMarks),s=n.shouldNewNonContactPeersRequirePremium??Boolean(e.settings.byKey.shouldNewNonContactPeersRequirePremium);e=(0,m.qpc)(e,{shouldArchiveAndMuteNewNonContact:r,shouldHideReadMarks:o}),(0,h.UF)(e);const a=await(0,l.px)("updateGlobalPrivacySettings",{shouldArchiveAndMuteNewNonContact:r,shouldHideReadMarks:o,shouldNewNonContactPeersRequirePremium:s});e=(0,h.mS)(),e=(0,m.qpc)(e,{shouldArchiveAndMuteNewNonContact:a?a.shouldArchiveAndMuteNewNonContact:!r,shouldHideReadMarks:a?a.shouldHideReadMarks:!o,shouldNewNonContactPeersRequirePremium:a?a.shouldNewNonContactPeersRequirePremium:!s}),(0,h.UF)(e)})),(0,h.aJ)("toggleUsername",(async(e,t,n)=>{const{username:r,isActive:o}=n,{currentUserId:s}=e;if(!s)return;const a=(0,g.mBe)(e,s);if(!a?.usernames)return;const i=a.usernames.map((e=>e.username!==r?e:{...e,isActive:o||void 0}));e=(0,m.TKu)(e,s,{usernames:i}),(0,h.UF)(e),await(0,l.px)("toggleUsername",{username:r,isActive:o})||t.loadFullUser({userId:s})})),(0,h.aJ)("toggleChatUsername",(async(e,t,n)=>{const{chatId:r,username:o,isActive:s}=n,a=(0,g.hds)(e,r);if(!a?.usernames)return;const i=a.usernames.map((e=>e.username!==o?e:{...e,isActive:s||void 0}));e=(0,m.wix)(e,r,{usernames:i}),(0,h.UF)(e),await(0,l.px)("toggleUsername",{chatId:a.id,accessHash:a.accessHash,username:o,isActive:s})||t.loadFullChat({chatId:r})})),(0,h.aJ)("sortUsernames",(async(e,t,n)=>{const{usernames:r}=n,{currentUserId:o}=e;o&&(await(0,l.px)("reorderUsernames",{usernames:r})||t.loadUser({userId:o}))})),(0,h.aJ)("sortChatUsernames",(async(e,t,n)=>{const{chatId:r,usernames:o}=n,s=(0,g.hds)(e,r);if(!s)return;const a=[...s.usernames],i=s.usernames.reduce(((e,t)=>(e[o.findIndex((e=>e===t.username))]=t,e)),[]);e=(0,m.wix)(e,r,{usernames:i}),(0,h.UF)(e),await(0,l.px)("reorderUsernames",{chatId:s.id,accessHash:s.accessHash,usernames:o})||(e=(0,h.mS)(),e=(0,m.wix)(e,r,{usernames:a}),(0,h.UF)(e))}))},4990:(e,t,n)=>{var r=n(31481),o=n(14487),s=n(99375),a=n(87894),i=n(6e4),c=n(66414),d=n(80140),u=n(84553),l=n(90709),f=n(13439),h=n(46042),m=n(32989),p=n(29807);function g(e,t,n){const{connectionState:r}=n;e=(0,f.mS)();const s=(0,p.nTw)(e,(0,o.g0)());if("connectionStateReady"===r&&s.isMasterTab&&s.multitabNextAction&&(t[s.multitabNextAction.action](s.multitabNextAction.payload),t.clearMultitabNextAction({tabId:s.id})),r!==e.connectionState){if(e={...e,connectionState:r},(0,f.UF)(e),e.isSynced){const n=Object.values(e.byTabId).flatMap((e=>e.messageLists)).map((e=>e.chatId)).filter((t=>{const n=e.chats.byId[t];return n&&((0,l.WXB)(n)||(0,l.VsK)(n))}));"connectionStateReady"===r&&n.length&&(0,a.Am)(n).forEach((e=>{t.requestChannelDifference({chatId:e})}))}"connectionStateBroken"===r&&t.signOut({forceInitApi:!0})}}(0,f.aJ)("apiUpdate",((e,t,n)=>{switch(n["@type"]){case"updateApiReady":!function(e){(0,i.wT)(e.settings.byKey.language)}(e);break;case"updateAuthorizationState":!function(e,t){const n="authorizationStateReady"===(e=(0,f.mS)()).authState,r=t.authorizationState;switch(e={...e,authState:r,authIsLoading:!1},(0,f.UF)(e),e=(0,f.mS)(),r){case"authorizationStateLoggingOut":(0,u.nv)(!1),e={...e,isLoggingOut:!0},(0,f.UF)(e);break;case"authorizationStateWaitCode":e={...e,authIsCodeViaApp:t.isCodeViaApp},(0,f.UF)(e);break;case"authorizationStateWaitPassword":e={...e,authHint:t.hint},t.noReset&&(e={...e,hasWebAuthTokenPasswordRequired:!0}),(0,f.UF)(e);break;case"authorizationStateWaitQrCode":e={...e,authIsLoadingQrCode:!1,authQrCode:t.qrCode},(0,f.UF)(e);break;case"authorizationStateReady":if(n)break;(0,u.nv)(!0),e={...e,isLoggingOut:!1},Object.values(e.byTabId).forEach((({id:t})=>{e=(0,m.w)(e,{isInactive:!1},t)})),(0,f.UF)(e)}}(e,n);break;case"updateAuthorizationError":!function(e,t){e={...e,authErrorKey:t.errorKey},(0,f.UF)(e)}(e,n);break;case"updateWebAuthTokenFailed":!function(e){(0,c.fY)(),e=(0,f.mS)(),e={...e,hasWebAuthTokenFailed:!0},(0,f.UF)(e)}(e);break;case"updateConnectionState":g(e,t,n);break;case"updateSession":!function(e,t,n){const{sessionData:r}=n,{authRememberMe:o,authState:s}=e,a=!r||!r.mainDcId,i=r?.isTest;i&&(e={...e,config:{...e.config,isTestServer:i}},(0,f.UF)(e)),o&&"authorizationStateReady"===s&&!a&&t.saveSession({sessionData:r})}(e,t,n);break;case"updateServerTimeOffset":!function(e){(0,d.SH)(e.serverTimeOffset)}(n);break;case"updateCurrentUser":!function(e,t){const{currentUser:n,currentUserFullInfo:o}=t;e={...(0,h.TKu)(e,n.id,n),currentUserId:n.id},e=(0,h.weB)(e,n.id,o),(0,f.UF)(e),function(e){const t=localStorage.getItem(r.NFE);if(!t)return;const n=JSON.parse(t);n.id=e,localStorage.setItem(r.NFE,JSON.stringify(n))}(n.id)}(e,n);break;case"requestReconnectApi":e={...e,isSynced:!1},(0,f.UF)(e),g(e,t,{"@type":"updateConnectionState",connectionState:"connectionStateConnecting"}),t.initApi();break;case"requestSync":t.sync();break;case"updateFetchingDifference":e={...e,isFetchingDifference:n.isFetching},(0,f.UF)(e);break;case"error":Object.values(e.byTabId).forEach((({id:e})=>{const r=(0,s.zr)(n.error);r?t.addPaymentError({error:r,tabId:e}):(0,s.Dd)(n.error)?t.closePaymentModal({tabId:e}):t.showDialog&&t.showDialog({data:n.error,tabId:e})}))}}))},88742:(e,t,n)=>{var r=n(37932),o=n(66644),s=n(14487),a=n(97312),i=n(6e4),c=n(70934),d=n(21687),u=n(57751),l=n(71322),f=n(84382),h=n(84553),m=n(82393),p=n(4875),g=n(42385),y=n(13439),v=n(46042),b=n(32989),A=n(29807);(0,f.S)((e=>{let t=(0,y.mS)();t.isInited&&t.settings.byKey.shouldUseSystemTheme&&(t=(0,v.qpc)(t,{theme:e}),(0,y.UF)(t))})),(0,y.aJ)("switchMultitabRole",(async(e,t,n)=>{const{isMasterTab:r,tabId:o=(0,s.g0)()}=n;if(r!==(0,A.nTw)(e,o).isMasterTab)if(e=(0,b.w)(e,{isMasterTab:r},o),(0,y.UF)(e,{forceSyncOnIOs:!0}),r){if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,c.ug)(),t=JSON.parse(e);(0,u.AA)(t,t.userId)}(0,u.wr)()&&(0,g.ZJ)(),(e=(0,y.mS)()).passcode.hasPasscode&&e.passcode.isScreenLocked||("connectionStateReady"===e.connectionState&&(e={...e,connectionState:"connectionStateConnecting"},(0,y.UF)(e)),t.initApi()),(0,h.ii)()}else(0,a.al)(),t.destroyConnection(),(0,h.KX)(),(0,g.z0)(),t.onSomeTabSwitchedMultitabRole();else(0,p.px)("broadcastLocalDbUpdateFull")})),(0,y.aJ)("onSomeTabSwitchedMultitabRole",(async e=>{if(e.passcode.hasPasscode&&!e.passcode.isScreenLocked){const{sessionJson:e}=await(0,c.ug)(),t=JSON.parse(e);(0,u.AA)(t,t.userId)}(0,p.px)("broadcastLocalDbUpdateFull")})),(0,y.aJ)("initShared",(()=>{(0,h.ii)()})),(0,y.aJ)("initMain",(e=>{const{hasWebNotifications:t,hasPushNotifications:n}=(0,A.$5S)(e);if(t&&n){const e=["click","keypress"],t=()=>{(0,a.B1)(),e.forEach((e=>{document.removeEventListener(e,t)}))};e.forEach((e=>{document.addEventListener(e,t,{once:!0})}))}})),(0,r.DW)((e=>{let t=!1;const n=(0,A.nTw)(e,(0,s.g0)());if(!n?.shouldInit)return;e=(0,y.mS)(),e=(0,b.w)(e,{shouldInit:!1},n.id);const{messageTextSize:r,language:a}=e.settings.byKey,c=(0,A.SJA)(e),u=(0,f.V)(),p=e.settings.byKey.shouldUseSystemTheme?u:c,g=(0,A.Cw0)(e);(0,i.wT)(a,void 0,!0),(0,o.RK)((()=>{document.documentElement.style.setProperty("--composer-text-size",`${Math.max(r,m.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*r)}px`),document.documentElement.style.setProperty("--message-text-size",`${r}px`),document.documentElement.setAttribute("data-message-text-size",r.toString()),document.body.classList.add("initial"),document.body.classList.add(m.TF?"is-touch-env":"is-pointer-env"),(0,d.u)(g),m.pz?document.body.classList.add("is-ios"):m.Ni?document.body.classList.add("is-android"):m.MP?document.body.classList.add("is-macos"):m.H8?document.body.classList.add("is-windows"):m.ig&&document.body.classList.add("is-linux"),m.Yw&&document.body.classList.add("is-safari"),m.cp&&document.body.classList.add("is-electron")}));const I=(0,A.PKK)(e);(0,l.Ay)(p,I),e=(0,v.qpc)(e,{theme:p}),(0,h.ii)(),t=!0,(0,y.UF)(e)})),(0,y.aJ)("setInstallPrompt",((e,t,n)=>{const{canInstall:r,tabId:o=(0,s.g0)()}=n;return(0,b.w)(e,{canInstall:r},o)})),(0,y.aJ)("setIsUiReady",((e,t,n)=>{const{uiReadyState:r,tabId:a=(0,s.g0)()}=n;return 2===r&&(0,o.RK)((()=>{document.body.classList.remove("initial")})),(0,b.w)(e,{uiReadyState:r},a)})),(0,y.aJ)("setAuthPhoneNumber",((e,t,n)=>{const{phoneNumber:r}=n;return{...e,authPhoneNumber:r}})),(0,y.aJ)("setAuthRememberMe",((e,t,n)=>({...e,authRememberMe:Boolean(n)}))),(0,y.aJ)("clearAuthErrorKey",(e=>({...e,authErrorKey:void 0}))),(0,y.aJ)("disableHistoryAnimations",((e,t,n)=>{const{tabId:r=(0,s.g0)()}=n||{};setTimeout((()=>{e=(0,y.mS)(),e=(0,b.w)(e,{shouldSkipHistoryAnimations:!1},r),(0,y.UF)(e),(0,o.RK)((()=>{document.body.classList.remove("no-animate")}))}),450),e=(0,b.w)(e,{shouldSkipHistoryAnimations:!0},r),(0,y.UF)(e,{forceSyncOnIOs:!0})}))},11117:(e,t,n)=>{var r=n(37932),o=n(89925),s=n(66644),a=n(61182),i=n(14487),c=n(6e4),d=n(21687),u=n(71322),l=n(74065),f=n(82393),h=n(4875),m=n(13439),p=n(46042),g=n(32989),y=n(29807);let v;(0,r.DW)((e=>{const{updatePageTitle:t,updateShouldDebugExportedSenders:n,updateShouldEnableDebugLog:r}=(0,m.ko)(),o=v;if(v=e,!o)return;const a=e.settings.byKey,i=o.settings.byKey,p=e.settings.performance,g=o.settings.performance,b=e.peerColors,A=o.peerColors;if(b&&b!==A&&(0,l.E)(b.general),p!==g&&(0,s.RK)((()=>{(0,d.u)(p)})),a.theme!==i.theme){const t=!!document.hasFocus()&&(0,y.PKK)(e);(0,u.Ay)(a.theme,t)}a.language!==i.language&&(0,c.wT)(a.language),a.timeFormat!==i.timeFormat&&(0,c.bV)(a.timeFormat),a.messageTextSize!==i.messageTextSize&&(document.documentElement.style.setProperty("--composer-text-size",`${Math.max(a.messageTextSize,f.pz?16:15)}px`),document.documentElement.style.setProperty("--message-meta-height",`${Math.floor(1.3125*a.messageTextSize)}px`),document.documentElement.style.setProperty("--message-text-size",`${a.messageTextSize}px`),document.documentElement.setAttribute("data-message-text-size",a.messageTextSize.toString())),a.canDisplayChatInTitle!==i.canDisplayChatInTitle&&t(),a.shouldForceHttpTransport!==i.shouldForceHttpTransport&&(0,h.px)("setForceHttpTransport",Boolean(a.shouldForceHttpTransport)),a.shouldAllowHttpTransport!==i.shouldAllowHttpTransport&&((0,h.px)("setAllowHttpTransport",Boolean(a.shouldAllowHttpTransport)),!a.shouldAllowHttpTransport&&a.shouldForceHttpTransport&&(e=(0,m.mS)(),e={...e,settings:{...e.settings,byKey:{...e.settings.byKey,shouldForceHttpTransport:!1}}},(0,m.UF)(e))),a.shouldDebugExportedSenders!==i.shouldDebugExportedSenders&&n(),a.shouldCollectDebugLogs!==i.shouldCollectDebugLogs&&r()})),(0,m.aJ)("updateShouldEnableDebugLog",(e=>{const{settings:t}=e;t.byKey.shouldCollectDebugLogs?((0,h.eu)(!0),(0,a.fw)()):((0,h.eu)(!1),(0,a.pF)())})),(0,m.aJ)("updateShouldDebugExportedSenders",(e=>{const{settings:t}=e;(0,h.px)("setShouldDebugExportedSenders",Boolean(t.byKey.shouldDebugExportedSenders))})),(0,m.aJ)("setSettingOption",((e,t,n)=>(0,p.qpc)(e,n))),(0,m.aJ)("updatePerformanceSettings",((e,t,n)=>({...e,settings:{...e.settings,performance:{...e.settings.performance,...n}}}))),(0,m.aJ)("setThemeSettings",((e,t,n)=>{const{theme:r,...o}=n;return(0,p.R0w)(e,r,o)})),(0,m.aJ)("requestNextSettingsScreen",((e,t,n)=>{const{screen:r,foldersAction:o,tabId:s=(0,i.g0)()}=n;return(0,g.w)(e,{nextSettingsScreen:r,nextFoldersAction:o},s)})),(0,m.aJ)("openEditChatFolder",((e,t,n)=>{const{folderId:r,isOnlyInvites:s,tabId:a=(0,i.g0)()}=n,c=(0,y.$aQ)(e,r);c&&t.requestNextSettingsScreen({screen:s?o.VS.FoldersEditFolderInvites:o.VS.FoldersEditFolderFromChatList,foldersAction:{type:"editFolder",payload:c},tabId:a})})),(0,m.aJ)("openShareChatFolderModal",((e,t,n)=>{const{folderId:r,url:s,noRequestNextScreen:a,tabId:c=(0,i.g0)()}=n,d=(0,y.$aQ)(e,r),u=d?.isChatList;if(!u||a)return a||t.requestNextSettingsScreen({screen:o.VS.FoldersShare,tabId:c}),(0,g.w)(e,{shareFolderScreen:{folderId:r,isFromSettings:Boolean(a),url:s}},c);t.openEditChatFolder({folderId:r,isOnlyInvites:!0,tabId:c})})),(0,m.aJ)("closeShareChatFolderModal",((e,t,n)=>{const{tabId:r=(0,i.g0)()}=n||{};return t.requestNextSettingsScreen({screen:void 0,tabId:r}),(0,g.w)(e,{shareFolderScreen:void 0},r)})),(0,m.aJ)("setChatFolderLayout",((e,t,n)=>{const{layout:r}=n;return e=(0,p.qpc)(e,{chatFolderLayout:r}),(0,m.UF)(e),e}))},42385:(e,t,n)=>{n.d(t,{Bo:()=>B,Lj:()=>T,Mm:()=>F,ZJ:()=>P,e:()=>L,r2:()=>k,z0:()=>M});var r=n(84051),o=n(37932),s=n(23174),a=n(31481),i=n(70758),c=n(49763),d=n(87894),u=n(70934),l=n(37836),f=n(57751),h=n(90709),m=n(13439),p=n(20714),g=n(46042),y=n(29807),v=n(43874);const b=(0,l.nF)((()=>(0,r.qF)((()=>N()))),5e3,!1),A=()=>N(!0);let I,C=!1,w=!1;function S(e){return i.q.set(a.pge,e)}function E(e){e?.passcode?.isScreenLocked&&localStorage.setItem(a.ozB,"true")}function k(){a.UuV||((0,m.aJ)("saveSession",(()=>{C||(P(),A())})),(0,m.aJ)("reset",(()=>{w=!0,i.q.del(a.pge).finally((()=>{localStorage.removeItem(a.ozB),w=!1,C&&M()}))})))}async function T(e){if(a.UuV)return;const t=await async function(e){a.Oig&&console.time("global-state-cache-read");const t=localStorage.getItem(a.pge),n=t?JSON.parse(t):void 0;n&&localStorage.removeItem(a.pge);const r=n||await i.q.get(a.pge);a.Oig&&console.timeEnd("global-state-cache-read"),r&&L(r,e);return{...e,...r}}(e);return t.passcode.hasPasscode||(0,f.wr)()?(P(),t):void M()}function P(){C=!0,I=(0,l.yu)(A,!0),window.addEventListener("blur",A),(0,o.DW)(b)}function M(){C=!1,(0,o.Cn)(b),window.removeEventListener("blur",A),I&&I()}function L(e,t){try{!function(e,t){const n=e;e.settings.byKey={...t.settings.byKey,...e.settings.byKey},e.settings.themes={...t.settings.themes,...e.settings.themes},e.chatFolders={...t.chatFolders,...e.chatFolders},e.settings.performance||(e.settings.byKey.animationLevel===a.dnp?e.settings.performance=p.PI:e.settings.byKey.animationLevel===a.zHL?e.settings.performance=p.PX:e.settings.performance=t.settings.performance),e.settings.performance={...t.settings.performance,...e.settings.performance},e.appConfig&&!e.appConfig.limits&&(e.appConfig.limits=a.dR$),e.chats.similarChannelsById||(e.chats.similarChannelsById=t.chats.similarChannelsById),e.chats.similarBotsById||(e.chats.similarBotsById=t.chats.similarBotsById),e.chats.lastMessageIds||(e.chats.lastMessageIds=t.chats.lastMessageIds),n?.appConfig?.peerColors&&(n.appConfig.peerColors=void 0,n.appConfig.darkPeerColors=void 0),e.fileUploads.byMessageKey||(e.fileUploads.byMessageKey={}),e.reactions||(e.reactions=t.reactions),e.quickReplies||(e.quickReplies=t.quickReplies),e.users.previewMediaByBotId||(e.users.previewMediaByBotId=t.users.previewMediaByBotId),e.chats.loadingParameters||(e.chats.loadingParameters=t.chats.loadingParameters),e.topBotApps||(e.topBotApps=t.topBotApps),e.reactions.defaultTags?.[0]?.type||(e.reactions=t.reactions),e.users.commonChatsById||(e.users.commonChatsById=t.users.commonChatsById),e.users.botAppPermissionsById||(e.users.botAppPermissionsById=t.users.botAppPermissionsById),e.chats.topicsInfoById||(e.chats.topicsInfoById=t.chats.topicsInfoById),e.messages.pollById||(e.messages.pollById=t.messages.pollById),e.settings.botVerificationShownPeerIds||(e.settings.botVerificationShownPeerIds=t.settings.botVerificationShownPeerIds),e.peers||(e.peers=t.peers)}(e,t)}catch(e){console.error(e)}}function N(e){const t=(0,m.mS)();w||!C||t.isLoggingOut||!e&&(0,r.OV)()||B()}function B(e=!1){const t=(0,m.mS)(),{hasPasscode:n,isScreenLocked:r}=t.passcode;if(n){if(!r&&!e){const e=F(t);(0,u.yp)(void 0,e)}return E(t),void S((0,g.nYM)(t,!1))}E(t),S(x(t))}function x(e){var t;return{...p.HB,...(0,d.Up)(e,["appConfig","config","authState","authPhoneNumber","authRememberMe","authNearestCountry","attachMenu","currentUserId","contactList","topPeers","topInlineBots","topBotApps","recentEmojis","recentCustomEmojis","push","serviceNotifications","attachmentSettings","leftColumnWidth","archiveSettings","mediaViewer","audioPlayer","shouldShowContextMenuHint","trustedBotIds","recentlyFoundChatIds","peerColors","savedReactionTags","timezones","availableEffectById"]),lastIsChatInfoShown:(0,v.Ny)()?void 0:e.lastIsChatInfoShown,customEmojis:O(e),users:D(e),chats:R(e),messages:U(e),settings:_(e),chatFolders:$(e),groupCalls:j(e),reactions:{...(0,d.Up)(e.reactions,["defaultTags","recentReactions","topReactions","effectReactions","hash"]),availableReactions:(t=e.reactions.availableReactions,t?.map((e=>(0,d.Up)(e,["reaction","staticIcon","title","isInactive"]))))},passcode:(0,d.Up)(e.passcode,["isScreenLocked","hasPasscode","invalidAttemptsCount","timeoutUntil"])}}function F(e){return JSON.stringify(x(e))}function O(e){const{lastRendered:t,byId:n}=e.customEmojis,r=t.slice(0,a.GW0);return{byId:(0,d.Up)(n,r),lastRendered:r,forEmoji:{},added:{},statusRecent:{}}}function D(e){const{users:{byId:t,statusesById:n,fullInfoById:r,botAppPermissionsById:o},currentUserId:s}=e,i=(0,d.oE)(Object.values(e.byTabId).map((({id:t})=>(0,y.Xf0)(e,t)))).map((({chatId:e})=>e)).filter((e=>(0,h.L8L)(e))),u=(0,d.Am)((0,d.oE)(Object.values(e.byTabId).flatMap((({id:t})=>(0,y.NHc)(e,t)?.map((e=>e.id))||[])))),l=i.flatMap((t=>Object.values((0,y.zeq)(e,t)||{}))).map((e=>e.content.storyData?.peerId||e.content.webPage?.story?.peerId)).filter((e=>Boolean(e)&&(0,h.L8L)(e))),f=Object.keys(e.attachMenu?.bots||{}),m=(0,d.Am)([...s?[s]:[],...i,...l,...u||[],...f,...e.topPeers.userIds||[],...e.recentlyFoundChatIds?.filter(h.L8L)||[],...(0,c.YA)(a._E9)?.slice(0,a.Q$7).filter(h.L8L)||[],...(0,c.YA)(a.DSF)?.filter(h.L8L)||[],...e.contactList?.userIds||[],...Object.keys(t)]).slice(0,a.CVv);return{...p.HB.users,byId:(0,d._E)(t,m),statusesById:(0,d._E)(n,m),fullInfoById:(0,d._E)(r,m),botAppPermissionsById:o}}function R(e){const{chats:{byId:t},currentUserId:n}=e,r=(0,d.oE)(Object.values(e.byTabId).map((({id:t})=>(0,y.Xf0)(e,t)))).map((({chatId:e})=>e)),o=(0,d.oE)(Object.values(e.byTabId).flatMap((({id:t})=>{const n=(0,y.Xf0)(e,t);if(!n)return;const r=(0,y.zeq)(e,n.chatId),o=(0,y.rA3)(e,n.chatId,n.threadId,t);return o?.map((e=>{const t=r[e];if(!t)return;const n=t.content,o="message"===t.replyInfo?.type&&t.replyInfo.replyToPeerId;return n.storyData?.peerId||n.webPage?.story?.peerId||o}))}))),s=(0,d.Am)([...n?[n]:[],...r,...o,...e.recentlyFoundChatIds||[],...(0,c.YA)(a._E9)?.slice(0,a.Q$7)||[],...(0,c.YA)(a.DSF)||[],...(0,c.YA)(a.pX9)||[],...Object.keys(t)]).slice(0,a.ViI);return{...e.chats,similarChannelsById:{},similarBotsById:{},isFullyLoaded:{},loadingParameters:p.HB.chats.loadingParameters,byId:(0,d._E)(e.chats.byId,s),fullInfoById:(0,d._E)(e.chats.fullInfoById,s),lastMessageIds:{all:(0,d._E)(e.chats.lastMessageIds.all||{},s),saved:e.chats.lastMessageIds.saved},topicsInfoById:(0,d._E)(e.chats.topicsInfoById,r)}}function U(e){const{currentUserId:t}=e,n={},r=(0,d.oE)(Object.values(e.byTabId).map((({id:t})=>(0,y.Xf0)(e,t)))).map((({chatId:e})=>e)),o=(0,d.oE)(Object.values(e.byTabId).map((({forumPanelChatId:e})=>e))),i=(0,d.Am)([...r,...t?[t]:[],...o,...(0,c.YA)(a.DSF)||[],...(0,c.YA)(a._E9)?.slice(0,a.Q$7)||[]]),u=Object.values(e.byTabId).reduce(((t,{id:n})=>{const{chatId:r,threadId:o}=(0,y.Xf0)(e,n)||{};if(!r||!o||o===s.l3)return t;const a=t[r]||new Set;return a.add(o),t[r]=a,t}),{}),l=[];return i.forEach((r=>{const a=e.messages.byChatId[r];if(!a)return;const i=(0,y.ZZX)(e,r),c=Array.from(u[r]||[]),f=Object.values(e.messages.byChatId[r].threadsById||{}).map((({threadInfo:e})=>e?.isCommentsInfo?e?.originMessageId:void 0)).filter(Boolean),h=(0,d.Am)(c.concat(f)),m=(0,d._E)(a.threadsById,[s.l3,...h]),p=(0,d.Am)(Object.values(m).flatMap((e=>e.lastViewportIds||[]))),g=(0,y.pSx)(e,r),v=g&&o.includes(r)?Object.values(g).map((({lastMessageId:e})=>e)):[],b=r===t&&e.chats.lastMessageIds.saved?Object.values(e.chats.lastMessageIds.saved):[],A=[i].concat(v).concat(b).filter(Boolean),I=(0,d.Up)(a.byId,p.concat(A)),C=Object.keys(m).reduce(((e,t)=>{const n=m[Number(t)];return e[Number(t)]={...n,listedIds:n.lastViewportIds,pinnedIds:void 0,typingStatus:void 0},e}),{}),w=Object.values(I).reduce(((e,t)=>{if(!t)return e;let n=function(e){const{photo:t,video:n,document:r,sticker:o}=e.content;return{...e,content:{...e.content,photo:t&&{...t,blobUrl:void 0},video:n&&{...n,blobUrl:void 0,previewBlobUrl:void 0},document:r&&{...r,previewBlobUrl:void 0},sticker:o&&{...o,isPreloadedGlobally:void 0}},previousLocalId:void 0}}(t);return n=function(e){return e.reactions?.results.length?{...e,reactions:{...e.reactions,results:e.reactions.results.map((e=>e.localAmount?{...e,localAmount:void 0}:e))}}:e}(n),e[t.id]=n,t.content.pollId&&l.push(t.content.pollId),e}),{});n[r]={byId:w,threadsById:C}})),{byChatId:n,pollById:(0,d._E)(e.messages.pollById,l),sponsoredByChatId:{}}}function _(e){const{byKey:t,themes:n,performance:r,botVerificationShownPeerIds:o,miniAppsCachedPosition:s,miniAppsCachedSize:a}=e.settings;return{byKey:t,themes:n,performance:r,privacy:{},notifyExceptions:{},botVerificationShownPeerIds:o,miniAppsCachedPosition:s,miniAppsCachedSize:a}}function $(e){return{...e.chatFolders}}function j(e){return{...e.groupCalls,byId:{},activeGroupCallId:void 0}}},20179:(e,t,n)=>{n.d(t,{DX:()=>i,Fi:()=>o,Xj:()=>s,rp:()=>a});var r=n(31481);function o(e){return`photo${e.id}?size=x`}function s(e){return"channels"===e?"channels":"chats"===e||"groups"===e?"chats":"users"===e?"users":"bots"===e?"bots":void 0}function a(e){return e.requestUrl?e.requestUrl:e.appName?`${e.botId}?appName=${e.appName}`:e.botId}function i(e){return e===r.f51||e===r.b5_}},62214:(e,t,n)=>{n.d(t,{A5:()=>_,CO:()=>z,Du:()=>l,Gg:()=>C,IC:()=>U,Js:()=>S,L7:()=>E,L8:()=>u,PX:()=>K,Q5:()=>$,QE:()=>h,QK:()=>f,Q_:()=>B,Qe:()=>I,Rl:()=>A,SJ:()=>T,Sq:()=>L,St:()=>R,TJ:()=>O,VN:()=>v,Vs:()=>g,W1:()=>D,WX:()=>y,YE:()=>m,Zg:()=>H,__:()=>N,cG:()=>W,cP:()=>k,e7:()=>w,gA:()=>j,gU:()=>x,kE:()=>b,l1:()=>M,nr:()=>G,rz:()=>V,sT:()=>J,ub:()=>P,yn:()=>p,zc:()=>F});var r=n(23174),o=n(31481),s=n(17663),a=n(13439),i=n(20179),c=n(79089);const d=Date.now()/1e3+31622400;function u(e){return!e.startsWith("-")}function l(e){return"title"in e}function f(e){return!l(e)}function h(e){return`-1${e.padStart(o.bxS-2,"0")}`}function m(e){return p(e)||g(e)}function p(e){return"chatTypeBasicGroup"===e.type}function g(e){return"chatTypeSuperGroup"===e.type}function y(e){return"chatTypeChannel"===e.type}function v(e){return"chatTypePrivate"===e.type||"chatTypeBasicGroup"===e.type}function b(e){return e===o.f51}function A(e){return e===o.b5_}function I(e){return e===o.Ckz}function C(e){switch(e.type){case"chatTypePrivate":return"PrivateChat";case"chatTypeBasicGroup":case"chatTypeSuperGroup":return"AccDescrGroup";case"chatTypeChannel":return"AccDescrChannel";default:return"Chat"}}function w(e){if("chatTypePrivate"===e.type||"chatTypeSecret"===e.type)return e.id}function S(e,t,n=!1){return n?e("SavedMessages"):t.title||e("HiddenName")}function E(e){const t=(0,c.Kl)(e);return t?`${o.jsp}${t}`:void 0}function k(e,t="normal",n=e.avatarPhotoId){if(n)return"big"===t?`profile${e.id}?${n}`:`avatar${e.id}?${n}`}function T(e){return Boolean(e.adminRights||e.isCreator)}function P(e,t){return e.adminRights?.[t]||!1}function M(e,t){return t.id===o.HxB?e.isCreator:e.isCreator||P(e,"manageTopics")||t.isOwner}function L(e,t,n){const r=n?.boostsToUnrestrict&&(n.boostsApplied||0)>=n.boostsToUnrestrict;return Boolean(e.currentUserBannedRights?.[t]||e.defaultBannedRights?.[t]&&!r)}function N(e,t,n,r){if(t&&e.isForum){if(e.isNotJoined)return!1;if(t?.isClosed&&!t.isOwner&&!P(e,"manageTopics"))return!1}return!(e.isRestricted||e.isForbidden||e.migratedTo||!n&&e.isNotJoined||(0,i.DX)(e.id)||I(e.id))&&(!!e.isCreator||!!u(e.id)||(y(e)?P(e,"postMessages"):T(e)||!L(e,"sendMessages",r)))}function B(e,t,n=!1,r=!1){if(!e)return{canAttachMedia:!1,canAttachPolls:!1,canSendStickers:!1,canSendGifs:!1,canAttachEmbedLinks:!1,canSendPhotos:!1,canSendVideos:!1,canSendRoundVideos:!1,canSendAudios:!1,canSendVoices:!1,canSendPlainText:!1,canSendDocuments:!1};const o=T(e);return{canAttachMedia:o||r||!L(e,"sendMedia",t),canAttachPolls:!r&&(o||!L(e,"sendPolls",t))&&(!u(e.id)||n),canSendStickers:o||r||!L(e,"sendStickers",t),canSendGifs:o||r||!L(e,"sendGifs",t),canAttachEmbedLinks:!r&&(o||!L(e,"embedLinks",t)),canSendPhotos:o||r||!L(e,"sendPhotos",t),canSendVideos:o||r||!L(e,"sendVideos",t),canSendRoundVideos:o||r||!L(e,"sendRoundvideos",t),canSendAudios:o||r||!L(e,"sendAudios",t),canSendVoices:o||r||!L(e,"sendVoices",t),canSendPlainText:o||r||!L(e,"sendPlain",t),canSendDocuments:o||r||!L(e,"sendDocs",t)}}function x(e,t,n){if(t?.sendMessages){const{untilDate:n}=t;return n&&n<d?e("Channel.Persmission.Denied.SendMessages.Until",e("formatDateAtTime",[(0,s.A)(new Date(1e3*n),e.code),(0,s.fU)(e,1e3*n)])):e("Channel.Persmission.Denied.SendMessages.Forever")}if(n?.sendMessages)return e("Channel.Persmission.Denied.SendMessages.DefaultRestrictedText")}function F(e,t,n=r.l3,s,a){if(!t?.isForum)return;if(n===r.l3){if(a||s&&!s[o.HxB]?.isClosed)return;return e("lng_forum_replies_only")}const i=s?.[Number(n)];return i?!i.isClosed||i.isOwner||P(t,"manageTopics")?void 0:e("TopicClosedByAdmin"):void 0}function O(e){return e.folderId===o._E9}function D(e,t,n={}){return n[e.id]&&void 0!==n[e.id].isMuted?n[e.id].isMuted:e.isMuted||u(e.id)&&!t.hasPrivateChatsNotifications||y(e)&&!t.hasBroadcastNotifications||m(e)&&!t.hasGroupNotifications}function R(e,t,n={}){const{hasPrivateChatsMessagePreview:r=!0,hasBroadcastMessagePreview:o=!0,hasGroupMessagePreview:s=!0}=t;return n[e.id]&&void 0!==n[e.id].shouldShowPreviews?n[e.id].shouldShowPreviews:u(e.id)&&r||y(e)&&o||m(e)&&s}function U(e){return p(e)||(g(e)||y(e))&&e.isCreator}function _(e,t,n){const{excludedChatIds:r,includedChatIds:o,bots:s,groups:a,contacts:i,nonContacts:c,channels:d}=t,u=[s,a,i,c,d];return void 0!==n&&(Object.values(u).filter(Boolean).length>1||r?.length||o?.length)?e("Chats",n):s?e("FilterBots"):a?e("FilterGroups"):d?e("FilterChannels"):i?e("FilterContacts"):c?e("FilterNonContacts"):void 0}function $(e,t,n){if(n&&!u(t)){if(l(n)){if(t===n.id)return;return n.title}return n.isSelf?e("FromYou"):(0,c.u0)(n)}}function j(e){return e.usernames?.some((({isActive:e})=>e))}function z(e,t,n=!1){if(n)return e.sort(((e,t)=>t.lastMessageId-e.lastMessageId));{const n=e.filter((e=>e.isPinned)),r=e.filter((e=>!e.isPinned&&!e.isHidden)).sort(((e,t)=>t.lastMessageId-e.lastMessageId)),o=e.filter((e=>!e.isPinned&&e.isHidden)).sort(((e,t)=>t.lastMessageId-e.lastMessageId));return[...t?t.map((e=>n.find((t=>t.id===e)))).filter(Boolean):n,...r,...o]}}function V(e){return(t=e).length===o.bxS&&t.startsWith("-1")?e.replace(/^-10+/,""):e.replace("-","");var t}function H(e){return e?.color?.color?e.color.color:e?(t=e.id,Math.abs(Number(V(t)))%7):0;var t}function K(e){const t=H(e);return(0,a.mS)().peerColors?.general[t].colors?.length||1}function W(e,t,n){return e===n&&t!==r.l3}function J(e,t){const n=e(C(t)),{membersCount:r}=t;return t.isRestricted?"Channel"===n?"channel is inaccessible":"group is inaccessible":r?e("Channel"===n?"Subscribers":"Members",r,"i"):n}function G(e){const{title:t,color:n,isVerified:r,isFake:o,isScam:s}=e;return{isCustomPeer:!0,title:t,peerColorId:n,isVerified:r,fakeType:o?"fake":s?"scam":void 0}}},90709:(e,t,n)=>{n.d(t,{NyA:()=>v,GaK:()=>u,wTW:()=>E,WiA:()=>i.W,rt2:()=>a.rt,ZVF:()=>a.ZV,eh$:()=>a.eh,A3H:()=>h,pUr:()=>d,XjE:()=>b.Xj,Sb3:()=>s.Sb,Q_H:()=>o.Q_,ESk:()=>s.ES,ABU:()=>a.AB,FiP:()=>b.Fi,GhJ:()=>r.Gh,ICW:()=>o.IC,l1p:()=>o.l1,__m:()=>o.__,cP1:()=>o.cP,L7p:()=>o.L7,Wm9:()=>a.Wm,JsG:()=>o.Js,Gg4:()=>o.Gg,nrT:()=>o.nr,mrb:()=>a.mr,Pox:()=>s.Po,ZDb:()=>s.ZD,A5e:()=>o.A5,zck:()=>o.zc,zbD:()=>a.zb,ih:()=>a.ih,sTh:()=>o.sT,ubU:()=>o.ub,$r_:()=>a.$r,cG0:()=>o.cG,KlG:()=>r.Kl,FkQ:()=>a.Fk,siT:()=>a.si,sdt:()=>a.sd,Czs:()=>a.Cz,VOI:()=>a.VO,VDY:()=>a.VD,LKA:()=>a.LK,mKC:()=>a.mK,wpT:()=>a.wp,QmU:()=>a.Qm,r_3:()=>a.r_,lH$:()=>a.lH,aND:()=>s.aN,zCu:()=>a.zC,edy:()=>a.ed,GZP:()=>s.GZ,NOt:()=>a.NO,y2W:()=>a.y2,ytg:()=>s.yt,fBR:()=>a.fB,EOe:()=>a.EO,CIU:()=>a.CI,sjA:()=>s.sj,qGu:()=>a.qG,ylE:()=>a.yl,csZ:()=>a.cs,cUZ:()=>c,lkW:()=>a.lk,Q5I:()=>o.Q5,gUn:()=>o.gU,JwS:()=>s.Jw,rK$:()=>s.rK,wbF:()=>s.wb,niV:()=>s.ni,fP4:()=>a.fP,P5b:()=>s.P5,zXI:()=>a.zX,gBO:()=>a.gB,T_0:()=>a.T_,Rp6:()=>a.Rp,dc_:()=>a.dc,QCd:()=>a.QC,COF:()=>o.CO,PXe:()=>o.PX,ZgW:()=>o.Zg,kRw:()=>r.kR,F9N:()=>s.F9,XnE:()=>a.Xn,xiv:()=>a.xi,rIo:()=>a.rI,e7w:()=>o.e7,mU:()=>a.mU,Jjj:()=>l,_I8:()=>s._I,aLQ:()=>w.aL,Mwy:()=>a.Mw,$_j:()=>C,EN7:()=>I,u0l:()=>r.u0,YgS:()=>r.Yg,uCr:()=>p,CDb:()=>r.CD,NZp:()=>a.NZ,sC4:()=>a.sC,CtQ:()=>a.Ct,Pgy:()=>a.Pg,rpZ:()=>b.rp,cy4:()=>a.cy,cWA:()=>s.cW,KGi:()=>a.KG,mR:()=>a.mR,XR0:()=>s.XR,G5T:()=>s.G5,_P2:()=>s._P,QeI:()=>o.Qe,zPL:()=>s.zP,SJk:()=>o.SJ,TJc:()=>o.TJ,yn$:()=>o.yn,WXB:()=>o.WX,YEQ:()=>o.YE,gAJ:()=>o.gA,VsK:()=>o.Vs,kEr:()=>o.kE,Rlt:()=>o.Rl,VNv:()=>o.VN,PL2:()=>r.PL,Ml8:()=>a.Ml,hrn:()=>a.hr,r$r:()=>s.r$,AkQ:()=>s.Ak,vzh:()=>s.vz,X_k:()=>s.X_,CVz:()=>s.CV,iZR:()=>a.iZ,Axm:()=>a.Ax,HN1:()=>s.HN,NbO:()=>s.Nb,ZRp:()=>s.ZR,Ie9:()=>s.Ie,Du0:()=>o.Du,QKj:()=>o.QK,eu8:()=>g,TvC:()=>s.Tv,a0K:()=>f,u72:()=>s.u7,DXc:()=>b.DX,NKO:()=>s.NK,tvf:()=>r.tv,L8L:()=>o.L8,PFE:()=>r.PF,SqZ:()=>o.Sq,cR9:()=>s.cR,LdE:()=>s.Ld,vpO:()=>s.vp,W1R:()=>o.W1,StO:()=>o.St,fuR:()=>m,UBH:()=>r.UB,v$J:()=>s.v$,m4t:()=>w.m4,QEA:()=>o.QE,AKJ:()=>y});var r=n(79089),o=n(62214),s=n(86525),a=n(77312),i=n(24896);function c(e){return e.isOutgoing?e.reactions?.recentReactions?.[0]:void 0}function d(e,t){const{currentUserId:n}=e;return t?.recentReactions?.some((({isUnread:e,isOwn:t,peerId:r})=>e&&!t&&n!==r))}function u(e){return!e.results.some((({count:e,localAmount:t})=>e||t))}function l(e){switch(e.type){case"emoji":return`emoji-${e.emoticon}`;case"custom":return`document-${e.documentId}`;case"paid":return"paid";default:return`unsupported-${e.emoticon||e.documentId}`}}function f(e,t){return e===t||!(!e||!t)&&l(e)===l(t)}function h(e,t){return"all"===t.type?"emoji"===e.type||t.areCustomAllowed:"some"===t.type&&t.allowed.some((t=>f(t,e)))}function m(e,t){return e.slice().sort(((e,n)=>{const r=e?"reaction"in e?e.reaction:e:void 0,o=n?"reaction"in n?n.reaction:n:void 0;if("paid"===r?.type)return-1;if("paid"===o?.type)return 1;const s=t?.findIndex((e=>f(e,r)))||0,a=t?.findIndex((e=>f(e,o)))||0;return(s>-1?s:1/0)-(a>-1?a:1/0)}))}function p(e){return e.reactions?.results?.filter((e=>g(e))).sort(((e,t)=>e.chosenOrder-t.chosenOrder)).map((e=>e.reaction))||[]}function g(e){return void 0!==e.chosenOrder}function y(e,t){const n=e.map((e=>g(e)?{...e,chosenOrder:void 0,count:e.count-1}:e)).filter((({count:e})=>e>0));return t.forEach(((e,t)=>{const r=n.findIndex((t=>f(t.reaction,e)));r>-1?n[r]={...n[r],chosenOrder:t,count:n[r].count+1}:n.push({reaction:e,chosenOrder:t,count:1})})),n}function v(e,t,n){const r=[];return e.some((e=>"paid"===e.reaction.type))?(e.forEach((e=>{"paid"!==e.reaction.type?r.push(e):r.push({...e,localAmount:(e.localAmount||0)+t,chosenOrder:-1,localIsPrivate:void 0!==n?n:e.localIsPrivate,localPreviousChosenOrder:e.chosenOrder})})),r):[{reaction:{type:"paid"},count:0,chosenOrder:-1,localAmount:t,localIsPrivate:n},...e]}var b=n(20179);const A=480;function I(e,t="preview",n){if(Boolean(e.content.video)){if(n&&!e.content.altVideos)return;const r=n?e.content.altVideos.reduce(((e,t)=>Math.abs((t.width||0)-A)<Math.abs((e.width||0)-A)?t:e)):e.content.video;return(0,a.sC)(r,t)}return(0,a.rI)(e.content.photo,t)}function C(e,t){return`story${e}-${t}`}var w=n(78396),S=n(87894);function E(e,{visibility:t,isUnspecified:n,allowedIds:r,blockedIds:s,shouldAllowPremium:a,botsPrivacy:i}){const{users:{byId:c},chats:{byId:d}}=e,[u,l]=(0,S.jB)(r,o.L8),[f,h]=(0,S.jB)(s,o.L8);return{visibility:t,isUnspecified:n,allowedUsers:u.map((e=>c[e])).filter(Boolean),allowedChats:l.map((e=>d[e])).filter(Boolean),blockedUsers:f.map((e=>c[e])).filter(Boolean),blockedChats:h.map((e=>d[e])).filter(Boolean),shouldAllowPremium:a,botsPrivacy:i}}},77312:(e,t,n)=>{n.d(t,{$r:()=>ue,AB:()=>X,Ax:()=>A,CI:()=>N,Ct:()=>$,Cz:()=>Y,EO:()=>O,Fk:()=>ae,KG:()=>Z,LK:()=>oe,Ml:()=>v,Mw:()=>K,NO:()=>w,NZ:()=>re,Pg:()=>U,QC:()=>P,Qm:()=>I,Rp:()=>M,T_:()=>E,VD:()=>B,VO:()=>W,Wm:()=>ee,Xn:()=>te,ZV:()=>d,cs:()=>C,cy:()=>H,dc:()=>T,ed:()=>L,eh:()=>ie,fB:()=>S,fP:()=>g,gB:()=>p,hr:()=>b,iZ:()=>ce,ih:()=>G,lH:()=>se,lk:()=>f,mK:()=>h,mR:()=>c,mU:()=>R,mr:()=>j,qG:()=>k,rI:()=>D,r_:()=>i,rt:()=>F,sC:()=>_,sd:()=>de,si:()=>Q,wp:()=>m,xi:()=>ne,y2:()=>x,yl:()=>u,zC:()=>y,zX:()=>l,zb:()=>J});var r=n(23174),o=n(82393),s=n(91525),a=n(86525);function i(e){return e.content}function c(e){return Boolean(u(e)||l(e)||y(e)||g(e)||I(e)||C(e)||h(e)||m(e)||p(e))}function d(e){const{photo:t,video:n,altVideos:r,audio:o,document:s,text:a,webPage:i,...c}=e.content;return!n?.isRound&&!Object.keys(c).length}function u(e){return e.content.photo}function l(e){return e.content.video}function f(e){const{video:t}=e.content;return t?.isRound?t:void 0}function h(e){return e.content.action}function m(e){return e.content.audio}function p(e){return e.content.voice}function g(e){return e.content.sticker}function y(e){return e.content.document}function v(e){return"photo"===e.innerMediaType}function b(e){return"video"===e.innerMediaType}function A(e){const t=y(e);return t?"image/webp"===t.mimeType:void 0}function I(e){return e.content.contact}function C(e){return e.content.pollId}function w(e){return e.content.invoice}function S(e){return e.content.location}function E(e){return e.content.webPage}function k(e){return e.content.paidMedia}function T(e){return E(e)?.photo}function P(e){return E(e)?.video}function M(e){return E(e)?.audio}function L(e){return u(e)||l(e)||y(e)||g(e)||m(e)||p(e)||T(e)||P(e)||M(e)}function N(e){return function(e){const t=u(e)||l(e)||y(e)||g(e)||T(e)||P(e)||w(e)?.extendedMedia;if(t)return t.thumbnail}(e)?.dataUri}function B(e){return e.thumbnail?.dataUri}function x(e){const t=u(e)||l(e),n=w(e)?.extendedMedia;return Boolean(n||t?.isSpoiler)}function F(e,t,n,r,o){const{long:s,lat:a,accessHash:i,accuracyRadius:c}=e;return`staticMap:${i}?lat=${a}&long=${s}&w=${t}&h=${n}&zoom=${r}&scale=${o}&accuracyRadius=${c}`}function O(e,t){const{video:n,sticker:r,audio:o,voice:s,document:a}=e.content,i=u(e)||T(e),c=function(e){return"suggestProfilePhoto"===e.content.action?.type?e.content.action.photo:void 0}(e),d=n||P(e),l=a||function(e){return E(e)?.document}(e),f=o||M(e);return d?_(d,t):i||c?D(i||c,t,Boolean(c)):l?j(l,t):r?K(r,t):f?z(f,t):s?V(s,t):void 0}function D(e,t,n){const r=`photo${e.id}`,o="photo"===e.mediaType&&e.isVideo;switch(t){case"micro":case"pictogram":return`${r}?size=${n?"a":"m"}`;case"inline":return Z(e)?void 0:`${r}?size=${n?"b":"x"}`;case"preview":return`${r}?size=${n?"b":"x"}`;case"download":return o?U(e):r;default:return r}}function R(e){return`photo${e.id}?size=c`}function U(e){if(e.isVideo)return`photo${e.id}?size=u`}function _(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return`${n}?size=m`;case"inline":return Z(e)?void 0:q(e,n);case"preview":return`${n}?size=x`;case"download":return`${n}?download`;default:return q(e,n)}}function $(e){return e.hasVideoPreview?`document${e.id}?size=v`:void 0}function j(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":case"inline":case"preview":if(!(0,s.ON)(e)||Z(e))return;return`${n}?size=m`;default:return n}}function z(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return X(e)?`${n}?size=m`:void 0;case"inline":return q(e,n);case"download":return`${n}?download`;default:return n}}function V(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return;case"download":return`${n}?download`;default:return n}}function H(e){if(e)return`webDocument:${e.url}`}function K(e,t){const n=`document${e.id}`;switch(t){case"micro":case"pictogram":return e.previewPhotoSizes?.some((e=>"s"===e.type))?`${n}?size=s`:K(e,"preview");case"preview":return`${n}?size=m`;case"download":return`${n}?download`;default:return n}}function W(e,t){switch(e.mediaType){case"photo":return D(e,t);case"video":return _(e,t);case"document":return j(e,t);case"audio":return z(e,t);case"voice":return V(e,t);case"sticker":return K(e,t);case"webDocument":return H(e);default:return}}function J(e){const{photo:t}=e;if(t)return`photo${t.id}?size=x`}function G(e){const{document:t}=e;if(t)return`document${t.id}`}function q(e,t){return o.Uz&&o.Yw?`${t}?fileSize=${e.size}&mimeType=${e.mimeType}`:t}function X(e){return e.thumbnailSizes&&e.thumbnailSizes.length>0}function Y(e,t){const n="document"===e.mediaType&&"video"===e.innerMediaType,s="video"===e.mediaType||n,a="audio"===e.mediaType,i="voice"===e.mediaType,c=Q(e)||0;return"download"===t?o.Uz&&c>o.kn&&!o.l5?r.qZ.DownloadUrl:r.qZ.BlobUrl:s&&o.Uz&&("full"===t||"inline"===t)?r.qZ.Progressive:a||i?i&&!o.Oo?r.qZ.BlobUrl:r.qZ.Progressive:r.qZ.BlobUrl}function Q(e){return"size"in e?e.size:void 0}function Z(e){return"blobUrl"in e?Boolean(e.blobUrl):"previewBlobUrl"in e&&Boolean(e.previewBlobUrl)}function ee(e,t,n=!1){return se(e,t,n?"media":"inlineMedia")}function te(e){return e.sizes.find((e=>"w"===e.type))||e.sizes.find((e=>"y"===e.type))||ne(e)}function ne(e){return e.sizes.find((e=>"x"===e.type))||e.sizes.find((e=>"m"===e.type))||e.sizes.find((e=>"s"===e.type))||e.thumbnail}function re(e){if(e.width&&e.height)return e}function oe(e,t=!1,n=!1){return{isUploading:n,isTransferring:n||t,transferProgress:Number(e)}}function se(e,t,n){let r;switch(n){case"media":r=e=>{const t=l(e);return u(e)||t&&!t.isRound&&!t.isGif};break;case"documents":r=y;break;case"links":r=e=>E(e)||(0,a.xH)(e);break;case"audio":r=m;break;case"voice":r=e=>{const t=l(e);return p(e)||t&&t.isRound};break;case"inlineMedia":r=e=>{const t=l(e),n=y(e);return u(e)||t&&!t.isRound&&!t.isGif||n&&v(n)||n&&b(n)};break;default:return[]}return t.reduce(((t,n)=>(e[n]&&r(e[n])&&t.push(n),t)),[])}function ae(e){const{audio:t,voice:n,video:r}=i(e),o=t||n||r||P(e)||M(e);if(o)return o.duration}function ie(e,t){const n=Boolean(u(e)||T(e)||Boolean(l(e)||P(e))),r=Boolean(m(e)||p(e)||y(e)),o=(0,a.ES)(t);return n&&("photo"===o||"video"===o)||r&&("audio"===o||"file"===o)}function ce(e){return!(!e.content||!e.content.photo&&(!e.content.video||e.content.video.isRound||e.content.video.isGif))}function de(e){if("fileName"in e&&e.fileName)return e.fileName;if("sticker"===e.mediaType){const t=e.isLottie?"tgs":e.isVideo?"webm":"webp";return`${e.id}.${t}`}return"photo"===e.mediaType?`${e.id}.${e.isVideo?"mp4":"jpg"}`:"voice"===e.mediaType?`${e.id}.${o.Oo?"ogg":"wav"}`:"id"in e&&e.id?e.id:`${e.mediaType}-${Math.random().toString(36).slice(4)}`}function ue(e,t){const n=W(t,"download");return!!n&&Boolean(e[n])}},3544:(e,t,n)=>{n.d(t,{GG:()=>h,Gn:()=>l,Su:()=>f,dS:()=>u,oL:()=>m,vs:()=>d});var r=n(23174),o=n(31481),s=n(58849),a=n(18501),i=n(86525);const c=["⠺","⠵","⠞","⠟"],d=80;function u(e,t,n,r=!1,o=d,a=!1){const i=!r&&f(t);return`${i?`${i} `:""}${m(e,t,n,(0,s.A)(l(t,n),o),a)}`}function l(e,t){const n=(0,i.WD)(e),o=(0,i.P5)(t?.story||e);if(!o)return n;const{entities:s}=e.content.text||{};if(!s?.length)return n?`${n}\n${o}`:o;const a=s.reduce(((e,{type:t,offset:n,length:o})=>{if(t!==r.C7.Spoiler)return e;const s=function(e){return new Array(e).fill(void 0).map((()=>c[Math.floor(Math.random()*c.length)])).join("")}(o);return`${e.substr(0,n)}${s}${e.substr(n+o,e.length)}`}),o);return n?`${n}\n${a}`:a}function f(e){const{photo:t,video:n,audio:r,voice:o,document:s,sticker:a,pollId:i,paidMedia:c}=e.content;return e.groupedId||t||c?"🖼":n?"📹":a?a.emoji:r?"🎧":o?"🎤":s?"📎":i?"📊":void 0}function h(e,t,n){return p(e,t,n)}function m(e,t,n,r,o=!1){return p(e,t.content,n,t,r,o)}function p(e,t,n,r,s,c=!1){const{text:d,photo:u,video:l,audio:f,voice:h,document:m,sticker:p,contact:g,invoice:y,location:v,game:b,storyData:A,giveaway:I,giveawayResults:C,paidMedia:w}=t,{poll:S}=n||{};let E,k=!1;const T=w?.isBought&&w.extendedMedia,P=w&&!w.isBought?w.extendedMedia:void 0,M=w&&w.extendedMedia.length>1,L=!M&&(T?.[0].video||P?.[0].duration),N=!M&&!L;if((r?.groupedId||M)&&(k=!0,E=s||e("lng_in_dlg_album")),(u||N)&&(k=!0,E=s||e("AttachPhoto")),(l||L)&&(k=!0,E=s||e(l?.isGif?"AttachGif":"AttachVideo")),p&&(E=e("AttachSticker").trim()),f&&(E=function(e){const{audio:t,text:n}=e;return t&&[t.title,t.performer].filter(Boolean).join(" — ")||n?.text}(t)||e("AttachMusic")),h&&(k=!0,E=s||e("AttachAudio")),m&&(k=!c,E=c?m.fileName:s||m.fileName),g&&(E=e("AttachContact")),S&&(E=(0,a.f)({text:S.summary.question.text,entities:S.summary.question.entities,noLineBreaks:!0})),y&&(E=y.extendedMedia?y.title:`${e("PaymentInvoice")}: ${y.description}`),d&&(c&&E&&!k?E+=`\n${s}`:E=s),"geo"!==v?.mediaType&&"venue"!==v?.mediaType||(E=e("Message.Location")),"geoLive"===v?.mediaType&&(E=e("Message.LiveLocation")),b&&(E=`🎮 ${b.title}`),I&&(E=e("BoostingGiveawayChannelStarted")),C&&(E=e("Message.GiveawayEndedWinners",C.winnersCount)),A&&(E=s||e(r?"ForwardedStory":"Chat.ReplyStory")),(0,i.Sv)(t)){const n=(0,i.Qm)(e,t);n&&(E=n)}return E||o.bVP}},86525:(e,t,n)=>{n.d(t,{Ak:()=>k,CV:()=>G,ES:()=>q,F9:()=>L,G5:()=>J,GZ:()=>f,HN:()=>F,Ie:()=>S,Jw:()=>I,Ld:()=>_,NK:()=>X,Nb:()=>x,P5:()=>v,Po:()=>V,Qm:()=>H,Sb:()=>z,Sv:()=>W,Tv:()=>E,WD:()=>m,XR:()=>p,X_:()=>O,ZD:()=>C,ZR:()=>R,_I:()=>B,_P:()=>T,aN:()=>b,cR:()=>j,cW:()=>y,em:()=>N,ni:()=>g,r$:()=>K,rK:()=>U,sj:()=>h,u7:()=>P,v$:()=>Q,vp:()=>$,vz:()=>D,wb:()=>A,xH:()=>w,yt:()=>Y,zP:()=>M});var r=n(23174),o=n(31481),s=n(87894),a=n(60343),i=n(80140),c=n(13439),d=n(62214),u=n(79089);const l=new RegExp(o.kNZ,"i");function f(e,t){return["message",e.toString().replace(".","-"),t].filter(Boolean).join("-")}function h(e){return e.previousLocalId||e.id}function m(e){const{transcriptionId:t}=e,n=(0,c.mS)();return t&&n.transcriptions[t]?.text}function p(e){const{text:t,sticker:n,photo:r,video:o,audio:s,voice:a,document:i,pollId:c,webPage:d,contact:u,invoice:l,location:f,game:h,action:m,storyData:p,giveaway:g,giveawayResults:y,isExpiredVoice:v,paidMedia:b}=e.content;return Boolean(t)||!(n||r||o||s||a||i||u||c||d||l||f||h||m?.phoneCall||p||g||y||v||b)}function g(e,t){const n=t.content.pollId?e.messages.pollById[t.content.pollId]:void 0,{peerId:r,id:o}=t.content.storyData||{};return y({poll:n,story:o&&r?e.stories.byPeerId[r]?.byId[o]:void 0})}function y({poll:e,story:t}){return{poll:e,story:t&&"content"in t?t:void 0}}function v(e){return p(e)?e.content.text?.text||o.bVP:void 0}function b(e){const{text:t,sticker:n,photo:o,video:s,audio:a,voice:i,document:c,pollId:d,webPage:u,contact:l,action:f,game:h,invoice:m,location:p,storyData:g}=e.content;if(n||s?.isRound)return!0;if(!t||o||s||a||i||c||d||u||l||f||h||m||p||g)return!1;const y=t?.entities?.some((e=>e.type!==r.C7.CustomEmoji));return Boolean(e.emojiOnlyCount&&!y)}function A(e){const{text:t}=e.content;if(!t?.entities?.length&&1===e.emojiOnlyCount)return t.text}function I(e){const{text:t}=e.content;if(1===t?.entities?.length&&t.entities[0].type===r.C7.CustomEmoji&&1===e.emojiOnlyCount)return t.entities[0].documentId}function C(e){const{text:t}=e.content;let n;if(t?.entities){const e=t.entities.find((e=>e.type===r.C7.TextUrl));if(e&&(n=e.url.match(l)),!n){const e=t.entities.find((e=>e.type===r.C7.Url));if(e){const{offset:r,length:o}=e;n=t.text.substring(r,r+o).match(l)}}}if(!n&&t&&(n=t.text.match(l)),n)return{url:n[0],domain:n[3]}}function w(e){const{text:t}=e.content,n=t&&t.text.match(l);if(n)return{url:n[0],domain:n[3]}}function S(e){return e.isOutgoing}function E(e){return Boolean("message"===e.replyInfo?.type)}function k(e){return Boolean(e.forwardInfo||e.content.storyData)}function T(e){return Boolean(e.content.action)||K(e)}function P(e){return e.chatId===o.zv8&&Math.round(e.id)!==e.id}function M(e){return Boolean(e.senderId)&&!(0,d.L8)(e.senderId)&&S(e)}function L(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:(0,d.QK)(t)?(0,u.u0)(t):(0,d.Js)(e,t)}function N(e,t){if(t)return"isCustomPeer"in t?t.titleKey?e(t.titleKey):t.title:(0,d.QK)(t)?(0,u.Yg)(t):(0,d.Js)(e,t)}function B(e){return e.sendingState?"messageSendingStateFailed"===e.sendingState?"failed":"pending":"succeeded"}function x(e){return(0,a.iL)(e.id)}function F(e){return"messageSendingStateFailed"===e.sendingState}function O(e){return e.content.action&&"historyClear"===e.content.action.type}function D(e){const{location:t}=e.content;return"geoLive"===t?.mediaType&&(0,i.Fm)()-(e.date||0)>=t.period}function R(e,t){const{text:n,game:r}=e.content,o=x(e),s=P(e),a=T(e);return Boolean(n?.text.length&&!e.emojiOnlyCount&&!r&&(t||!e.isOutgoing)&&!o&&!s&&!a&&!e.isScheduled)}function U(e){return 1===e.inlineButtons?.length&&1===e.inlineButtons[0].length&&e.inlineButtons[0][0]}function _(e){return e.sort(((e,t)=>e-t))}function $(e){return e.sort(((e,t)=>t-e))}function j(e,t){let n=!1,r=e.length?e.map((e=>(0,s.h8)(e,t)&&!n?(n=!0,_((0,s.Am)(e.concat(t)))):e)):[t];n||(r=r.concat([t])),r.sort(((e,t)=>e[0]-t[0]));let o=r.length;for(let e=0;e<o;e++){const t=r[e],n=r[e-1];n&&(n.includes(t[0])||n.includes(t[0]-1))&&(r[e-1]=_((0,s.Am)(t.concat(n))),r.splice(e,1),o--,e--)}return r}function z(e,t=!1){const n=e.content.text;if(!n)return;const{text:s}=n;let{entities:a}=n;if(s&&"chatId"in e){if(e.chatId===o.zv8){const e=s.match(/^\D*([\d-]{5,7})\D/)?.[1];e&&(a=[...a||[],{type:t?r.C7.Spoiler:r.C7.Code,offset:s.indexOf(e),length:e.length}],a.sort(((e,t)=>e.offset>t.offset?1:-1)))}if(t&&e.chatId===o.b5_&&a&&a.some((e=>e.type===r.C7.Code))){const e=a;a=[];for(let t=0;t<e.length;t++){const n=e[t];n.type===r.C7.Code&&a.push({type:r.C7.Spoiler,offset:n.offset,length:n.length}),a.push(n)}}}return{text:s,entities:a}}function V(e,t){return H(e,t.content)}function H(e,t){const{isExpiredVoice:n,isExpiredRoundVideo:r}=t;return n?e("Message.VoiceMessageExpired"):r?e("Message.VideoMessageExpired"):void 0}function K(e){return W(e.content)}function W(e){const{isExpiredVoice:t,isExpiredRoundVideo:n}=e??{};return Boolean(t||n)}function J(e){return void 0!==e.content?.ttlSeconds}function G(e){return e.content.action&&"joinedChannel"===e.content.action.type}function q(e){return o.IH3.has(e.mimeType)?"audio":e.shouldSendAsFile?"file":o.gex.has(e.mimeType)?"photo":o.fNs.has(e.mimeType)?"video":"file"}function X(e){return e?"image/webp"===e.mimeType||e.mimeType===o.ikg||e.mimeType===o.Msx:void 0}function Y(e,t,n){const s=(0,u.Kl)(e),a=(0,d.rz)(e.id),i=s||`c/${a}`,c=t&&t!==r.l3?`/${t}`:"",l=n?`/${n}`:"";return`${o.jsp}${i}${c}${l}`}function Q(e,t){const n=[];let r=[];return e.reduce(((e,t)=>{const n=e[e.length-1];return t.groupedId&&n?.[0]?.groupedId===t.groupedId?(n.push(t),e):(e.push([t]),e)}),[]).forEach((e=>{r.length+e.length>t&&(n.push(r),r=[]),r.push(...e)})),r.length&&n.push(r),n}},24896:(e,t,n)=>{function r(e,t){return`${e}_${t}`}n.d(t,{W:()=>r})},70636:(e,t,n)=>{n.d(t,{PU:()=>f,cy:()=>h,mO:()=>l,vj:()=>u});var r=n(31481),o=n(43044),s=n(529),a=n(29807),i=n(13439),c=n(62214),d=n(86525);function u(e){return"title"in e}function l(e){return!u(e)}function f({ids:e,query:t,type:n="peer"}){if(!t)return e;const r=(0,i.mS)(),l=(0,o.Yw)(),f=(0,s.l)(t),h="chat"===n?a.hds:"user"===n?a.mBe:a.PVB;return e.filter((e=>{const t=h(r,e);if(!t)return!1;const n=u(t)?(0,c.Js)(l,t):e===r.currentUserId?l("SavedMessages"):void 0,o=n?f(n):void 0,s=(0,d.em)(l,t);return o||s&&f(s)||Boolean(t.usernames?.find((({username:e})=>f(e))))}))}function h(e){return u(e)?"chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type?"ChatList.PeerTypeGroup":"chatTypeChannel"===e.type?"ChatList.PeerTypeChannel":"chatTypePrivate"===e.type?"ChatList.PeerTypeNonContact":void 0:e.id===r.zv8?"ServiceNotifications":e.isSupport?"SupportStatus":e.type&&"userTypeBot"===e.type?"ChatList.PeerTypeBot":e.isContact?"ChatList.PeerTypeContact":"ChatList.PeerTypeNonContactUser"}},26129:(e,t,n)=>{function r(e){const{replyInfo:t}=e;if(t&&"message"===t.type)return t}function o(e){const{replyInfo:t}=e;if(t&&"story"===t.type)return t}n.d(t,{Q:()=>r,W:()=>o})},78396:(e,t,n)=>{n.d(t,{T8:()=>s,aL:()=>o,m4:()=>a});var r=n(23174);function o(e,t){const n=`sticker${e}`;return t?`${n}?size=m`:n}function s(e){return e.entities?.some((e=>e.type===r.C7.CustomEmoji))}function a(e){if(!e.entities)return e;const t=e.entities.filter((e=>e.type!==r.C7.CustomEmoji));return{...e,entities:t}}},79089:(e,t,n)=>{n.d(t,{CD:()=>l,Gh:()=>p,Kl:()=>y,PF:()=>f,PL:()=>h,UB:()=>g,Yg:()=>u,kR:()=>v,tv:()=>m,u0:()=>d});var r=n(31481),o=n(17663),s=n(21309),a=n(87894),i=n(64713),c=n(80140);function d(e){if(e)switch(e.type){case"userTypeBot":return e.firstName;case"userTypeRegular":return e.firstName||e.lastName;case"userTypeDeleted":case"userTypeUnknown":return"Deleted";default:return}}function u(e){if(e){if(h(e))return"Deleted Account";switch(e.type){case"userTypeBot":case"userTypeRegular":if(e.firstName&&e.lastName)return`${e.firstName} ${e.lastName}`;if(e.firstName)return e.firstName;if(e.lastName)return e.lastName;if(e.phoneNumber)return`+${(0,i.n4)(e.phoneNumber)}`}}}function l(e,t,n){if(t.id===r.zv8)return e("ServiceNotifications");if(t.isSupport)return e("SupportStatus");if(t.type&&"userTypeBot"===t.type)return t.botActiveUsers?e("BotUsers",t.botActiveUsers,"i"):e("Bot");if(!n)return"";switch(n.type){case"userStatusEmpty":return e("ALongTimeAgo");case"userStatusLastMonth":return e("WithinAMonth");case"userStatusLastWeek":return e("WithinAWeek");case"userStatusOffline":{const{wasOnline:t}=n;if(!t)return e("LastSeen.Offline");const r=(0,c.SF)(),s=new Date(Date.now()+1e3*r),a=new Date(1e3*t);if(a>=s)return e("LastSeen.JustNow");const i=new Date(s.getTime()-a.getTime());if(i.getTime()/1e3<60)return e("LastSeen.JustNow");if(i.getTime()/1e3<3600)return e("LastSeen.MinutesAgo",Math.floor(i.getTime()/1e3/60));const d=new Date;if(d.setHours(0,0,0,0),a>new Date(d.getTime()+1e3*r))return i.getTime()/1e3<21600?e("LastSeen.HoursAgo",Math.floor(i.getTime()/1e3/60/60)):e("LastSeen.TodayAt",(0,o.fU)(e,a));const u=new Date;return u.setDate(s.getDate()-1),u.setHours(0,0,0,0),a>new Date(u.getTime()+1e3*r)?e("LastSeen.YesterdayAt",(0,o.fU)(e,a)):e("LastSeen.AtDate",(0,o.Lu)(e,a))}case"userStatusOnline":return e("Online");case"userStatusRecently":return e("Lately");default:return}}function f(e,t,n=!1){const{id:o,type:s}=e;return!(!t||o===r.zv8||e.isSelf&&!n||"userStatusOnline"!==t.type||"userTypeBot"===s)}function h(e){return("userTypeDeleted"===e.type||"userTypeUnknown"===e.type)&&e.id!==r.zv8}function m(e){return"userTypeBot"===e.type}function p(e){return!e.isSelf&&!e.isContact&&!m(e)&&e.id!==r.Ckz}function g(e,t,n,r){return(0,a.My)(e,(e=>{const o=(0,c.Fm)();if(r&&r.includes(e))return o+172800-(r.length-r.indexOf(e));const a=t[e],i=n[e];if(!a||!i)return 0;if("userStatusOnline"===i.type)return i.expires;if("userStatusOffline"===i.type&&i.wasOnline)return i.wasOnline;switch(i.type){case"userStatusRecently":return o-s.d_;case"userStatusLastWeek":return o-7*s.d_;case"userStatusLastMonth":return o-7*s.d_*30;default:return 0}}),"desc")}function y(e){return e.usernames?.find((e=>e.isActive))?.username}function v(e){return`peer-story${e}`}},13439:(e,t,n)=>{n.d(t,{EK:()=>c,UF:()=>s,aJ:()=>i,ko:()=>a,mS:()=>o});const r=(0,n(37932).cl)(),o=r.getGlobal,s=r.setGlobal,a=r.getActions,i=r.addActionHandler,c=r.withGlobal},20714:(e,t,n)=>{n.d(t,{HB:()=>u,Je:()=>l,LH:()=>i,PI:()=>d,PX:()=>c});var r=n(89925),o=n(31481),s=n(82393),a=n(52533);const i={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!0,stickerEffects:!0,storyRibbonAnimations:!0,snapEffect:!0},c={animatedEmoji:!0,autoplayGifs:!0,autoplayVideos:!0,contextMenuAnimations:!0,contextMenuBlur:!0,loopAnimatedStickers:!0,mediaViewerAnimations:!0,messageComposerAnimations:!0,messageSendingAnimations:!0,pageTransitions:!0,reactionEffects:!0,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},d={animatedEmoji:!1,autoplayGifs:!1,autoplayVideos:!1,contextMenuAnimations:!1,contextMenuBlur:!1,loopAnimatedStickers:!1,mediaViewerAnimations:!1,messageComposerAnimations:!1,messageSendingAnimations:!1,pageTransitions:!1,reactionEffects:!1,rightColumnAnimations:!1,stickerEffects:!1,storyRibbonAnimations:!1,snapEffect:!1},u={isInited:!0,attachMenu:{bots:{}},passcode:{},twoFaSettings:{},isAppUpdateAvailable:!1,isElectronUpdateAvailable:!1,shouldShowContextMenuHint:!0,audioPlayer:{lastPlaybackRate:o.P3f},mediaViewer:{lastPlaybackRate:o.P3f},authRememberMe:!0,countryList:{phoneCodes:[],general:[]},blocked:{ids:[],totalCount:0},users:{byId:{},statusesById:{},fullInfoById:{},previewMediaByBotId:{},commonChatsById:{},botAppPermissionsById:{}},peers:{profilePhotosById:{}},chats:{listIds:{},isFullyLoaded:{},orderedPinnedIds:{},totalCount:{},lastMessageIds:{},byId:{},fullInfoById:{},similarChannelsById:{},similarBotsById:{},topicsInfoById:{},loadingParameters:{active:{},archived:{},saved:{}}},messages:{byChatId:{},sponsoredByChatId:{},pollById:{}},stories:{byPeerId:{},orderedPeerIds:{archived:[],active:[]},hasNext:!0,hasNextInArchive:!0,stealthMode:{}},groupCalls:{byId:{}},attachmentSettings:{shouldCompress:!0,shouldSendGrouped:!0,isInvertedMedia:void 0,webPageMediaSize:void 0},scheduledMessages:{byChatId:{}},quickReplies:{byId:{},messagesById:{}},chatFolders:{byId:{},invites:{}},fileUploads:{byMessageKey:{}},recentEmojis:["grinning","kissing_heart","christmas_tree","brain","trophy","duck","cherries"],recentCustomEmojis:["5377305978079288312"],reactions:{defaultTags:[],topReactions:[],recentReactions:[],effectReactions:[],hash:{}},availableEffectById:{},stickers:{setsById:{},added:{},recent:{stickers:[]},favorite:{stickers:[]},greeting:{stickers:[]},premium:{stickers:[]},featured:{setIds:[]},effect:{stickers:[],emojis:[]},forEmoji:{}},customEmojis:{lastRendered:[],byId:{},added:{},forEmoji:{},statusRecent:{}},emojiKeywords:{},gifs:{saved:{}},topPeers:{},topInlineBots:{},topBotApps:{},activeSessions:{byHash:{},orderedHashes:[]},activeWebSessions:{byHash:{},orderedHashes:[]},settings:{byKey:{theme:"light",shouldUseSystemTheme:!0,messageTextSize:s.pz?o.fSF:s.MP?o.pZc:o.pk8,animationLevel:o.i11,messageSendKeyCombo:"enter",canAutoLoadPhotoFromContacts:!0,canAutoLoadPhotoInPrivateChats:!0,canAutoLoadPhotoInGroups:!0,canAutoLoadPhotoInChannels:!0,canAutoLoadVideoFromContacts:!0,canAutoLoadVideoInPrivateChats:!0,canAutoLoadVideoInGroups:!0,canAutoLoadVideoInChannels:!0,canAutoLoadFileFromContacts:!1,canAutoLoadFileInPrivateChats:!1,canAutoLoadFileInGroups:!1,canAutoLoadFileInChannels:!1,autoLoadFileMaxSizeMb:10,hasWebNotifications:!0,hasPushNotifications:!0,notificationSoundVolume:5,shouldSuggestStickers:!0,shouldSuggestCustomEmoji:!0,shouldSkipWebAppCloseConfirmation:!1,shouldUpdateStickerSetOrder:!0,language:"en",timeFormat:"24h",wasTimeFormatSetManually:!1,isConnectionStatusMinimized:!0,shouldArchiveAndMuteNewNonContact:!1,shouldNewNonContactPeersRequirePremium:!1,shouldHideReadMarks:!1,canTranslate:!1,canTranslateChats:!0,doNotTranslate:[],canDisplayChatInTitle:!0,shouldAllowHttpTransport:!0,shouldWarnAboutSvg:!0,chatFolderLayout:a.R.Vertical},themes:{light:{isBlurred:!0,patternColor:o.be8},dark:{isBlurred:!0,patternColor:o.MkD}},performance:i,privacy:{},notifyExceptions:{},botVerificationShownPeerIds:[]},serviceNotifications:[],trustedBotIds:[],transcriptions:{},translations:{byChatId:{}},byTabId:{},archiveSettings:{isMinimized:!1,isHidden:!1}},l={id:0,isMasterTab:!1,isLeftColumnShown:!0,isChatInfoShown:!1,newChatMembersProgress:r.D7.Closed,uiReadyState:0,shouldInit:!0,gifSearch:{},stickerSearch:{},messageLists:[],activeChatFolder:0,tabThreads:{},inlineBots:{isLoading:!1,byUsername:{}},webApps:{openedWebApps:{},openedOrderedKeys:[],sessionKeys:[],modalState:"maximized",isModalOpen:!1,isMoreAppsTabActive:!1},globalSearch:{},userSearch:{},middleSearch:{byChatThreadKey:{}},sharedMediaSearch:{byChatThreadKey:{}},chatMediaSearch:{byChatThreadKey:{}},management:{byChatId:{}},savedGifts:{filter:{...o.tBS},giftsByPeerId:{}},storyViewer:{isMuted:!0,isRibbonShown:!1},mediaViewer:{volume:o.Hz7,playbackRate:o.P3f,isMuted:!1},audioPlayer:{volume:o.Hz7,playbackRate:o.P3f,isMuted:!1},isShareMessageModalShown:!1,isWebAppsCloseConfirmationModalOpen:!1,forwardMessages:{},replyingMessage:{},pollResults:{},payment:{},starsPayment:{},notifications:[],dialogs:[],activeReactions:{},activeDownloads:{},statistics:{byChatId:{}},pollModal:{isOpen:!1},requestedTranslations:{byChatId:{}}}},16350:(e,t,n)=>{n.d(t,{CX:()=>S,Cb:()=>P,Kr:()=>C,Nl:()=>A,SJ:()=>E,We:()=>m,XU:()=>l,cz:()=>T,ec:()=>f,h7:()=>b,hO:()=>c,iW:()=>v,lt:()=>y,pW:()=>p,qw:()=>w,tN:()=>M,tP:()=>d,t_:()=>k,wi:()=>g,yK:()=>u});var r=n(31481),o=n(22986),s=n(87894),a=n(29807);const i=["active","archived"];function c(e,t,n){return{...e,chats:{...e.chats,listIds:{...e.chats.listIds,[t]:n}}}}function d(e,t,n,r,o){return{...e,chats:{...e.chats,loadingParameters:{...e.chats.loadingParameters,[t]:{nextOffsetId:n,nextOffsetPeerId:r,nextOffsetDate:o}}}}}function u(e,t,n,r){const o="saved"===r?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[o]:{...e.chats.lastMessageIds[o],[t]:n}}}}}function l(e,t,n){const r="saved"===n?"saved":"all";return{...e,chats:{...e.chats,lastMessageIds:{...e.chats.lastMessageIds,[r]:{...e.chats.lastMessageIds[r],...t}}}}}function f(e,t,n){const{[t]:r}=e.chats.listIds,o=r?.length?n.filter((e=>!r.includes(e))):n;return r&&!o.length?e:c(e,t,[...r||[],...o])}function h(e,t){return{...e,chats:{...e.chats,byId:t}}}function m(e,t,n,r,o=!1){const a=n.unreadMentions||[],i=(0,s.Am)([...a,...r]).sort(((e,t)=>t-e));return e=g(e,t,{unreadMentions:i}),o&&(e=g(e,t,{unreadMentionsCount:(n.unreadMentionsCount||0)+Math.max(0,i.length-a.length)})),e}function p(e,t,n,r,o=!1){const s=n.unreadMentions||[],a=s?.filter((e=>!r.includes(e)));if(e=g(e,t,{unreadMentions:a}),o&&n.unreadMentionsCount){const r=s.length-a.length;e=g(e,t,{unreadMentionsCount:Math.max(n.unreadMentionsCount-r,0)||void 0})}return e}function g(e,t,n,r=!1,a=!1){const{byId:i}=e.chats,c=i[t];if(a&&c){const t=Object.keys(n);if((0,o.T)((0,s.Up)(c,t),n))return e}const d=I(e,t,n,r);return d?h(e,{...i,[t]:d}):e}function y(e,t,n){const r=(0,a.AWZ)(e,t),s={...r,...n};return(0,o.T)(r,s)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:s}}}}function v(e,t,n){const r=(0,a.AWZ)(e,t);return(0,o.T)(r,n)?e:{...e,chats:{...e.chats,fullInfoById:{...e.chats.fullInfoById,[t]:n}}}}function b(e,t){const n=Object.keys(t).reduce(((n,r)=>{const o=I(e,r,t[r]);return o&&(n[r]=o),n}),{});return e=h(e,{...e.chats.byId,...n})}function A(e,t){const{byId:n}=e.chats;let r=!1;const o=Object.keys(t).reduce(((o,s)=>{const a=n[s],i=t[s],c=!a?.membersCount&&i.membersCount;if(a&&!a.isMin&&!c&&(i.isMin||a.accessHash===i.accessHash))return o;const d=I(e,s,i);return d&&(o[s]=d,r||(r=!0)),o}),{});return r?e=h(e,{...n,...o}):e}function I(e,t,n,r=!1){const{byId:a}=e.chats,i=a[t],c=[];if(n.isMin&&i&&!i.isMin)return;r||c.push("unreadReactionsCount"),(0,o.T)(i?.usernames,n.usernames)&&c.push("usernames");const d={...i,...(0,s.cJ)(n,c)};return d.id&&d.type?(0,s.Oy)(d):void 0}function C(e,t,n){const o=n===r._E9?"archived":"active";let s=e.chats.listIds;return Object.keys(s).forEach((e=>{const n=s[e]||[];e!==o||n.includes(t)?e!==o&&n.includes(t)&&(s={...s,[e]:n.filter((e=>e!==t))}):s={...s,[e]:[...n,t]}})),g(e={...e,chats:{...e.chats,listIds:s}},t,{folderId:n||void 0})}function w(e,t,n){const r="active"===t?"all":t;return{...e,chats:{...e.chats,...n.orderedPinnedIds&&{orderedPinnedIds:{...e.chats.orderedPinnedIds,[t]:n.orderedPinnedIds}},totalCount:{...e.chats.totalCount,[r]:n.totalChatCount}}}}function S(e,t){return y(e=g(e=E(e,t),t,{isNotJoined:!0}),t,{joinInfo:void 0})}function E(e,t,n="all"){return("all"===n?i:[n]).forEach((n=>{e=c(e,n,e.chats.listIds[n]?.filter((e=>e!==t)))})),e}function k(e,t,n){const r=(0,a.AWZ)(e,t.id)?.members,o=new Set(n.map((e=>e.userId))),i=[...r?.filter((({userId:e})=>!o.has(e)))||[],...n],c=r?.map((({userId:e})=>e))||[],d=i.map((({userId:e})=>e));if((0,s.k)(c,d))return e;const u=i.filter((({isAdmin:e,isOwner:t})=>e||t));return y(e,t.id,{members:i,adminMembersById:(0,s.dU)(u,"userId")})}function T(e,t,n,r){return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{similarChannelIds:n,count:r||n.length}}}}}function P(e,t){const n=e.chats.similarChannelsById[t];return{...e,chats:{...e.chats,similarChannelsById:{...e.chats.similarChannelsById,[t]:{...n,isExpanded:!n?.isExpanded}}}}}function M(e,t,n,r){return{...e,chats:{...e.chats,similarBotsById:{...e.chats.similarBotsById,[t]:{similarBotsIds:n,count:r}}}}}},46042:(e,t,n)=>{n.d(t,{iRS:()=>o.iR,P6h:()=>Q,ec2:()=>r.ec,t_k:()=>r.t_,o4A:()=>o.o4,Nl5:()=>r.Nl,KcS:()=>o.Kc,m1I:()=>X,DeY:()=>q,tNY:()=>r.tN,Niu:()=>Re,K4v:()=>Ue,Wez:()=>r.We,d2X:()=>F,g18:()=>E,fgD:()=>o.fg,qEh:()=>be,Psh:()=>ve,IwB:()=>o.Iw,nYM:()=>oe,gt4:()=>Ze.gt,XQb:()=>re,GSI:()=>me,Y1r:()=>pe,cYc:()=>ge,_54:()=>H._5,BOn:()=>O,AH0:()=>o.AH,XAm:()=>o.XA,MOQ:()=>T,sol:()=>De,hjk:()=>o.hj,vad:()=>o.v,Itk:()=>o.It,do9:()=>ot,l3i:()=>o.l3,T4Z:()=>o.T4,tXQ:()=>H.tX,CX_:()=>r.CX,olz:()=>H.ol,MeL:()=>Ce,V5q:()=>Ie,PcY:()=>v,OW3:()=>Z,SJu:()=>r.SJ,qKm:()=>o.qK,ONz:()=>Ke,xGf:()=>Ze.xG,pWt:()=>r.pW,$nQ:()=>m,iW2:()=>r.iW,hOQ:()=>r.hO,tPq:()=>r.tP,tTf:()=>o.tT,Khb:()=>Fe,xOA:()=>U,mPd:()=>st,qpc:()=>J,czZ:()=>r.cz,n4t:()=>o.n4,R0w:()=>G,eww:()=>o.ew,wWy:()=>N,zde:()=>H.zd,gz3:()=>o.gz,s3Z:()=>o.s3,lwK:()=>H.lw,_te:()=>fe,lwH:()=>de,lEm:()=>he,bbG:()=>ce,Mac:()=>le,yQW:()=>ue,yrN:()=>o.yr,Cbr:()=>r.Cb,cxc:()=>R,$ry:()=>Te,wix:()=>r.wi,ltr:()=>r.lt,yKC:()=>r.yK,qwk:()=>r.qw,KrP:()=>r.Kr,PKO:()=>H.PK,Qb2:()=>H.Qb,r3y:()=>o.r3,h7P:()=>r.h7,XUr:()=>r.XU,MNF:()=>o.MN,G4z:()=>g,E24:()=>l,Xbp:()=>o.Xb,kV7:()=>o.kV,Mel:()=>h,b8O:()=>$,GQ:()=>j,RgT:()=>V,HyB:()=>z,Ahb:()=>$e,SYp:()=>je,d4w:()=>o.d4,Y4o:()=>tt,H6X:()=>W,G42:()=>K,gJI:()=>Se,oeN:()=>Ze.oe,rmT:()=>Ze.rm,$RI:()=>H.$R,VmW:()=>H.Vm,hQe:()=>D,i0Z:()=>Y,E0b:()=>o.E0,Vg3:()=>ne,_$X:()=>se,kTB:()=>Ne,zTz:()=>Be,LZP:()=>Oe,Tqk:()=>xe,KpR:()=>qe,oeX:()=>_e,VWO:()=>Xe,Xzz:()=>Je,ZCo:()=>Ge,Gzl:()=>ze,J81:()=>o.J8,DLl:()=>o.DL,xAV:()=>o.xA,QNR:()=>o.QN,tMr:()=>o.tM,T3R:()=>y,lcj:()=>Ze.lc,_Bm:()=>Ze._B,Egm:()=>o.Eg,Ffw:()=>o.Ff,k31:()=>We,jU1:()=>H.jU,Tu_:()=>H.Tu,oFy:()=>ie,EKx:()=>o.EK,L_F:()=>ye,nv6:()=>ae,Yzx:()=>Ae,n8l:()=>we,RoI:()=>ke,qsx:()=>Qe,bG:()=>d,v9P:()=>f,MkE:()=>u,f_N:()=>p,KXe:()=>Ee,X5v:()=>Ve,dxy:()=>He,e49:()=>o.e4,eAk:()=>o.eA,Ng8:()=>o.Ng,Wwn:()=>o.Ww,TwA:()=>rt,mIA:()=>nt,keG:()=>ee,mR:()=>o.mR,TKu:()=>w,lWl:()=>x,weB:()=>B,BFh:()=>P,Z0S:()=>M,CKT:()=>S,Zct:()=>Pe});var r=n(16350),o=n(82150),s=n(14487),a=n(87894),i=n(29807),c=n(32989);function d(e,t,n,...[r=(0,s.g0)()]){return(0,c.w)(e,{stickerSearch:{...(0,i.nTw)(e,r).stickerSearch,hash:t,resultIds:n}},r)}function u(e,t,n,r){const o=r.map((t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t})),s=r.map((e=>e.id));return"search"===t?{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,a.dU)(o,"id")}}}:{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,a.dU)(o,"id")},[t]:{...e.stickers[t],hash:n,setIds:[...e.stickers[t].setIds||[],...s]}}}}function l(e,t,n){const r=n.map((t=>{const n=e.stickers.setsById[t.id];return n?{...n,...t}:t})),o=n.map((e=>e.stickers)).flat().filter(Boolean),s=n.map((e=>e.id));return{...e,stickers:{...e.stickers,setsById:{...e.stickers.setsById,...(0,a.dU)(r,"id")}},customEmojis:{...e.customEmojis,added:{...e.customEmojis.added,hash:t,setIds:[...e.customEmojis.added.setIds||[],...s]},byId:{...e.customEmojis.byId,...(0,a.dU)(o,"id")}}}}function f(e,t,n){const r=e.stickers.setsById[t]||{},o=n.isEmoji||r.isEmoji,s=(o?e.customEmojis.added.setIds:e.stickers.added.setIds)||[];let i=s;n.installedDate&&!n.isArchived&&s&&!s.includes(t)&&(i=[t,...i]),!n.installedDate&&s?.includes(t)&&(i=i.filter((e=>e!==t)));const c=o&&n.stickers&&(0,a.dU)(n.stickers,"id");return{...e,stickers:{...e.stickers,added:{...e.stickers.added,...!o&&{setIds:i}},setsById:{...e.stickers.setsById,[t]:{...r,...n}}},customEmojis:{...e.customEmojis,byId:{...e.customEmojis.byId,...c},added:{...e.customEmojis.added,...o&&{setIds:i}}}}}function h(e,t,n,r,...[o=(0,s.g0)()]){const{results:a}=(0,i.nTw)(e,o).gifSearch;let d;if(t||!a)d=n;else{const e=new Set(a.map((e=>e.id)));d=[...a,...n.filter((t=>!e.has(t.id)))]}return(0,c.w)(e,{gifSearch:{...(0,i.nTw)(e,o).gifSearch,offset:r,results:d}},o)}function m(e,t){return{...e,animatedEmojis:t}}function p(e,t,n,r){const o=[...(0,i.wg6)(e,t),...n||[]],s=(0,a.Am)(o.map((({id:e})=>e))),c=(0,a.dU)(o,"id"),d=s.map((e=>c[e]));return{...e,stickers:{...e.stickers,forEmoji:{emoji:t,stickers:d,hash:r}}}}function g(e,t){const n=(0,i.r8w)(e,t),r=(0,a.Am)(n.map((({id:e})=>e))),o=(0,a.dU)(n,"id"),s=r.map((e=>o[e]));return{...e,customEmojis:{...e.customEmojis,forEmoji:{emoji:t,stickers:s}}}}function y(e,t,n){return{...e,customEmojis:{...e.customEmojis,statusRecent:{...e.customEmojis.statusRecent,hash:t,emojis:n}}}}function v(e){if(e.stickers.forEmoji){const{emoji:t,stickers:n,hash:r}=e.stickers.forEmoji;return t?p(e,t,n,r):e}if(e.customEmojis.forEmoji){const{emoji:t}=e.customEmojis.forEmoji;return t?g(e,t):e}return e}var b=n(22986),A=n(79824);function I(e,t){return{...e,users:{...e.users,byId:t}}}function C(e,t){const{userIds:n}=e.contactList||{};if(!n)return e;const r=t.filter((e=>e?.isContact)).map((e=>e.id));return 0===r.length?e:{...e,contactList:{userIds:(0,a.Am)([...r,...n])}}}function w(e,t,n){const{byId:r}=e.users,o=k(e,t,n);return o?I(e=C(e,[o]),{...r,[t]:o}):e}function S(e,t){const n=Object.keys(t).reduce(((n,r)=>{const o=k(e,r,t[r]);return o&&(n[r]=o),n}),{});return e=C(e=I(e,{...e.users.byId,...n}),Object.values(n))}function E(e,t){const{byId:n}=e.users;let r=!1;const o=Object.keys(t).reduce(((o,s)=>{const a=n[s],i=t[s];if(a&&!a.isMin&&(i.isMin||a.accessHash===i.accessHash))return o;const c=k(e,s,i);return c&&(o[s]=c,r||(r=!0)),o}),{});return r?e=C(e=I(e,{...n,...o}),Object.values(o)):e}function k(e,t,n){const{byId:r}=e.users,o=r[t],s=[];if(n.isMin&&o&&!o.isMin)return;(0,b.T)(o?.usernames,n.usernames)&&s.push("usernames");const i={...o,...(0,a.cJ)(n,s)};return i.id&&i.type?(0,a.Oy)(i):void 0}function T(e,t){const{byId:n}=e.users,{userIds:o}=e.contactList||{};return e=I(e={...e,contactList:{userIds:o?o.filter((e=>e!==t)):A.p}},{...n,[t]:{...n[t],isContact:void 0}}),e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter((e=>e!==t)),archived:e.stories.orderedPeerIds.archived.filter((e=>e!==t))}}},(0,r.wi)(e,t,{settings:void 0})}function P(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{userSearch:{...(0,i.nTw)(e,n).userSearch,...t}},n)}function M(e,t,...[n=(0,s.g0)()]){return P(e,{fetchingStatus:t},n)}function L(e,t,n){const{fullInfoById:r}=e.users;return r[t]?B(e,t,{isBlocked:n}):e}function N(e,t){return{...e,users:{...e.users,statusesById:t}}}function B(e,t,n){const r=e.users.fullInfoById[t];return{...e,users:{...e.users,fullInfoById:{...e.users.fullInfoById,[t]:{...r,...n}}}}}function x(e,t,n){return{...e,users:{...e.users,commonChatsById:{...e.users.commonChatsById,[t]:n}}}}function F(e,t){const{statusesById:n}=e.users;return N(e,{...n,...t})}function O(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{newContact:void 0},t)}function D(e,t,n,...[r=(0,s.g0)()]){return n.length?(0,c.w)(e,{inviteViaLinkModal:{missingUsers:n,chatId:t}},r):(0,c.w)(e,{inviteViaLinkModal:void 0},r)}function R(e,t,n){const{botAppPermissionsById:r}=e.users;return{...e,users:{...e.users,botAppPermissionsById:{...r,[t]:{...r[t],...n}}}}}function U(e,t,n,r,...[o=(0,s.g0)()]){const a=(0,i.nTw)(e,o);return(0,c.w)(e,{savedGifts:{...a.savedGifts,giftsByPeerId:{...a.savedGifts.giftsByPeerId,[t]:{gifts:n,nextOffset:r}}}},o)}var _=n(57309);function $(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{globalSearch:{...(0,i.nTw)(e,n).globalSearch,...t}},n)}function j(e,t,...[n=(0,s.g0)()]){return $(e,{currentContent:t},n)}function z(e,t,n,r,o,c,d,...[u=(0,s.g0)()]){const{resultsByType:l}=(0,i.nTw)(e,u).globalSearch||{},f=t.reduce(((e,t)=>(e[(0,_.D)(t)]=t,e)),{}),h=l?.[r]?.foundIds;if(void 0!==h&&Object.keys(f).every((e=>h.includes((0,_.D)(f[e])))))return $(e=V(e,{messages:!1},u),{resultsByType:{...((0,i.nTw)(e,u).globalSearch||{}).resultsByType,[r]:{foundIds:h,totalCount:n,nextOffsetId:c,nextOffsetRate:o,nextOffsetPeerId:d}}},u);const m=h||[],p=t.map((e=>(0,_.D)(e))).filter((e=>!m.includes(e))),g=Array.prototype.concat(m,p),y=(0,a.k)(m,g)?m:g;return $(e=V(e,{messages:!1},u),{resultsByType:{...((0,i.nTw)(e,u).globalSearch||{}).resultsByType,[r]:{totalCount:n,nextOffsetId:c,nextOffsetRate:o,nextOffsetPeerId:d,foundIds:y}}},u)}function V(e,t,...[n=(0,s.g0)()]){return $(e,{fetchingStatus:{...(0,i.nTw)(e,n).globalSearch.fetchingStatus,...t}},n)}var H=n(68344);function K(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{management:{...(0,i.nTw)(e,n).management,progress:t}},n)}function W(e,t,n,...[r=(0,s.g0)()]){const{management:o}=(0,i.nTw)(e,r);return(0,c.w)(e,{management:{...o,byChatId:{...o.byChatId,[t]:{...o.byChatId[t]||{},...n}}}},r)}function J(e,t){return{...e,settings:{...e.settings,byKey:{...e.settings.byKey,...t}}}}function G(e,t,n){return{...e,settings:{...e.settings,themes:{...e.settings.themes,[t]:{...e.settings.themes[t]||{},...n}}}}}function q(e,t){return t.forEach((t=>{const{chatId:n,...r}=t;e=X(e,n,r)})),e}function X(e,t,n){return{...e,settings:{...e.settings,notifyExceptions:{...e.settings.notifyExceptions,[t]:n}}}}function Y(e,t,n,r){switch(t){case"contact":return J(e,{...void 0!==n&&{hasPrivateChatsNotifications:!n},...void 0!==r&&{hasPrivateChatsMessagePreview:r}});case"group":return J(e,{...void 0!==n&&{hasGroupNotifications:!n},...void 0!==r&&{hasGroupMessagePreview:r}});case"broadcast":return J(e,{...void 0!==n&&{hasBroadcastNotifications:!n},...void 0!==r&&{hasBroadcastMessagePreview:r}})}}function Q(e,t){return e=L(e,t,!0),{...e,blocked:{...e.blocked,ids:[t,...e.blocked.ids],totalCount:e.blocked.totalCount+1}}}function Z(e,t){return e=L(e,t,!1),{...e,blocked:{...e.blocked,ids:e.blocked.ids.filter((e=>e!==t)),totalCount:e.blocked.totalCount-1}}}function ee(e,t){return{...e,twoFaSettings:{...e.twoFaSettings,...t}}}var te=n(20714);function ne(e,t){return{...e,passcode:{...e.passcode,...t}}}function re(e){return{...e,passcode:{}}}function oe(e,t=!0){const{theme:n,shouldUseSystemTheme:r,animationLevel:o,language:s}=e.settings.byKey;return{...te.HB,passcode:e.passcode,settings:{...te.HB.settings,byKey:{...te.HB.settings.byKey,theme:n,shouldUseSystemTheme:r,animationLevel:o,language:s}},...t&&{byTabId:Object.values(e.byTabId).reduce(((e,{id:t,isMasterTab:n})=>(e[t]={...te.Je,isMasterTab:n,id:t},e)),{})}}}function se(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{payment:{...(0,i.nTw)(e,n).payment,...t}},n)}function ae(e,t,...[n=(0,s.g0)()]){const r=(0,i.Osl)(e,n);return r?(0,c.w)(e,{starsPayment:{...r,...t}},n):e}function ie(e,t,...[n=(0,s.g0)()]){return se(e,{shippingOptions:t},n)}function ce(e,t,...[n=(0,s.g0)()]){return se(e,{requestId:t},n)}function de(e,t,...[n=(0,s.g0)()]){return se(e,{step:t},n)}function ue(e,t,...[n=(0,s.g0)()]){return se(e,{stripeCredentials:{...t}},n)}function le(e,t,...[n=(0,s.g0)()]){return se(e,{smartGlocalCredentials:{...t}},n)}function fe(e,t,...[n=(0,s.g0)()]){return se(e,{confirmPaymentUrl:t},n)}function he(e,t,...[n=(0,s.g0)()]){return se(e,t?{receipt:t}:{receipt:void 0},n)}function me(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{payment:{}},t)}function pe(e,...[t=(0,s.g0)()]){return(0,c.w)(e,{starsPayment:{}},t)}function ge(e,...[t=(0,s.g0)()]){return se(e,{isPaymentModalOpen:void 0,isExtendedMedia:void 0},t)}function ye(e,t){return{...e,stars:{...e.stars,balance:t}}}function ve(e,t,n,r){const o=e.stars?.history;if(!o)return e;const s={transactions:(o[t]?.transactions||[]).concat(n),nextOffset:r};return{...e,stars:{...e.stars,history:{...o,[t]:s}}}}function be(e,t,n){if(!e.stars)return e;const r={list:(e.stars.subscriptions?.list||[]).concat(t),nextOffset:n};return{...e,stars:{...e.stars,subscriptions:r}}}function Ae(e,t){const n=e.stars?.subscriptions;return n?{...e,stars:{...e.stars,subscriptions:{...n,isLoading:t}}}:e}function Ie(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{starsTransactionModal:{transaction:t}},n)}function Ce(e,t,...[n=(0,s.g0)()]){return Ie(e,{id:t.transactionId,peer:{type:"peer",id:t.botId},stars:{amount:t.totalAmount,nanos:0},date:t.date,title:t.title,description:t.description,photo:t.photo},n)}function we(e,t,n,...[r=(0,s.g0)()]){return(0,c.w)(e,{statistics:{byChatId:{...(0,i.nTw)(e,r).statistics.byChatId,[t]:n}}},r)}function Se(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,currentMessage:t,currentStory:void 0}},n)}function Ee(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,currentStory:t,currentMessage:void 0}},n)}function ke(e,t,n,r,...[o=(0,s.g0)()]){const{statistics:a}=(0,i.nTw)(e,o);return(0,c.w)(e,{statistics:{...a,byChatId:{...a.byChatId,[t]:{...a.byChatId[t]||{},[n]:r}}}},o)}function Te(e,t,...[n=(0,s.g0)()]){return(0,c.w)(e,{statistics:{...(0,i.nTw)(e,n).statistics,monetization:t}},n)}function Pe(e,t,...[n=(0,s.g0)()]){const r=(0,i.nTw)(e,n);return r.monetizationVerificationModal?(0,c.w)(e,{monetizationVerificationModal:{...r.monetizationVerificationModal,...t}},n):e}var Me=n(80140),Le=n(90709);function Ne(e,t,n){return(0,Le.L8L)(t)?w(e,t,n):(0,r.wi)(e,t,n)}function Be(e,t,n){return(0,Le.L8L)(t)?B(e,t,n):(0,r.lt)(e,t,n)}function xe(e,t,n){const r=(0,i.IVq)(e,t);return r?Fe(e,t,{...r,isLoading:n}):e}function Fe(e,t,n){return n?{...e,peers:{...e.peers,profilePhotosById:{...e.peers.profilePhotosById,[t]:n}}}:{...e,peers:{...e.peers,profilePhotosById:(0,a.cJ)(e.peers.profilePhotosById,[t])}}}function Oe(e,t,n){const r=(0,i.IVq)(e,t),{newPhotos:o,count:s,nextOffset:c,fullInfo:d,shouldInvalidateCache:u}=n,l=r,f=d.profilePhoto,h="fallbackPhoto"in d?d.fallbackPhoto:void 0,m="personalPhoto"in d?d.personalPhoto:void 0;if(!l||u)return f&&f.id!==o[0]?.id&&o.unshift(f),m&&m.id!==o[0]?.id&&o.unshift(m),h&&o.push(h),Fe(e,t,{fallbackPhoto:h,personalPhoto:m,photos:o,count:s,nextOffset:c,isLoading:!1});const p=l.photos[l.photos.length-1].id===h?.id?l.photos.slice(0,-1):l.photos,g=(0,a.Xd)([...p,...o,h].filter(Boolean),"id");return Fe(e,t,{fallbackPhoto:h,personalPhoto:m,photos:g,count:s,nextOffset:c,isLoading:!1})}function De(e,t,n,o){const s=(0,i.PVB)(e,t),a=(0,i.IVq)(e,t);if(!s||!a)return e;const c="title"in s&&(0,Le.WXB)(s),d=(0,i.vGo)(e,t),u=(0,i.AWZ)(e,t),l=s.avatarPhotoId===n&&(!c||o),f=l?a.photos[1]:void 0;if(d&&(e=B(e,t,{fallbackPhoto:d.fallbackPhoto?.id===n?void 0:d.fallbackPhoto,personalPhoto:d.personalPhoto?.id===n?void 0:d.personalPhoto,profilePhoto:d.profilePhoto?.id===n?f:d.profilePhoto})),u){const o=u.profilePhoto?.id===n?f:u.profilePhoto;e=(0,r.lt)(e,t,{profilePhoto:o})}const h=l?f?.id:s.avatarPhotoId,m=l&&"title"in s&&(0,Le.WXB)(s)?a.photos.filter((e=>e.id!==n)):a.photos.slice();return Fe(e=Ne(e,t,{avatarPhotoId:h}),t,h?{...a,photos:m,count:a.count-1}:void 0)}function Re(e,t){const n=Object.entries(t).reduce(((e,[t,n])=>(e[t]?(e[t].byId={...e[t].byId,...n.byId},e[t].orderedIds=(0,a.Am)(n.orderedIds.concat(e[t].orderedIds)),e[t].profileIds=(0,a.Am)(n.profileIds.concat(e[t].profileIds)).sort(((e,t)=>t-e)),e[t].lastUpdatedAt=n.lastUpdatedAt,e[t].lastReadId=n.lastReadId):e[t]=n,e)),e.stories.byPeerId);return Ye(e={...e,stories:{...e.stories,byPeerId:n}},Object.keys(t))}function Ue(e,t,n,r,o){const{byId:s,orderedIds:c,profileIds:d,archiveIds:u,pinnedIds:l}=e.stories.byPeerId[t]||{},f=Object.keys(n).filter((e=>"isDeleted"in n[Number(e)])).map(Number),h={...s,...n};let m=[...c||[]],p=[...u||[]];const g=(0,a.Am)([...d||[]].concat(Object.values(n).reduce(((e,t)=>("isInProfile"in t&&t.isInProfile&&e.push(t.id),e)),[]))).sort(((e,t)=>t-e)).filter((e=>!f.includes(e)));return m=(0,a.Am)(Object.entries(n).reduce(((e,[t,n])=>("expireDate"in n&&n.expireDate&&n.expireDate>(0,Me.Fm)()&&e.push(Number(t)),e)),m)).filter((e=>!f.includes(e))),o&&(0,i.nZ4)(e,t)&&(p=(0,a.Am)(p.concat(Object.keys(n).map(Number))).sort(((e,t)=>t-e)).filter((e=>!f.includes(e)))),e={...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],byId:h,orderedIds:m,profileIds:g,pinnedIds:l||r,...o&&{archiveIds:p}}}}},((0,i.nZ4)(e,t)||(0,i.mBe)(e,t)?.isContact||t===e.appConfig?.storyChangelogUserId)&&(e=function(e,t){const n=e.stories.byPeerId[t],r=n.orderedIds.reduce(((e,t)=>{const{date:r}=n.byId[t]||{};return r&&(!e||e<r)&&(e=r),e}),void 0);return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...n,lastUpdatedAt:r}}}}}(e,t),e=Ye(e,[t])),e}function _e(e,t,n,r){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],[r?"isArchiveFullyLoaded":"isFullyLoaded"]:n}}}}}function $e(e,t,n){const{orderedIds:r}=(0,i._bp)(e,t)||{};return r?(n>=r[r.length-1]&&(e=Ne(e,t,{hasUnreadStories:!1})),{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...e.stories.byPeerId[t],lastReadId:n}}}}):e}function je(e,t,n,...[r=(0,s.g0)()]){const{orderedIds:o}=(0,i._bp)(e,t)||{};if(!o||!o.includes(n))return e;const{storyViewer:a}=(0,i.nTw)(e,r);return(0,c.w)(e,{storyViewer:{...a,lastViewedByPeerIds:{...a.lastViewedByPeerIds,[t]:n}}},r)}function ze(e,t){return Object.entries(t).forEach((([t,{lastReadId:n,orderedIds:r}])=>{const o=(0,i.PVB)(e,t);o&&(e=Ne(e,t,{hasStories:!0,hasUnreadStories:!n||Boolean(n&&n<(o.maxStoryId||r[r.length-1]))}))})),e}function Ve(e,t,n,r,...[o=(0,s.g0)()]){const a=(0,i.nTw)(e,o),{viewModal:d}=a.storyViewer,u=d?.storyId===t&&d.views?[...d.views,...n]:n;return e=He(e,!1,o),(0,c.w)(e,{storyViewer:{...a.storyViewer,viewModal:{...d,storyId:t,views:u,nextOffset:r,isLoading:!1}}},o)}function He(e,t,...[n=(0,s.g0)()]){const r=(0,i.nTw)(e,n),{viewModal:o}=r.storyViewer;return o?(0,c.w)(e,{storyViewer:{...r.storyViewer,viewModal:{...o,isLoading:t}}},n):e}function Ke(e,t,n){const{orderedIds:r,profileIds:o,lastReadId:s,byId:a}=(0,i._bp)(e,t)||{orderedIds:[],profileIds:[]},c=r.filter((e=>e!==n)),d=o.filter((e=>e!==n)),u=c.length?r[r.length-1]:void 0,l=r[r.indexOf(n)-1],f=s===n?l:s,h={...a,[n]:{id:n,peerId:t,isDeleted:!0}},m=u?h[u]?.date:void 0,p=Boolean(c.length);return e=function(e,t,n){return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:n}}}}(e=Ne(e,t,{hasStories:p,hasUnreadStories:Boolean(p&&s&&u&&s<u)}),t,{byId:h,orderedIds:c,profileIds:d,lastUpdatedAt:m,lastReadId:f}),Object.values(e.byTabId).forEach((r=>{r.storyViewer.lastViewedByPeerIds?.[t]===n&&(e=je(e,t,l,r.id))})),p||(e={...e,stories:{...e.stories,orderedPeerIds:{active:e.stories.orderedPeerIds.active.filter((e=>e!==t)),archived:e.stories.orderedPeerIds.archived.filter((e=>e!==t))}}}),e}function We(e,t,n,r){const o=(0,i.Msb)(e,t,n);if(!o||!("content"in o))return e;const{views:s}=o,a=s?.reactionsCount||0,c=s?.reactions?.some((e=>void 0!==e.chosenOrder)),d=(0,Le.AKJ)(s?.reactions||[],[r].filter(Boolean)),u=a+(r?c?0:1:-1);return Je(e,t,n,{sentReaction:r,views:{...s,reactionsCount:u,reactions:d}})}function Je(e,t,n,r){const o=(0,i._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]};return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...o,byId:{...o.byId,[n]:{...o.byId[n],...r}}}}}}}function Ge(e,t,n,r){const o=(0,i.Msb)(e,t,n);if(!o||!("content"in o))return e;const{views:s}=o;return Je(e,t,n,{views:{...s,...r}})}function qe(e,t,n,r){const o=(0,i._bp)(e,t)||{byId:{},orderedIds:[],profileIds:[],archiveIds:[]},s=r?(0,a.Am)(o.profileIds.concat(n)).sort(((e,t)=>t-e)):o.profileIds.filter((e=>n!==e));return{...e,stories:{...e.stories,byPeerId:{...e.stories.byPeerId,[t]:{...o,profileIds:s}}}}}function Xe(e,t,n){const r=(0,i.PVB)(e,t);return r?r.areStoriesHidden===n?e:Ye(e=Ne(e,t,{areStoriesHidden:n}),[t]):e}function Ye(e,t){const{currentUserId:n,stories:{byPeerId:r,orderedPeerIds:o}}=e,s=o.active.concat(o.archived).concat(t).reduce(((t,n)=>{if(!r[n]?.orderedIds?.length)return t;const o=(0,i.PVB)(e,n);return o?.areStoriesHidden?t.archived.push(n):t.active.push(n),t}),{active:[],archived:[]});function c(t,o){const s=(0,i.PVB)(e,t),c=(0,i.PVB)(e,o),d=(0,a.zV)(n===t,n===o);if(d)return d;const{lastUpdatedAt:u=0,orderedIds:l,lastReadId:f=0}=r[t]||{},h=f<l?.[l.length-1],{lastUpdatedAt:m=0,orderedIds:p,lastReadId:g=0}=r[o]||{},y=g<p?.[p.length-1],v=(0,a.zV)(h,y);if(v)return v;const b=(0,a.zV)("isPremium"in s,"isPremium"in c);if(b)return b;return(0,a.zV)((0,Le.L8L)(t),(0,Le.L8L)(o))||(0,a.zV)(u,m)}return s.archived=(0,a.Am)(s.archived).filter((e=>r[e]?.orderedIds?.length)).sort(c),s.active=(0,a.Am)(s.active).filter((e=>r[e]?.orderedIds?.length)).sort(c),{...e,stories:{...e.stories,orderedPeerIds:s}}}function Qe(e,t){return{...e,stories:{...e.stories,stealthMode:t}}}var Ze=n(95753);function et(e,t,n){const r=e.chats.topicsInfoById[t]||{};return{...e,chats:{...e.chats,topicsInfoById:{...e.chats.topicsInfoById,[t]:{...r,...n}}}}}function tt(e,t,n){const r=(0,i.xyP)(e,t)?.listedTopicIds||[];return et(e,t,{listedTopicIds:(0,a.Am)([...r,...n])})}function nt(e,t,n,r){const s=(0,i.pSx)(e,t),c=(0,a.dU)(r,"id");return e=et(e,t,{topicsById:{...s,...c},totalCount:n}),r.forEach((n=>{e=(0,o.e4)(e,t,n.id,{firstMessageId:n.id}),e=(0,o.eA)(e,t,n.id,{lastMessageId:n.lastMessageId,threadId:n.id,chatId:t})})),e}function rt(e,t,n,r){if(!(0,i.hds)(e,t))return e;const s=(0,i.S0q)(e,t,n),a=(0,i.pSx)(e,t),c={...s,...r};return c.id?(e=et(e,t,{topicsById:{...a,[n]:c}}),e=(0,o.e4)(e,t,c.id,{firstMessageId:c.id}),e=(0,o.eA)(e,t,c.id,{lastMessageId:c.lastMessageId,threadId:c.id,chatId:t})):e}function ot(e,t,n){const r=(0,i.pSx)(e,t);return r?e=et(e,t,{topicsById:(0,a.cJ)(r,[n])}):e}function st(e,t,n){return et(e,t,{orderedPinnedTopicIds:n})}},82150:(e,t,n)=>{n.d(t,{iR:()=>q,o4:()=>S,Kc:()=>C,fg:()=>F,Iw:()=>X,AH:()=>M,XA:()=>L,hj:()=>Z,v:()=>P,It:()=>V,l3:()=>K,T4:()=>J,qK:()=>B,tT:()=>w,n4:()=>A,ew:()=>I,gz:()=>D,s3:()=>O,yr:()=>W,r3:()=>E,MN:()=>g,Xb:()=>H,kV:()=>j,d4:()=>N,E0:()=>x,J8:()=>ee,DL:()=>te,xA:()=>Q,QN:()=>T,tM:()=>$,Eg:()=>k,Ff:()=>_,EK:()=>z,e4:()=>v,eA:()=>R,Ng:()=>U,Ww:()=>G,mR:()=>Y});var r=n(23174),o=n(31481),s=n(22986),a=n(14487),i=n(87894),c=n(60343),d=n(90709),u=n(17237);function l(e,t){if(e.text)return!t&&1===Object.keys(e).length&&!e.text.entities?.some((e=>e.type!==r.C7.CustomEmoji))&&(0,u.A)(e.text.text)||void 0}var f=n(29807),h=n(68344),m=n(32989),p=n(95753);function g(e,t,n=r.l3,s="thread",i,c,...[d=(0,a.g0)()]){const{messageLists:u}=(0,f.nTw)(e,d);let l=u;if(i||o.W75&&!o.fng)l=t?[{chatId:t,threadId:n,type:s}]:[];else if(t){const r=u[u.length-1];if(r?.chatId===t&&r.threadId===n&&r.type===s)return e;if(r&&(r.chatId===o.Xab||c))l=[...u.slice(0,-1),{chatId:t,threadId:n,type:s}];else{const e=u[u.length-2];l=e?.chatId===t&&e.threadId===n&&e.type===s?u.slice(0,-1):[...u,{chatId:t,threadId:n,type:s}]}}else l=u.slice(0,-1);return(0,m.w)(e,{messageLists:l},d)}function y(e,t,n){return b(e,t,{byId:n})}function v(e,t,n,r){if(!r)return b(e,t,{threadsById:(0,i.cJ)(e.messages.byChatId[t]?.threadsById,[n])});const o=e.messages.byChatId[t];return b(e,t,{threadsById:{...o?.threadsById,[n]:{...o?.threadsById[n],...r}}})}function b(e,t,n){const r=e.messages.byChatId[t]||{byId:{},threadsById:{}};return{...e,messages:{...e.messages,byChatId:{...e.messages.byChatId,[t]:{...r,...n}}}}}function A(e,t,n,r,o,...[s=(0,a.g0)()]){return"viewportIds"===r&&(e=I(e,t,n,"lastViewportIds",o)),function(e,t,n,r,...[o=(0,a.g0)()]){const s=(0,f.nTw)(e,o),i=s.tabThreads[t]?.[n]||{};return(0,m.w)(e,{tabThreads:{...s.tabThreads,[t]:{...s.tabThreads[t],[n]:{...i,...r}}}},o)}(e,t,n,{[r]:o},s)}function I(e,t,n,r,o){return v(e,t,n,{[r]:o})}function C(e,t){const n=t.reduce(((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e)),{});return Object.keys(n).forEach((t=>{e=S(e,t,n[t])})),e}function w(e,t){const n=t.reduce(((e,t)=>(e[t.chatId]||(e[t.chatId]={}),e[t.chatId][t.id]=t,e)),{});return Object.keys(n).forEach((t=>{const r={...(0,f.zeq)(e,t)||{},...n[t]};e=y(e,t,r)})),e}function S(e,t,n){const r=(0,f.zeq)(e,t);return r&&Object.keys(n).every((e=>Boolean(r[Number(e)])))?e:y(e,t,{...n,...r})}function E(e,t,n,r,o=!1){const a=(0,f.zeq)(e,t)||{},c=a[n];if(o&&c){const t=Object.keys(r);if((0,s.T)((0,i.Up)(c,t),r))return e}c&&!1===r.isMediaUnread&&(0,d.G5T)(c)&&(c.content.voice?r.content={...r.content,voice:void 0,isExpiredVoice:!0}:c.content.video?.isRound&&(r.content={...r.content,video:void 0,isExpiredRoundVideo:!0}));let u=c?.emojiOnlyCount;r.content&&(u=l(r.content,c?.groupedId||r.groupedId));const h={...c,...r,emojiOnlyCount:u};return h.id?y(e,t,{...a,[n]:h}):e}function k(e,t,n,r){const o=(0,f.Jl6)(e,t,n);let s=o?.emojiOnlyCount;r.content&&(s=l(r.content,o?.groupedId||r.groupedId));const a={...o,...r,emojiOnlyCount:s};return a.id?_(e,t,{[n]:a}):e}function T(e,t,n){const r={...(0,f.N1i)(e,t),...n};return r.id?$(e,{[t]:r}):e}function P(e,t){const n=e.quickReplies.messagesById,r=(0,i.cJ)(n,t);return{...e,quickReplies:{...e.quickReplies,messagesById:r}}}function M(e,t,n){const o=(0,f.zeq)(e,t);if(!o)return e;(0,d.LdE)(n);const s=new Map;s.set(r.l3,n);const a=[];n.forEach((n=>{const i=o[n];if(!i)return;(0,d.iZR)(i)&&a.push(n);const c=(0,f.L_2)(e,i);if(!c||c===r.l3)return;const u=s.get(c)||[];u.push(n),s.set(c,u),e=(0,p.gt)(e,t,n)}));const u=Object.values((0,i._E)(o,n)).filter((({forwardInfo:e})=>e?.isLinkedChannelPost));s.forEach(((r,o)=>{const s=(0,f.Vw0)(e,t,o);let u=(0,f.gCU)(e,t,o),l=(0,f.fcC)(e,t,o),m=(0,f.JiE)(e,t,o),p=s?.messagesCount;u&&(u=(0,i.lK)(u,r)),m&&(m=m.map((e=>(0,i.lK)(e,r)))),l&&(l=(0,i.lK)(l,(0,d.vpO)(r)));const g=r.filter((e=>!(0,c.iL)(e))).length;void 0!==p&&(p-=g),Object.values(e.byTabId).forEach((({id:r})=>{const s=(0,f.nTw)(e,r);Object.entries(s.activeDownloads).filter((([,{originChatId:e,originMessageId:n}])=>e===t&&n)).forEach((([t,o])=>{n.includes(o.originMessageId)&&(e=X(e,[t],r))})),a.forEach((n=>{e=(0,h.cs)(e,t,o,n,r)}));const c=(0,f.rA3)(e,t,o,r);if(!c)return;const d=(0,i.lK)(c,n);e=A(e,t,o,"viewportIds",0===d.length?void 0:d,r)})),e=I(e,t,o,"listedIds",u),e=I(e,t,o,"outlyingLists",m),e=I(e,t,o,"pinnedIds",l),s&&void 0!==p&&(e=R(e,t,o,{messagesCount:p}))})),u.length&&Object.values(e.byTabId).forEach((({id:n})=>{const r=(0,f.Xf0)(e,n),o=r&&r.chatId===t&&"thread"===r.type,s=r?.threadId;u.forEach((r=>{const{fromChatId:a,fromMessageId:i}=r.forwardInfo,c=(0,f.O5q)(e,a,i);o&&s===r.id&&(e=g(e,t,void 0,void 0,void 0,void 0,n)),c&&(e=v(e,a,i,void 0))}))}));const l=(0,i.cJ)(o,n);return e=y(e,t,l)}function L(e,t,n){const o=(0,f.yFI)(e,t);if(!o)return e;const s=(0,i.cJ)(o,n);let a=(0,f.K3w)(e,t,r.l3);return a&&(n.forEach((e=>{a.includes(e)&&(a=a.filter((t=>t!==e)))})),e=I(e,t,r.l3,"scheduledIds",a),Object.entries(e.messages.byChatId[t].threadsById).forEach((([r,o])=>{if(o.scheduledIds){const s=o.scheduledIds.filter((e=>!n.includes(e)));e=I(e,t,Number(r),"scheduledIds",s)}}))),e={...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{byId:s}}}}}function N(e,t,n,r){const o=(0,f.gCU)(e,t,n),s=o?.length?r.filter((e=>!o.includes(e))):r;return o&&!s.length?e:I(e,t,n,"listedIds",(0,d.LdE)([...o||[],...s]))}function B(e,t,n,r){const o=(0,f.JiE)(e,t,n);return o?I(e,t,n,"outlyingLists",o.filter((e=>e!==r))):e}function x(e,t,n,r){if(!r.length)return e;const o=(0,f.JiE)(e,t,n);return I(e,t,n,"outlyingLists",(0,d.cR9)(o||[],r))}function F(e,t,n,r,...[s=(0,a.g0)()]){const i=(0,f.rA3)(e,t,n,s)||[];return i.includes(r)?e:A(e,t,n,"viewportIds",(0,d.LdE)([...i.length<o.IRc?i:i.slice(-o.yo2/2),r]),s)}function O(e,t,n,r,...[o=(0,a.g0)()]){const s=(0,f.rA3)(e,t,n,o)||[],c=(0,d.LdE)(r);return A(e,t,n,"viewportIds",(0,i.k)(s,c)?s:c,o)}function D(e,t,n,r){const o=(0,f.fcC)(e,t,n)||[],s=(0,d.vpO)(r);return I(e,t,n,"pinnedIds",(0,i.k)(o,s)?o:s)}function R(e,t,n,r,o){const s={...(0,f.Vw0)(e,t,n),...r};if(!o&&!s.isCommentsInfo){const t=(0,i.Up)(s,["messagesCount","lastMessageId","lastReadInboxMessageId"]);s.fromChannelId&&s.fromMessageId&&(e=R(e,s.fromChannelId,s.fromMessageId,t,!0))}return I(e,t,n,"threadInfo",s)}function U(e,t){return t.forEach((t=>{e=R(e,t.isCommentsInfo?t.originChannelId:t.chatId,t.isCommentsInfo?t.originMessageId:t.threadId,t)})),e}function _(e,t,n){const r=e.scheduledMessages.byChatId[t]||{byId:{},hash:0};return{...e,scheduledMessages:{byChatId:{...e.scheduledMessages.byChatId,[t]:{...r,byId:{...r.byId,...n}}}}}}function $(e,t){return{...e,quickReplies:{...e.quickReplies,messagesById:{...e.quickReplies.messagesById,...t}}}}function j({global:e,chatId:t,messageId:n,threadId:o=r.l3,noHighlight:s=!1,isResizingContainer:i=!1,quote:c,scrollTargetPosition:d},...[u=(0,a.g0)()]){return(0,m.w)(e,{focusedMessage:{...(0,f.nTw)(e,u).focusedMessage,chatId:t,threadId:o,messageId:n,noHighlight:s,isResizingContainer:i,quote:c,scrollTargetPosition:d}},u)}function z(e,t,n){return{...e,messages:{...e.messages,sponsoredByChatId:{...e.messages.sponsoredByChatId,[t]:n}}}}function V(e,t){const n=e.messages.sponsoredByChatId;return n[t]?{...e,messages:{...e.messages,sponsoredByChatId:(0,i.cJ)(n,[t])}}:e}function H(e,t,...[n=(0,a.g0)()]){return(0,m.w)(e,{focusedMessage:{...(0,f.nTw)(e,n).focusedMessage,direction:t}},n)}function K(e,t,n,...[r=(0,a.g0)()]){const o=n?Array.prototype.concat([],n):[];return(0,m.w)(e,{selectedMessages:{chatId:t,messageIds:o}},r)}function W(e,t,n,r,o,s,c,d=!1,...[u=(0,a.g0)()]){const{selectedMessages:l}=(0,f.nTw)(e,u);s&&(c=(0,f.D_S)(e,t,s));const h=c||[o];if(!l)return K(e,t,h,u);const{messageIds:p}=l;let g;const y=h.filter((e=>!p.includes(e)));if(y&&!y.length)g=p.filter((e=>!h.includes(e)));else if(d&&p.length){const s=(0,f.vRX)(e,t,n,r,u),a=s.indexOf(p[p.length-1]),c=s.indexOf(o),d=Math.min(a,c),l=Math.max(a,c),h=s.slice(d,l+1);g=(0,i.Am)([...p,...h])}else g=[...p,...y];return g.length?(0,m.w)(e,{selectedMessages:{...l,messageIds:g}},u):J(e,u)}function J(e,...[t=(0,a.g0)()]){return(0,m.w)(e,{selectedMessages:void 0},t)}function G(e,t,n,r,o){const{channelPostId:s,fromChatId:a}=t.forwardInfo||{};if(s&&a){const t=(0,f.Vw0)(e,n,s);t&&(e=I(e,n,s,"threadInfo",{...t,lastMessageId:r,messagesCount:(t.messagesCount||0)+(o?-1:1)}))}return e}function q(e,t,n,...[r=(0,a.g0)()]){const o=(0,f.nTw)(e,r);return(0,m.w)(e,{activeDownloads:{...o.activeDownloads,[t]:n}},r)}function X(e,t,...[n=(0,a.g0)()]){const r=(0,f.nTw)(e,n),o=(0,i.cJ)(r.activeDownloads,t);return(0,m.w)(e,{activeDownloads:o},n)}function Y(e,t,n){return{...e,fileUploads:{byMessageKey:void 0!==n?{...e.fileUploads.byMessageKey,[t]:{progress:n}}:(0,i.cJ)(e.fileUploads.byMessageKey,[t])}}}function Q(e,t){return{...e,quickReplies:{...e.quickReplies,byId:{...e.quickReplies.byId,...t}}}}function Z(e,t){return{...e,quickReplies:{...e.quickReplies,byId:(0,i.cJ)(e.quickReplies.byId,[t])}}}function ee(e,t,n){const r=(0,f.KQQ)(e,t),o=r?.results;let s=o||n.results;r&&n.results?.results&&(r.results&&n.results.isMin?o.results&&(s={...n.results,results:n.results.results.map((e=>({...e,isChosen:o.results.find((t=>t.option===e.option))?.isChosen}))),isMin:void 0}):s=n.results);const a={...r,...n,results:s};return a.id?{...e,messages:{...e.messages,pollById:{...e.messages.pollById,[t]:a}}}:e}function te(e,t,n,r){const o=(0,f.KQQ)(e,t);if(!o)return e;const{recentVoterIds:s,totalVoters:a,results:i}=o.results,c=s?[...s]:[],d=a?a+1:1,u=i?[...i]:[];return c.push(n),r.forEach((t=>{const r=u.findIndex((e=>e.option===t)),o=u[r],s=o?{...o}:{option:t,votersCount:0};s.votersCount+=1,n===e.currentUserId&&(s.isChosen=!0),r?u[r]=s:u.push(s)})),ee(e,t,{results:{...o.results,recentVoterIds:c,totalVoters:d,results:u}})}},68344:(e,t,n)=>{n.d(t,{$R:()=>u,PK:()=>C,Qb:()=>b,Tu:()=>g,Vm:()=>h,_5:()=>m,cs:()=>I,jU:()=>y,lw:()=>S,ol:()=>v,tX:()=>w,zd:()=>l});var r=n(14487),o=n(87894),s=n(90709),a=n(29807),i=n(94137),c=n(32989);function d(e,t,n,...[s=(0,r.g0)()]){const i=(0,a.nTw)(e,s).middleSearch.byChatThreadKey;if(!n)return(0,c.w)(e,{middleSearch:{byChatThreadKey:(0,o.cJ)(i,[t])}},s);const{type:d="chat",...u}=n;return(0,c.w)(e,{middleSearch:{byChatThreadKey:{...(0,a.nTw)(e,s).middleSearch.byChatThreadKey,[t]:{type:d,...u}}}},s)}function u(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.WiA)(t,n),u=(0,a.nTw)(e,i).middleSearch.byChatThreadKey[c],l={type:"chat",...u,...o};return l.isHashtag||(l.type="chat"),!u||u.type===l.type&&u.savedTag===l.savedTag||(l.results=void 0),d(e,c,l,i)}function l(e,t,n,...[o=(0,r.g0)()]){return d(e,(0,s.WiA)(t,n),{type:"chat"},o)}function f(e,t,n,o,...[s=(0,r.g0)()]){return u(e,t,n,{results:o,fetchingQuery:void 0},s)}function h(e,t,n,i,...[c=(0,r.g0)()]){const d=(0,s.WiA)(t,n),{results:u}=(0,a.nTw)(e,c).middleSearch.byChatThreadKey[d]||{},l=u?.query||"";if(i.query!==l)return f(e,t,n,i,c);const h=u?.foundIds||[],{query:m,foundIds:p,totalCount:g,nextOffsetId:y,nextOffsetPeerId:v,nextOffsetRate:b}=i,A=(0,o.Am)(Array.prototype.concat(h,p));return f(e,t,n,{query:m,foundIds:(0,o.k)(h,A)?h:A,totalCount:g,nextOffsetId:y,nextOffsetRate:b,nextOffsetPeerId:v},c)}function m(e,t,n,...[o=(0,r.g0)()]){return d(e,(0,s.WiA)(t,n),void 0,o)}function p(e,t,n,o,...[i=(0,r.g0)()]){const d=(0,s.WiA)(t,n);return(0,c.w)(e,{sharedMediaSearch:{byChatThreadKey:{...(0,a.nTw)(e,i).sharedMediaSearch.byChatThreadKey,[d]:o}}},i)}function g(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.WiA)(t,n);return p(e,t,n,{...(0,a.nTw)(e,i).sharedMediaSearch.byChatThreadKey[c],currentType:o},i)}function y(e,t,n,i,c,d,u,...[l=(0,r.g0)()]){const f=(0,s.WiA)(t,n),{resultsByType:h}=(0,a.nTw)(e,l).sharedMediaSearch.byChatThreadKey[f]||{},m=h?.[i]?h[i].foundIds:[],g=(0,o.Am)(Array.prototype.concat(m,c)).sort(((e,t)=>t-e));return function(e,t,n,o,i,c,d,...[u=(0,r.g0)()]){const l=(0,s.WiA)(t,n);return p(e,t,n,{...(0,a.nTw)(e,u).sharedMediaSearch.byChatThreadKey[l],resultsByType:{...((0,a.nTw)(e,u).sharedMediaSearch.byChatThreadKey[l]||{}).resultsByType,[o]:{foundIds:i,totalCount:c,nextOffsetId:d}}},u)}(e,t,n,i,(0,o.k)(m,g)?m:g,d,u,l)}function v(e,t,n){if(!n)return{foundIds:e,loadingState:t};const r=(0,o.Am)(Array.prototype.concat(n.foundIds,e)).sort(((e,t)=>e-t));(0,o.k)(n.foundIds,e)||(n.foundIds=r);const s={areAllItemsLoadedForwards:t.areAllItemsLoadedForwards||n.loadingState.areAllItemsLoadedForwards,areAllItemsLoadedBackwards:t.areAllItemsLoadedBackwards||n.loadingState.areAllItemsLoadedBackwards};return n.loadingState=s,n}function b(e,t,n,i,c,...[d=(0,r.g0)()]){const u=function(e,t){return t.reduce(((t,n)=>((0,o.h8)(n.foundIds,e.foundIds)?e=v(e.foundIds,e.loadingState,n):t.push(n),t)),[])}(i,c.segments);return function(e,t,n,o,i,...[c=(0,r.g0)()]){const d=(0,s.WiA)(t,n);return E(e,t,n,{...(0,a.nTw)(e,c).chatMediaSearch.byChatThreadKey[d],currentSegment:o,segments:i},c)}(e,t,n,i,u,d)}function A(e,t){const n=t.foundIds.filter((t=>t!==e));return{...t,foundIds:n}}function I(e,t,n,o,...[s=(0,r.g0)()]){const a=(0,i.f5)(e,t,n,s);if(!a)return e;const c=function(e,t){const n=A(e,t.currentSegment),r=t.segments.map((t=>A(e,t)));return{...t,currentSegment:n,segments:r}}(o,a);return E(e,t,n,c,s)}function C(e,t,n,o,...[a=(0,r.g0)()]){if(!(0,s.iZR)(t))return e;const c=(0,i.f5)(e,n,o,a);return c?(function(e){e.currentSegment.loadingState.areAllItemsLoadedForwards=!1,e.segments.forEach((e=>{e.loadingState.areAllItemsLoadedForwards=!1}))}(c),E(e,n,o,c,a)):e}function w(e,t,n,...[o=(0,r.g0)()]){return E(e,t,n,{currentSegment:{foundIds:[],loadingState:{areAllItemsLoadedForwards:!1,areAllItemsLoadedBackwards:!1}},segments:[],isLoading:!1},o)}function S(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.WiA)(t,n),d=(0,a.nTw)(e,i).chatMediaSearch.byChatThreadKey[c];return d?E(e,t,n,{...d,isLoading:o},i):e}function E(e,t,n,o,...[i=(0,r.g0)()]){const d=(0,s.WiA)(t,n);return(0,c.w)(e,{chatMediaSearch:{byChatThreadKey:{...(0,a.nTw)(e,i).chatMediaSearch.byChatThreadKey,[d]:o}}},i)}},32989:(e,t,n)=>{n.d(t,{w:()=>o});var r=n(14487);function o(e,t,...[n=(0,r.g0)()]){return{...e,byTabId:{...e.byTabId,[n]:{...e.byTabId[n],...t}}}}},95753:(e,t,n)=>{n.d(t,{_B:()=>l,gt:()=>c,lc:()=>u,oe:()=>i,rm:()=>d,xG:()=>f});var r=n(14487),o=n(87894),s=n(29807),a=n(32989);function i(e,t,n,r,o){const a=(0,s.a_$)(e,t,r);return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...e.translations.byChatId[t],byLangCode:{...e.translations.byChatId[t]?.byLangCode,[r]:{...a,[n]:{...a[n],...o}}}}}}}}function c(e,t,n){const r=e.translations.byChatId[t];if(!r)return e;const{byLangCode:s}=r,a=Object.keys(s).reduce(((e,t)=>{const r=(0,o.cJ)(s[t],[n]);return Object.keys(r).length&&(e[t]=r),e}),{});return{...e,translations:{...e.translations,byChatId:{...e.translations.byChatId,[t]:{...r,byLangCode:a}}}}}function d(e,t,n,r,o){return n.forEach(((n,s)=>{e=i(e,t,n,r,{text:o[s],isPending:!1})})),e}function u(e,t,n,...[o=(0,r.g0)()]){const i=(0,s.nTw)(e,o);return(0,a.w)(e,{requestedTranslations:{...i.requestedTranslations,byChatId:{...i.requestedTranslations.byChatId,[t]:{toLanguage:n}}}},o)}function l(e,t,n,o,...[i=(0,r.g0)()]){const c=(0,s.nTw)(e,i);return(0,a.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:{...c.requestedTranslations.byChatId[t]?.manualMessages,[n]:o}}}}},i)}function f(e,t,n,...[i=(0,r.g0)()]){const c=(0,s.nTw)(e,i),d=c.requestedTranslations.byChatId[t]?.manualMessages;if(!d)return e;const u=(0,o.cJ)(d,[n]);return(0,a.w)(e,{requestedTranslations:{...c.requestedTranslations,byChatId:{...c.requestedTranslations.byChatId,[t]:{...c.requestedTranslations.byChatId[t],manualMessages:u}}}},i)}},21133:(e,t,n)=>{n.d(t,{$:()=>w,$T:()=>f,AL:()=>m,AO:()=>R,AW:()=>u,D3:()=>S,I_:()=>b,LR:()=>x,P4:()=>C,To:()=>g,VF:()=>T,ZZ:()=>U,bE:()=>A,df:()=>v,dg:()=>D,dq:()=>k,hX:()=>N,hd:()=>d,jG:()=>F,kB:()=>l,ke:()=>p,mJ:()=>I,nT:()=>y,nZ:()=>h,p6:()=>M,qZ:()=>O,qn:()=>E,s:()=>P,w5:()=>B,yH:()=>_,yM:()=>L});var r=n(31481),o=n(14487),s=n(82393),a=n(90709),i=n(5056),c=n(19926);function d(e,t){return e.chats.byId[t]}function u(e,t){return e.chats.fullInfoById[t]}function l(e,t){return(0,a.L8L)(t)?(0,c.vG)(e,t):u(e,t)}function f(e,t){return e.chats.loadingParameters[t]}function h(e,t){return t===e.currentUserId}function m(e,t){const n=function(e,t){const n=(0,a.e7w)(t);return!!n&&(0,c.mB)(e,n)}(e,t);return n&&(0,a.tvf)(n)}function p(e){return Object.values(e.chats.byId).find((({isSupport:e})=>e))}function g(e,t){const n=u(e,t.id);if(!(0,a.L8L)(t.id)&&!(0,a.WXB)(t)&&n)return n.members&&n.members.length!==r.WG3?n.members.reduce(((t,{userId:n})=>!h(e,n)&&e.users.byId[n]&&(0,a.PFE)(e.users.byId[n],e.users.statusesById[n])?t+1:t),0):n.onlineCount}function y(e,t){return e.trustedBotIds.includes(t)}function v(e,t){if((0,c.yp)(e,t))return"bots";if((0,c.mB)(e,t))return"users";const n=d(e,t);return n?(0,a.WXB)(n)?"channels":"chats":void 0}function b(e,t){if(!(0,c.yp)(e,t))return!1;const n=_(e,t);return!(!n||!(0,a.X_k)(n))||Boolean(!n)}function A(e){return Boolean(e.chats.listIds.active)}function I(e,t,n){const{listIds:r}=e.chats;if(n){const e=r[n];return Boolean(e&&e.includes(t))}return Object.values(r).some((e=>e&&e.includes(t)))}function C(e,t){const n=d(e,t);if(n&&I(e,t))return n.folderId===r._E9?"archived":"active"}function w(e,t){return e.chatFolders.byId[t]}function S(e,t,n=r.DSF){const{active:o,archived:s,saved:a}=e.chats.orderedPinnedIds;if(n===r.DSF)return Boolean(o?.includes(t));if(n===r._E9)return Boolean(s?.includes(t));if(n===r.pX9)return Boolean(a?.includes(t));const{byId:i}=e.chatFolders,{pinnedChatIds:c}=i[n]||{};return Boolean(c?.includes(t))}function E(e,t){const n=t.toLowerCase();return Object.values(e.chats.byId).find((e=>e.usernames?.some((e=>e.username.toLowerCase()===n))))}function k(e){return Boolean(d(e,r.zv8))}function T(e,t){if(!d(e,t))return;const n=u(e,t)?.sendAsId;return n?(0,c.mB)(e,n)||d(e,n):void 0}function P(e,t,...[n=(0,o.g0)()]){const{requestedDraft:r}=(0,i.n)(e,n);if(r?.chatId===t&&!r.files?.length)return r.text}function M(e,t,...[n=(0,o.g0)()]){const{requestedDraft:r}=(0,i.n)(e,n);if(r?.chatId===t)return r.files}function L(e,t,n){return t.filter((t=>{const r=v(e,t);return!!r&&n.includes(r)}))}function N(e,t){const n=d(e,t);return!!n&&!n.migratedTo&&Boolean(!(0,a.L8L)(t)&&((0,a.WXB)(n)||(0,a.VsK)(n)?n.isCreator||(0,a.ubU)(n,"inviteUsers")||n.usernames?.length&&!n.isJoinRequest:n.isCreator||(0,a.ubU)(n,"inviteUsers")))}function B(e,t){const n=w(e,t);if(!n)return!1;const{bots:r,groups:o,channels:s,contacts:a,nonContacts:i,includedChatIds:c,pinnedChatIds:d,excludeArchived:u,excludeMuted:l,excludeRead:f,excludedChatIds:h}=n;return!r&&!o&&!s&&!a&&!i&&!u&&!l&&!f&&!h?.length&&(d?.length||c.length)&&n.includedChatIds.concat(n.pinnedChatIds||[]).some((t=>N(e,t)))}function x(e,t){if(!d(e,t))return!1;const{canTranslateChats:n}=e.settings.byKey,r=(0,c.g2)(e),o=h(e,t);return s.CM&&n&&r&&!o}function F(e,t,...[n=(0,o.g0)()]){const r=d(e,t);if(!r)return!1;if(O(e,t,n))return!0;const s=x(e,t),a=r.detectedLanguage,{doNotTranslate:i}=e.settings.byKey;return Boolean(s&&a&&!i.includes(a))}function O(e,t,...[n=(0,o.g0)()]){const{requestedTranslations:r}=(0,i.n)(e,n);return r.byChatId[t]?.toLanguage}function D(e,t){return e.chats.similarChannelsById[t]}function R(e,t){return e.chats.similarBotsById[t]}function U(e,t,n="all"){return e.chats.lastMessageIds[n]?.[t]}function _(e,t,n="all"){const r=U(e,t,n);if(!r)return;const o="saved"===n?e.currentUserId:t;return e.messages.byChatId[o]?.byId[r]}},29807:(e,t,n)=>{n.d(t,{yMZ:()=>c.yM,SpN:()=>d.Sp,yuw:()=>d.yu,ES7:()=>x,WAX:()=>d.WA,oei:()=>D.oe,Nr8:()=>D.Nr,tKM:()=>D.tK,bE$:()=>c.bE,yps:()=>l.yp,XOs:()=>l.XO,PKK:()=>P,Rwe:()=>N,wwb:()=>d.ww,OEt:()=>E,jyG:()=>d.jy,DBV:()=>d.DB,ori:()=>d.or,R4s:()=>d.R4,Y8y:()=>d.Y8,X2D:()=>oe.X2,hXb:()=>c.hX,e5V:()=>m,BWX:()=>T,tOf:()=>d.tO,mDG:()=>d.mD,RBq:()=>d.RB,Ntz:()=>Z,w5O:()=>c.w5,jGY:()=>c.jG,S86:()=>d.S8,ERc:()=>W,rtZ:()=>J,hds:()=>c.hd,qn$:()=>c.qn,$aQ:()=>c.$,AWZ:()=>c.AW,yHC:()=>c.yH,ZZX:()=>c.ZZ,$TA:()=>c.$T,P4G:()=>c.P4,O5q:()=>d.O5,zeq:()=>d.ze,ToO:()=>c.To,yFI:()=>d.yF,RnX:()=>d.Rn,dfQ:()=>c.df,Egn:()=>d.Eg,meB:()=>d.me,CuV:()=>O.Cu,Wy7:()=>D.Wy,xT4:()=>F,vn8:()=>h,vRX:()=>d.vR,Xf0:()=>d.Xf,TCk:()=>O.TC,BU_:()=>O.BU,BmE:()=>D.Bm,V9I:()=>re.V9,r8w:()=>D.r8,oZ0:()=>D.oZ,nTJ:()=>d.nT,GA4:()=>d.GA,U0A:()=>d.U0,Ys6:()=>d.Ys,KLw:()=>d.KL,dkp:()=>d.dk,VlN:()=>d.Vl,dU3:()=>d.dU,RjD:()=>d.Rj,kdX:()=>d.kd,VC8:()=>d.VC,Szq:()=>d.Sz,DI:()=>d.DI,lC:()=>d.lC,w0X:()=>G,t0O:()=>D.t0,WLj:()=>D.WL,o45:()=>d.o4,CzR:()=>D.Cz,I_m:()=>c.I_,mJZ:()=>c.mJ,D3D:()=>c.D3,ryq:()=>d.ry,ALW:()=>c.AL,nZ4:()=>c.nZ,cwE:()=>M,g29:()=>l.g2,SLS:()=>d.SL,sRo:()=>I,clw:()=>A,p5z:()=>d.p5,dZC:()=>q,hc:()=>l.hc,rTV:()=>d.rT,F4N:()=>g,nJv:()=>d.nJ,fo$:()=>d.fo,ynf:()=>d.yn,H1_:()=>d.H1,Jbz:()=>d.Jb,n_C:()=>l.n_,Ani:()=>C,gjV:()=>v,dqr:()=>c.dq,Q31:()=>D.Q3,gd2:()=>re.gd,nIz:()=>L,nTL:()=>c.nT,apd:()=>l.ap,haw:()=>d.h,wmb:()=>Q,rKQ:()=>d.rK,xzS:()=>d.xz,gCU:()=>d.gC,YK:()=>f,cO5:()=>d.cO,S1W:()=>d.S1,D_S:()=>d.D_,OEv:()=>d.OE,a_$:()=>d.a_,BSN:()=>te,tVS:()=>d.tV,rQx:()=>d.rQ,GrP:()=>Y,$5S:()=>X,Tl2:()=>d.Tl,Lzh:()=>d.Lz,JiE:()=>d.Ji,aF2:()=>_,PGw:()=>j,PVB:()=>oe.PV,dNJ:()=>re.dN,_$$:()=>re._$,kBv:()=>c.kB,IVq:()=>oe.IV,FDg:()=>oe.FD,_bp:()=>re._b,Msb:()=>re.Ms,Cw0:()=>w,xYJ:()=>S,fcC:()=>d.fc,gVx:()=>re.gV,KQQ:()=>d.KQ,zcZ:()=>d.zc,Kt9:()=>V,EGt:()=>z,N1i:()=>d.N1,EHH:()=>d.EH,Vz3:()=>d.Vz,jp_:()=>d.jp,qZq:()=>c.qZ,sam:()=>c.s,p6T:()=>c.p6,Rny:()=>d.iL,GHK:()=>D.GH,t75:()=>y,QP5:()=>d.QP,K3w:()=>d.K3,Jl6:()=>d.Jl,j_4:()=>d.j_,ZZ2:()=>d.ZZ,VF$:()=>c.VF,Y7C:()=>d.Y7,HdA:()=>d.Hd,LM$:()=>d.LM,LRV:()=>c.LR,KIM:()=>ne,ML4:()=>k,PIP:()=>d.PI,AOG:()=>c.AO,dg4:()=>c.dg,G4m:()=>K,v8U:()=>d.v8,Osl:()=>$,gqw:()=>p,ycM:()=>D.yc,wg6:()=>D.wg,R3Q:()=>re.R3,e7$:()=>H,ke9:()=>c.ke,nTw:()=>u.n,SJA:()=>b,$jd:()=>d.$j,Tac:()=>d.T,L_2:()=>d.L_,Vw0:()=>d.Vw,QbG:()=>d.Qb,C5H:()=>d.C5,S0q:()=>se.S0,nkm:()=>d.nk,sZk:()=>d.sZ,pSx:()=>se.pS,xyP:()=>se.xy,Qq_:()=>ee,ldX:()=>d.ld,mBe:()=>l.mB,gTO:()=>l.gT,Ua4:()=>l.U,vGo:()=>l.vG,K0y:()=>l.K0,rA3:()=>d.rA,NHc:()=>d.NH,wtp:()=>B});var r=n(89925),o=n(14487),s=n(82393),a=n(77312),i=n(90709),c=n(21133),d=n(19408),u=n(5056),l=n(19926);function f(e,t,...[n=(0,o.g0)()]){return(0,u.n)(e,n).management.byChatId[t]}function h(e,...[t=(0,o.g0)()]){const{chatId:n,threadId:r}=(0,d.Xf)(e,t)||{};if(!n||!r)return;if((0,l.yp)(e,n))return"bot";if((0,i.L8L)(n))return"user";const s=(0,c.hd)(e,n);return s?(0,i.YEQ)(s)?"group":"channel":void 0}function m(e,t){const n=(0,c.hd)(e,t);if(!n||n.isRestricted)return!1;const r=(0,i.L8L)(n.id)?(0,l.mB)(e,t):void 0,o=r&&(0,i.GhJ)(r),s=r&&(0,i.tvf)(r);return Boolean(!o&&n&&!(0,c.nZ)(e,n.id)&&!(0,i.QeI)(n.id)&&((0,i.L8L)(n.id)||((0,i.SJk)(n)||n.isCreator)&&!n.isNotJoined)&&!s)}function p(e,t,...[n=(0,o.g0)()]){return(0,u.n)(e,n).statistics.byChatId[t]}function g(e,...[t=(0,o.g0)()]){const{mediaViewer:{chatId:n,messageId:r,isAvatarView:s,standaloneMedia:a,isSponsoredMessage:i}}=(0,u.n)(e,t);return Boolean(a||n&&(s||r||i))}function y(e,t,...[n=(0,o.g0)()]){const s=(0,u.n)(e,n);return s.editTopicPanel?r.Ul.EditTopic:s.createTopicPanel?r.Ul.CreateTopic:s.pollResults.messageId?r.Ul.PollResults:function(e,...[t=(0,o.g0)()]){const{chatId:n,threadId:r}=(0,d.Xf)(e,t)||{};if(!n||!r)return;const s=(0,u.n)(e,t).management.byChatId[n];return s?.isActive?s:void 0}(e,n)?r.Ul.Management:s.isStatisticsShown&&s.statistics.currentMessageId?r.Ul.MessageStatistics:s.isStatisticsShown&&s.statistics.currentStoryId?r.Ul.StoryStatistics:function(e,...[t=(0,o.g0)()]){if(!(0,u.n)(e,t).isStatisticsShown)return!1;const{chatId:n}=(0,d.Xf)(e,t)||{};return n?(0,c.AW)(e,n)?.canViewStatistics:void 0}(e,n)?r.Ul.Statistics:s.boostStatistics?r.Ul.BoostStatistics:s.monetizationStatistics?r.Ul.MonetizationStatistics:void 0!==s.stickerSearch.query?r.Ul.StickerSearch:void 0!==s.gifSearch.query?r.Ul.GifSearch:s.newChatMembersProgress!==r.D7.Closed?r.Ul.AddingMembers:s.isChatInfoShown&&s.messageLists.length?r.Ul.ChatInfo:void 0}function v(e,t,...[n=(0,o.g0)()]){return void 0!==y(e,0,n)}function b(e){const{theme:t}=e.settings.byKey;return t}function A(e,...[t=(0,o.g0)()]){const n=(0,u.n)(e,t);return Boolean(n.forumPanelChatId)&&(void 0===n.globalSearch.query||Boolean(n.globalSearch.isClosing))}function I(e,...[t=(0,o.g0)()]){return!A(e,t)}function C(e,...[t=(0,o.g0)()]){const{reactionPicker:n}=(0,u.n)(e,t);return Boolean(n?.position)}function w(e){return e.settings.performance}function S(e,t){return e.settings.performance[t]}function E(e,t){const n=(0,a.zX)(t)||(0,a.QC)(t);if(!n)return;const r=S(e,"autoplayVideos"),o=S(e,"autoplayGifs"),s=n.isGif||n.isRound;return r&&!s||o&&s}function k(e){return S(e,"loopAnimatedStickers")}function T(e){return S(e,"animatedEmoji")}function P(e){return S(e,"pageTransitions")}function M(e){return S(e,"contextMenuBlur")}function L(e){return e.isSynced}function N(e){return s.bW&&S(e,"snapEffect")}function B(e,t,...[n=(0,o.g0)()]){return(0,u.n)(e,n).webApps.openedWebApps[t]}function x(e,...[t=(0,o.g0)()]){const n=(0,u.n)(e,t).webApps.activeWebAppKey;if(n)return B(e,n,t)}function F(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).globalSearch.query}var O=n(94137),D=n(30163),R=n(31481),U=n(5930);function _(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).payment.inputInvoice}function $(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).starsPayment}function j(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).payment.requestId}function z(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).payment.form?.nativeParams.publishableKey}function V(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).payment.form?.nativeParams.publicToken}function H(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).payment.stripeCredentials}function K(e,...[t=(0,o.g0)()]){return(0,u.n)(e,t).payment.smartGlocalCredentials}function W(e,t){const n=(0,c.hd)(e,t);return n&&(0,i.WXB)(n)&&(0,i.SJk)(n)&&(0,i.ubU)(n,"postMessages")}function J(e,t){const n=(0,c.hd)(e,t);return n&&(0,i.WXB)(n)}function G(e,t,...[n=(0,o.g0)()]){return J(e,t)?(0,u.n)(e,n).savedGifts.filter:void 0}function q(e,...[t=(0,o.g0)()]){return(0,U.A)((0,u.n)(e,t).savedGifts.filter,R.tBS)}function X(e){return e.settings.byKey}function Y(e){return e.settings.notifyExceptions}function Q(e){return e.settings.byKey.language.replace("-raw","")}function Z(e){return e.authRememberMe&&e.isCacheApiSupported}function ee(e){return e.settings.byKey.translationLanguage||Q(e)}function te(e){return e.settings.byKey.shouldNewNonContactPeersRequirePremium}function ne(e){return e.settings.byKey.shouldHideReadMarks}var re=n(1903),oe=n(46211),se=n(88368)},64520:(e,t,n)=>{n.d(t,{B:()=>a,d:()=>s});var r=n(31481),o=n(19926);function s(e,t){const{appConfig:n}=e;if(!n)return r.dR$[t][0];const s=(0,o.g2)(e),{limits:a}=n,i=a[t]?.[s?1:0]??r.dR$[t][s?1:0];return"dialogFilters"===t?i+1:i}function a(e,t){const{appConfig:n}=e;if(!n)return r.dR$[t][1];const{limits:o}=n;return o[t][1]}},19408:(e,t,n)=>{n.d(t,{$j:()=>k,C5:()=>E,DB:()=>fe,DI:()=>Ze,D_:()=>Le,EH:()=>we,Eg:()=>ke,GA:()=>$,H1:()=>Pe,Hd:()=>ae,Jb:()=>te,Ji:()=>M,Jl:()=>X,K3:()=>x,KL:()=>Q,KQ:()=>ce,LM:()=>se,L_:()=>me,Lz:()=>P,N1:()=>Y,NH:()=>He,O5:()=>q,OE:()=>nt,PI:()=>Ke,QP:()=>he,Qb:()=>K,R4:()=>ge,RB:()=>We,Rj:()=>Se,Rn:()=>qe,S1:()=>Je,S8:()=>et,SL:()=>Ne,Sp:()=>oe,Sz:()=>ie,T:()=>W,Tl:()=>ne,U0:()=>R,VC:()=>Me,Vl:()=>U,Vw:()=>z,Vz:()=>Qe,WA:()=>ye,Xf:()=>A,Y7:()=>re,Y8:()=>$e,Ys:()=>D,ZZ:()=>Be,a_:()=>Xe,cO:()=>Ve,dU:()=>V,dk:()=>_,fc:()=>B,fo:()=>J,gC:()=>T,h:()=>G,iL:()=>Ye,j_:()=>F,jp:()=>H,jy:()=>ve,kd:()=>Z,lC:()=>Ge,ld:()=>Ce,mD:()=>be,me:()=>I,nJ:()=>ee,nT:()=>ze,nk:()=>ue,o4:()=>_e,or:()=>Ae,p5:()=>Ee,rA:()=>N,rK:()=>O,rQ:()=>j,rT:()=>Te,ry:()=>Ue,sZ:()=>tt,tO:()=>pe,tV:()=>xe,v8:()=>je,vR:()=>L,ww:()=>Fe,xz:()=>De,yF:()=>w,yn:()=>Re,yu:()=>Ie,zc:()=>de,ze:()=>C});var r=n(23174),o=n(31481),s=n(14487),a=n(87894),i=n(60343),c=n(79824),d=n(80140),u=n(82393),l=n(90709),f=n(26129),h=n(21133),m=n(46211),p=n(1903),g=n(30163),y=n(5056),v=n(88368),b=n(19926);function A(e,...[t=(0,s.g0)()]){const{messageLists:n}=(0,y.n)(e,t);if(n.length)return n[n.length-1]}function I(e,...[t=(0,s.g0)()]){const{chatId:n}=A(e,t)||{};return n?(0,h.hd)(e,n):void 0}function C(e,t){return e.messages.byChatId[t]?.byId}function w(e,t){return e.scheduledMessages.byChatId[t]?.byId}function S(e,t,n,r,...[o=(0,s.g0)()]){return(0,y.n)(e,o).tabThreads[t]?.[n]?.[r]}function E(e,t,n,r){return k(e,t,n)?.[r]}function k(e,t,n){const r=e.messages.byChatId[t];if(!r)return;return r.threadsById[n]||void 0}function T(e,t,n){return E(e,t,n,"listedIds")}function P(e,t,n,r){const o=M(e,t,n);if(o)return o.find((e=>e[0]<=r&&e[e.length-1]>=r))}function M(e,t,n){return E(e,t,n,"outlyingLists")}function L(e,t,n,r,...[o=(0,s.g0)()]){switch(r){case"thread":return N(e,t,n,o);case"pinned":return B(e,t,n);case"scheduled":return x(e,t,n)}}function N(e,t,n,...[r=(0,s.g0)()]){return S(e,t,n,"viewportIds",r)}function B(e,t,n){return E(e,t,n,"pinnedIds")}function x(e,t,n){return E(e,t,n,"scheduledIds")}function F(e,t,n,...[r=(0,s.g0)()]){return S(e,t,n,"scrollOffset",r)}function O(e,t,n){return E(e,t,n,"lastScrollOffset")}function D(e,t,n){return E(e,t,n,"editingId")}function R(e,t,n){return E(e,t,n,"editingDraft")}function U(e,t){return E(e,t,r.l3,"editingScheduledId")}function _(e,t){return E(e,t,r.l3,"editingScheduledDraft")}function $(e,t,n){return E(e,t,n,"draft")}function j(e,t,n){return E(e,t,n,"noWebPage")}function z(e,t,n){return E(e,t,n,"threadInfo")}function V(e,t,n){return E(e,t,n,"firstMessageId")}function H(e,t,n,...[r=(0,s.g0)()]){return S(e,t,n,"replyStack",r)}function K(e,t,n){const r=(0,h.hd)(e,t),s=z(e,t,n);if(r&&s&&void 0!==s.messagesCount)return r.isForum&&n!==o.HxB?s.messagesCount-1:s.messagesCount}function W(e,t){const n=me(e,t);if(n&&n!==r.l3)return e.messages.byChatId[t.chatId].threadsById[n]}function J(e,t,n,...[o=(0,s.g0)()]){const a=A(e,o);if(!a)return!1;const{threadInfo:i}=W(e,n)||{};return t===a.chatId&&(a.threadId===r.l3||i&&a.threadId===i.threadId)}function G(e,t,n,...[o=(0,s.g0)()]){const a=N(e,t,n,o);if(!a||!a.length)return!0;const c=(0,l.cG0)(t,n,e.currentUserId);let d;if(n===r.l3){const n=(0,h.ZZ)(e,t);if(!n)return!0;d=n}else if(c){const t=(0,h.ZZ)(e,String(n),"saved");if(!t)return!0;d=t}else{const r=z(e,t,n);if(r&&r.lastMessageId)d=r.lastMessageId;else{if(!r?.threadId)return;d=Number(r?.threadId)}}return!(!(0,i.iL)(d)||q(e,t,d))||a[a.length-1]>=d}function q(e,t,n){const r=C(e,t);return r?r[n]:void 0}function X(e,t,n){const r=w(e,t);return r?r[n]:void 0}function Y(e,t){return e.quickReplies.messagesById[t]}function Q(e,t,n,r){if("scheduled"===r){const n=U(e,t);return n?X(e,t,n):void 0}{const r=D(e,t,n);return r?q(e,t,r):void 0}}function Z(e,t,...[n=(0,s.g0)()]){const{chatId:r,messageId:o}=(0,y.n)(e,n).focusedMessage||{};return r===t?o:void 0}function ee(e,t,n,...[r=(0,s.g0)()]){const o=Z(e,t.chatId,r),a=(0,y.n)(e,r).focusedMessage?.threadId;return n===a&&!!o&&(o===t.id||o===t.previousLocalId)}function te(e,t){const{lastReadOutboxMessageId:n}=(0,h.hd)(e,t.chatId)||{};return(0,l.NbO)(t)||!n||n<t.id}function ne(e,t,n=!1){return te(e,t)||n?(0,l._I8)(t):"read"}function re(e,t){const{senderId:n}=t,r=(0,h.hd)(e,t.chatId);return n?r&&(0,l.WXB)(r)&&!r.areProfilesShown?r:(0,m.PV)(e,n):r}function oe(e,t,n){return n.map((n=>{const r=q(e,t,n);return r&&re(e,r)})).filter(Boolean)}function se(e,t,n){const r=q(e,t,n);return r&&re(e,r)}function ae(e,t){const{fromId:n}=t;if(n)return(0,m.PV)(e,n)}function ie(e,t){if(Boolean(t.content.storyData)){const n=t.content.storyData.peerId;return(0,m.PV)(e,n)}const{forwardInfo:n}=t;if(n){if(n.isChannelPost&&n.fromChatId)return(0,h.hd)(e,n.fromChatId);if(!n.hiddenUserName)return n.fromId?(0,m.PV)(e,n.fromId):n.savedFromPeerId?(0,m.PV)(e,n.savedFromPeerId):void 0}}function ce(e,t){return e.messages.pollById[t]}function de(e,t){if(t.content.pollId)return ce(e,t.content.pollId)}function ue(e,t){const{chatId:n}=t,r=(0,h.hd)(e,n);if(!r?.isForum)return;const o=me(e,t);return(0,v.S0)(e,n,o)}const le=10;function fe(e,t,n){const r=(0,h.hd)(e,t);return!!r&&n!==o.HxB&&(r.isCreator||(0,l.ubU)(r,"deleteMessages")||r.isForum&&function(e,t,n){const r=(0,v.S0)(e,t,n);if(r&&!r.isOwner)return!1;const o=k(e,t,n);if(!o)return!1;const{listedIds:s}=o;return!(!s||s.length+1>=le||s.some((n=>{const r=q(e,t,n);return!r||!r.isOutgoing})))}(e,r.id,n))}function he(e,t){const{chatId:n,senderId:r,forwardInfo:s,savedPeerId:a}=t;return a||(n===e.currentUserId?s?.savedFromPeerId?s.savedFromPeerId:s?.fromId?s.fromId:s?.hiddenUserName?o.Ckz:r:void 0)}function me(e,t){const n=he(e,t);if(n)return n;const s=(0,h.hd)(e,t.chatId),{content:a}=t,{replyToMsgId:i,replyToTopId:c,isForumTopic:d}=(0,f.Q)(t)||{};return"action"in a&&"topicCreate"===a.action?.type?t.id:s?.isForum?d&&(c||i)||o.HxB:s&&(0,l.yn$)(s)?r.l3:s&&(0,l.VsK)(s)&&(c||i)||r.l3}function pe(e,t,n){const r=(0,h.hd)(e,t.chatId);if(!r||r.isRestricted||r.isForbidden)return!1;const o=(0,l.NbO)(t),s=(0,l.u72)(t);if(o||s)return!1;const a=z(e,t.chatId,n),i=Boolean(!a?.isCommentsInfo&&a?.fromChannelId),c=(0,h.AW)(e,r.id),d=(0,v.S0)(e,r.id,n);if(!(0,l.__m)(r,d,i,c))return!1;const u=ue(e,t);return!u||!u.isClosed||u.isOwner||(0,l.ubU)(r,"manageTopics")}function ge(e,t){const n=(0,l.NbO)(t),r=(0,l.u72)(t),o=(0,l._P2)(t),s=(0,l.G5T)(t),{content:a}=t,i=a.storyData?(0,p.Ms)(e,a.storyData.peerId,a.storyData.id):a.webPage?.story?(0,p.Ms)(e,a.webPage.story.peerId,a.webPage.story.id):void 0,c=Ue(e,t.chatId),d=i&&("isDeleted"in i||"noForwards"in i&&i.noForwards);return!n&&!o&&!c&&!d&&(t.isForwardingAllowed||r)&&!s}function ye(e,t,n){const r=(0,h.hd)(e,t.chatId);if(!r||r.isRestricted)return{};const o=(0,l.L8L)(r.id),s=(0,h.nZ)(e,t.chatId),a=(0,l.yn$)(r),i=(0,l.VsK)(r),c=(0,l.WXB)(r),u=Boolean((0,b.yp)(e,r.id)),f=(0,l.NbO)(t),m=(0,l.HN1)(t),p=(0,l.u72)(t),y=(0,l.Ie9)(t),v=(0,l.AkQ)(t),A=(0,l._P2)(t),I=(0,l.G5T)(t),{content:C}=t,w=(0,l.Axm)(t),S="chatBoost"===t.content.action?.type,E=r.isCreator||!c&&!(0,l.SqZ)(r,"pinMessages")||(0,l.ubU)(r,"pinMessages"),k=o||E,T=((o?s:!a&&(i?E:!!c&&(r.isCreator||(0,l.ubU)(r,"editMessages"))))||(0,d.Fm)()-t.date<(e.config?.editTimeLimit||1/0))&&!(C.sticker||C.contact||C.pollId||C.action||C.video?.isRound||C.location||C.invoice||C.giveaway||C.giveawayResults||w)&&!v&&!t.viaBotId&&!r.isForbidden,P=(0,l.cG0)(r.id,n,e.currentUserId),M=pe(e,t,n),L=M||!P&&!f&&!p&&(i||a||(0,l.WXB)(r));let N=!f&&!p&&!A&&k&&!P,x=!1;const F=B(e,r.id,n);N&&(x=Boolean(F&&F.includes(t.id)),N=!x);const O=S&&y&&!r.isCreator&&!(0,l.ubU)(r,"deleteMessages"),D=(!f||m)&&!p&&!O&&(o||y||a||r.isCreator||(0,l.ubU)(r,"deleteMessages")),R=!o&&!y,U=D&&!r.isForbidden&&(o&&!s&&!u||a&&(y||(0,l.ubU)(r,"deleteMessages")||r.isCreator)),_=y||c&&(r.isCreator||(0,l.ubU)(r,"editMessages")),$=!f&&!A&&T&&_,j=Boolean(t.content.sticker),z=j&&(0,g.Ij)(e,t.content.sticker),V=!A&&j&&!z,H=!A&&z,K=!A,W=!f&&!A&&(c||i),J=!f&&!A,G=Boolean(C.webPage?.document||C.webPage?.video||C.webPage?.photo||C.audio||C.voice||C.photo||C.video||C.document||C.sticker)&&!I,q=t.content.video?.isGif,X=C.pollId?ce(e,C.pollId):void 0,Y=!X?.summary.closed&&!X?.summary.quiz&&X?.results.results?.some((e=>e.isChosen)),Q=_&&X&&!X.summary.closed&&!v;return{noOptions:[M,L,$,N,x,R,D,U,V,H,K,W,J,G,q,Y,Q].every((e=>!e)),canReply:M,canReplyGlobally:L,canEdit:$,canPin:N,canUnpin:x,canReport:R,canDelete:D,canDeleteForAll:U,canFaveSticker:V,canUnfaveSticker:H,canCopy:K,canCopyLink:W,canSelect:J,canDownload:G,canSaveGif:q,canRevote:Y,canClosePoll:Q}}function ve(e,t,...[n=(0,s.g0)()]){const{messageIds:r}=(0,y.n)(e,n).selectedMessages||{},{chatId:a,threadId:i}=A(e,n)||{},c=t?.length?t:r;return a&&i&&c?function(e,t,n,r){const s=C(e,t);if(r.length>o.map)return{};const a=r.map((t=>s[t]&&ye(e,s[t],n))).filter(Boolean);return{canDelete:a.every((e=>e.canDelete)),canDeleteForAll:a.every((e=>e.canDeleteForAll))}}(e,a,i,c):{}}function be(e,...[t=(0,s.g0)()]){const{messageIds:n}=(0,y.n)(e,t).selectedMessages||{},{chatId:r,threadId:o}=A(e,t)||{},a=r&&C(e,r);return!!(a&&n&&o)&&n.map((t=>a[t]&&ye(e,a[t],o))).filter(Boolean).every((e=>e.canReport))}function Ae(e,...[t=(0,s.g0)()]){const{messageIds:n}=(0,y.n)(e,t).selectedMessages||{},{chatId:r,threadId:o}=A(e,t)||{},a=r&&C(e,r);return!!(a&&n&&o)&&n.map((t=>a[t]&&ye(e,a[t],o))).filter(Boolean).some((e=>e.canDownload))}function Ie(e,...[t=(0,s.g0)()]){return(0,y.n)(e,t).activeDownloads}function Ce(e,t){return e.fileUploads.byMessageKey[(0,i.bj)(t)]?.progress}function we(e,t,n){if(n===r.l3){const n=(0,h.hd)(e,t);if(!n)return;if(!n.lastReadInboxMessageId)return;const r=(0,h.ZZ)(e,t);return!r||n.unreadCount?n.lastReadInboxMessageId:r}{const r=z(e,t,n);if(!r)return;return r.lastReadInboxMessageId?Math.min(r.lastReadInboxMessageId,r.lastMessageId||1/0):Number(r.threadId)}}function Se(e,t,n){const s=(0,h.hd)(e,t);if(n===r.l3){if(!s)return}else{const r=z(e,t,n);if(!r||void 0!==r.lastMessageId&&r.lastMessageId===r.lastReadInboxMessageId)return}const a=M(e,t,n),i=T(e,t,n),c=C(e,t);if(!c||!a?.length&&!i)return;const d=we(e,t,n);if(!d&&s&&s.isNotJoined)return;const u=t===o.zv8?e.serviceNotifications.reduce(((e,t)=>!t.isUnread&&t.id>e?t.id:e),-1):-1;function l(e){return e.find((e=>(!d||e>d)&&c[e]&&(!c[e].isOutgoing||c[e].content.action?.isTopicAction||c[e].isFromScheduled)&&e>u))}if(a?.length){const e=a.map((e=>l(e))).filter(Boolean)[0];if(e)return e}if(i){const e=l(i);if(e)return e}}function Ee(e,...[t=(0,s.g0)()]){const{isShareMessageModalShown:n}=(0,y.n)(e,t);return Boolean(n)}function ke(e,t){const n=Object.values(e.chats.byId).find((n=>(0,l.VNv)(n)&&(0,h.ZZ)(e,n.id)===t));if(n)return n.id;const{byChatId:r}=e.messages;return Object.keys(r).find((n=>{const o=(0,h.hd)(e,n);return o&&(0,l.VNv)(o)&&r[o.id].byId[t]}))}function Te(e,...[t=(0,s.g0)()]){const{selectedMessages:n}=(0,y.n)(e,t);return Boolean(n)}function Pe(e,t,...[n=(0,s.g0)()]){const{messageIds:r}=(0,y.n)(e,n).selectedMessages||{};return!!r&&r.includes(t)}function Me(e,t,n){const r=C(e,t);if(r)return Object.values(r).filter((e=>e.groupedId===n&&e.forwardInfo)).map((({forwardInfo:e})=>e.fromMessageId))}function Le(e,t,n){const r=C(e,t);if(r)return Object.keys(r).map(Number).filter((e=>r[e].groupedId===n))}function Ne(e,t,n,...[r=(0,s.g0)()]){const{messageIds:o}=(0,y.n)(e,r).selectedMessages||{};if(!o)return!1;const a=Le(e,t,n);return a&&a.every((e=>o.includes(e)))}function Be(e,...[t=(0,s.g0)()]){const{messageIds:n}=(0,y.n)(e,t).selectedMessages||{};return n?n.length:0}function xe(e,t,n=r.l3,...[o=(0,s.g0)()]){if(!(0,h.hd)(e,t))return;const i=C(e,t),c=N(e,t,n,o);if(!i||!c)return;const d=(0,a.Uk)(c,(t=>{const n=i[t];return n&&function(e,t){const{keyboardButtons:n,shouldHideKeyboardButtons:r,isKeyboardSelective:o,isMentioned:s}=t;if(!n||r)return!1;const a=(0,f.Q)(t)?.replyToMsgId;if(o){if(s)return!0;if(!a)return!1;const n=q(e,t.chatId,a);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)})),u=(0,a.Uk)(c,(t=>{const n=i[t];return n&&function(e,t){const{shouldHideKeyboardButtons:n,isHideKeyboardSelective:r,isMentioned:o}=t;if(!n)return!1;const s=(0,f.Q)(t)?.replyToMsgId;if(r){if(o)return!0;if(!s)return!1;const n=q(e,t.chatId,s);return Boolean(n?.senderId===e.currentUserId)}return!0}(e,n)}));return d&&u&&u>d?void 0:d?i[d]:void 0}function Fe(e,t){const n=(0,h.hd)(e,t.chatId);if(!n)return;const r="id"in t?re(e,t):void 0,o=Boolean((0,l.ylE)(t)||(0,l.dc_)(t)),s=Boolean((0,l.zXI)(t)||(0,l.QCd)(t)),a=Boolean((0,l.wpT)(t)||(0,l.gBO)(t)||(0,l.zCu)(t)),{canAutoLoadPhotoFromContacts:i,canAutoLoadPhotoInPrivateChats:c,canAutoLoadPhotoInGroups:d,canAutoLoadPhotoInChannels:u,canAutoLoadVideoFromContacts:f,canAutoLoadVideoInPrivateChats:m,canAutoLoadVideoInGroups:p,canAutoLoadVideoInChannels:g,canAutoLoadFileFromContacts:y,canAutoLoadFileInPrivateChats:v,canAutoLoadFileInGroups:b,canAutoLoadFileInChannels:A}=e.settings.byKey;return o?Oe({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:i,canAutoLoadMediaInPrivateChats:c,canAutoLoadMediaInGroups:d,canAutoLoadMediaInChannels:u}):s?Oe({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:f,canAutoLoadMediaInPrivateChats:m,canAutoLoadMediaInGroups:p,canAutoLoadMediaInChannels:g}):!a||Oe({global:e,chat:n,sender:r,canAutoLoadMediaFromContacts:y,canAutoLoadMediaInPrivateChats:v,canAutoLoadMediaInGroups:b,canAutoLoadMediaInChannels:A})}function Oe({global:e,chat:t,sender:n,canAutoLoadMediaFromContacts:r,canAutoLoadMediaInPrivateChats:o,canAutoLoadMediaInGroups:s,canAutoLoadMediaInChannels:a}){const i=Boolean(n&&((0,h.nZ)(e,n.id)||(0,b.mB)(e,n.id)?.isContact));return Boolean(i&&r||!i&&o&&(0,l.L8L)(t.id)||s&&(0,l.YEQ)(t)||a&&(0,l.WXB)(t))}function De(e){const{serviceNotifications:t}=e,n=Math.max(...t.map((({id:e})=>e)));return t.find((({id:e,isDeleted:t})=>!t&&e===n))}function Re(e,t){return Boolean(t&&(t.isProtected||Ue(e,t.chatId)||(0,l.G5T)(t)||(0,l.qGu)(t)))}function Ue(e,t){return(0,h.hd)(e,t)?.isProtected||!1}function _e(e,t,n){if((0,h.hd)(e,t)?.isProtected)return!0;if(!n)return!1;const r=C(e,t);return n.some((e=>r[e]?.isProtected))}function $e(e,t,n){if((0,h.hd)(e,t)?.isProtected)return!1;if(!n)return!1;const r=C(e,t);return n.map((e=>r[e])).every((e=>e&&!(0,l.G5T)(e)&&(e.isForwardingAllowed||(0,l.u72)(e))))}function je(e,t){const n=e.messages.sponsoredByChatId[t];return n&&n.expiresAt>=Math.round(Date.now()/1e3)?n:void 0}function ze(e,t){if(t===o.zv8)return;const n=(0,l.L8L)(t),r=e.config?.defaultReaction;if(!r)return;if(n)return r;const s=(0,h.AW)(e,t)?.enabledReactions;return s&&(0,l.A3H)(r,s)?r:void 0}function Ve(e){const t=(0,b.g2)(e),{maxUserReactionsPremium:n=3,maxUserReactionsDefault:r=1}=e.appConfig||{};return t?n:r}function He(e,...[t=(0,s.g0)()]){const{chatId:n,threadId:r}=A(e,t)||{};if(!n||!r)return;const o=S(e,n,r,"viewportIds",t);return o?o.map((t=>{const{senderId:r}=q(e,n,t)||{};return r?(0,b.mB)(e,r):void 0})).filter(Boolean):void 0}function Ke(e,...[t=(0,s.g0)()]){return"scheduled"===A(e,t)?.type}function We(e,t){const n=(0,h.nZ)(e,t),r=(0,b.yp)(e,t);return Boolean(!n&&!r&&(0,l.L8L)(t)&&(0,b.K0)(e,t)?.wasOnline)}function Je(e,t){const n=function(e){const t=e.content.text?.entities;return t?.filter((e=>e.type===r.C7.CustomEmoji))}(t);if(!n)return c.p;const o=n.map((t=>e.customEmojis.byId[t.documentId]));return o.every(Boolean)?o.map((e=>e.stickerSetInfo)).reduce(((e,t)=>("shortName"in t&&e.some((e=>"shortName"in e&&e.shortName===t.shortName))||"id"in t&&e.some((e=>"id"in e&&e.id===t.id))||e.push(t),e)),[]):void 0}function Ge(e,...[t=(0,s.g0)()]){const{messageIds:n,fromChatId:r}=(0,y.n)(e,t).forwardMessages;if(!n)return!1;const o=C(e,r);return n.some((e=>{const t=o[e];return Boolean(t.content.voice)||Boolean(t.content.video?.isRound)}))}function qe(e,t){return e.translations.byChatId[t]}function Xe(e,t,n){return qe(e,t)?.byLangCode[n]||{}}function Ye(e,t,n,...[r=(0,s.g0)()]){const o=(0,y.n)(e,r).requestedTranslations.byChatId[t];return o?.toLanguage||o?.manualMessages?.[n]}function Qe(e,t,n,r){if(!r.replyToMsgId)return!1;const o=r?.replyToPeerId??n;if(t===o)return!0;const s=C(e,o)[r.replyToMsgId];return!(0,l.r$r)(s)}function Ze(e,t,...[n=(0,s.g0)()]){const{messageIds:r,storyId:o,fromChatId:a}=(0,y.n)(e,n).forwardMessages,i=(0,h.hd)(e,t);if(!r&&!o||!i)return!1;if(o)return!0;const c=(0,h.AW)(e,t),d=C(e,a),u=(0,l.Q_H)(i,c);return!r.some((e=>function(e,t){const n=e.content.voice,r=e.content.video?.isRound,o=e.content.photo,s=e.content.video?.isGif,a=e.content.video&&!r&&!s,i=e.content.audio,c=e.content.document,d=e.content.sticker,u=e.content.text&&!n&&!r&&!d&&!c&&!i&&!a&&!o&&!s;return n&&!t.canSendVoices||r&&!t.canSendRoundVideos||d&&!t.canSendStickers||c&&!t.canSendDocuments||i&&!t.canSendAudios||a&&!t.canSendVideos||o&&!t.canSendPhotos||s&&!t.canSendGifs||u&&!t.canSendPlainText}(d[e],u)))}function et(e,t,n,...[r=(0,s.g0)()]){const{canTranslate:o,doNotTranslate:a}=e.settings.byKey,i=!n||!a.includes(n),c=(0,l.ZRp)(t),d=(0,h.qZ)(e,t.chatId,r);return u.CM&&o&&i&&c&&!d}function tt(e,t,n){const r=(0,h.hd)(e,t);if(r&&r?.isForum)return(0,l.ytg)(r,n)}function nt(e,t,n,o){if(!(0,h.hd)(e,t))return;const s=n===r.l3;return o||!s?{type:"message",...o,replyToMsgId:o?.replyToMsgId||Number(n),replyToTopId:o?.replyToTopId||(s?void 0:Number(n))}:void 0}},94137:(e,t,n)=>{n.d(t,{BU:()=>c,Cu:()=>d,TC:()=>i,f5:()=>u});var r=n(14487),o=n(24896),s=n(19408),a=n(5056);function i(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:i}=(0,s.Xf)(e,t)||{};if(!n||!i)return;const c=(0,o.W)(n,i);return(0,a.n)(e,t).middleSearch.byChatThreadKey[c]}function c(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:i}=(0,s.Xf)(e,t)||{};if(!n||!i)return;const c=(0,o.W)(n,i);return(0,a.n)(e,t).sharedMediaSearch.byChatThreadKey[c]}function d(e,...[t=(0,r.g0)()]){const{chatId:n,threadId:i}=(0,s.Xf)(e,t)||{};if(!n||!i)return;const c=(0,o.W)(n,i);return(0,a.n)(e,t).chatMediaSearch.byChatThreadKey[c]}function u(e,t,n,...[s=(0,r.g0)()]){if(!t||!n)return;const i=(0,o.W)(t,n);return(0,a.n)(e,s).chatMediaSearch.byChatThreadKey[i]}},46211:(e,t,n)=>{n.d(t,{FD:()=>f,IV:()=>u,PV:()=>d,X2:()=>l});var r=n(31481),o=n(14487),s=n(90709),a=n(21133),i=n(5056),c=n(19926);function d(e,t){return(0,c.mB)(e,t)||(0,a.hd)(e,t)}function u(e,t){return e.peers.profilePhotosById[t]}function l(e,t){const n=(0,c.yp)(e,t),o=(0,c.mB)(e,t);return o?!n&&t!==r.zv8&&!(0,s.PL2)(o):(0,a.AW)(e,t)?.areStarGiftsAvailable}function f(e,t,...[n=(0,o.g0)()]){return(0,i.n)(e,n).savedGifts.giftsByPeerId[t]}},1903:(e,t,n)=>{n.d(t,{Ms:()=>d,R3:()=>h,V9:()=>a,_$:()=>l,_b:()=>c,dN:()=>f,gV:()=>u,gd:()=>i});var r=n(14487),o=n(46211),s=n(5056);function a(e,...[t=(0,r.g0)()]){const{storyViewer:{peerId:n,storyId:o}}=(0,s.n)(e,t);return{peerId:n,storyId:o}}function i(e,...[t=(0,r.g0)()]){const{peerId:n,storyId:o}=a(e,t);return Boolean(n)&&Boolean(o)}function c(e,t){return e.stories.byPeerId[t]}function d(e,t,n){return c(e,t)?.byId[n]}function u(e,t){const n=c(e,t);if(n?.pinnedIds?.length)return n.pinnedIds.map((e=>n.byId[e])).filter((e=>e&&"isInProfile"in e&&e.isInProfile))}function l(e,t){const n=c(e,t);if(!n)return;if(!n.lastReadId)return n.orderedIds?.[0];const r=n.orderedIds.findIndex((e=>e===n.lastReadId));return n.orderedIds?.[r+1]}function f(e,t){return c(e,t)?.orderedIds?.[0]}function h(e,t,n,r,s,a,i){const c=n||l(e,t)||f(e,t);if(!c)return;if(r)return{peerIds:[t],storyIdsByPeerId:{[t]:[c]}};const u=(0,o.PV)(e,t),h=d(e,t,c);if(!u||!h)return;const p=(e.stories.byPeerId[t].lastReadId||0)<h.id;if(s){const n=m(e,t,p,i,a);return n?.length?{peerIds:[t],storyIdsByPeerId:{[t]:n}}:void 0}const{orderedPeerIds:{active:g,archived:y}}=e.stories,v=(u.areStoriesHidden?y:g)??[],b=[],A={};for(const t of v){const n=m(e,t,p,i,a);n?.length&&(b.push(t),A[t]=n)}return b.length?{peerIds:b,storyIdsByPeerId:A}:void 0}function m(e,t,n,r,o){const s=c(e,t),a=r?"archiveIds":o?"profileIds":"orderedIds",i=s?.[a];if(!s||!i?.length)return;if(!s.lastReadId||!n)return i.slice();const d=i.indexOf(s.lastReadId);return i.length>d+1?i.slice(d+1):void 0}},30163:(e,t,n)=>{n.d(t,{Bm:()=>u,Cz:()=>C,GH:()=>b,Ij:()=>d,Nr:()=>A,Q3:()=>g,WL:()=>S,Wy:()=>l,oZ:()=>p,oe:()=>v,r8:()=>m,t0:()=>w,tK:()=>I,wg:()=>h,yc:()=>f});var r=n(31481),o=n(14487),s=n(5056),a=n(19926);const i={1:"1️⃣",3:"2️⃣",6:"3️⃣",12:"4️⃣",24:"5️⃣"},c={1e3:"2️⃣",2500:"3️⃣",5e3:"4️⃣"};function d(e,t){const{stickers:n}=e.stickers.favorite;return n&&n.some((({id:e})=>e===t.id))}function u(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).stickerSearch}function l(e,...[t=(0,o.g0)()]){return(0,s.n)(e,t).gifSearch}function f(e,t){return"string"==typeof t?e.stickers.setsById[t]:"id"in t?e.stickers.setsById[t.id]:"isMissing"in t?void 0:Object.values(e.stickers.setsById).find((({shortName:e})=>e.toLowerCase()===t.shortName.toLowerCase()))}function h(e,t){const n=e.stickers.added.setIds;let r=[];return e.stickers.favorite.stickers.forEach((e=>{e.emoji===t&&r.push(e)})),n?.forEach((n=>{const o=e.stickers.setsById[n].packs;o&&(r=r.concat(o[t]||[],o[y(t)]||[]))})),r}function m(e,t){const n=(0,a.g2)(e),r=e.customEmojis.added.setIds;let o=[];return r?.forEach((n=>{const r=e.stickers.setsById[n].packs;r&&(o=o.concat(r[t]||[],r[y(t)]||[]))})),n?o:o.filter((({isFree:e})=>e))}function p(e,t){const n=(0,a.g2)(e),r=e.customEmojis.added.setIds;let o=[];return r?.forEach((n=>{const r=e.stickers.setsById[n].packs;if(!r)return;const s=Object.entries(r).filter((([e])=>t.includes(e)||t.includes(y(e)))).flatMap((([,e])=>e));o=o.concat(s)})),n?o:o.filter((({isFree:e})=>e))}function g(e){return e.isEmoji&&e.stickers?.some((e=>!e.isFree))}function y(e){return e.replace("️","")}function v(e,t){const{animatedEmojis:n}=e;if(!n||!n.stickers)return;const r=y(t);return n.stickers.find((e=>e.emoji===t||e.emoji===r))}function b(e,t){const{restrictedEmoji:n}=e;if(!n||!n.stickers)return;const r=y(t);return n.stickers.find((e=>{if(e.emoji)return y(e.emoji)===r}))}function A(e,t){const{animatedEmojiEffects:n}=e;if(!n||!n.stickers)return;const r=y(t);return n.stickers.find((e=>e.emoji===t||e.emoji===r))}function I(e,t){return e?.appConfig?.emojiSounds[y(t)]}function C(e,t){return"id"in t&&(t.id===e.appConfig?.defaultEmojiStatusesStickerSetId||t.id===r.QkL)}function w(e,t=1){const n=e.premiumGifts?.stickers;if(!n)return;const r=i[t];return n.find((e=>e.emoji===r))||n[0]}function S(e,t){const n=e.premiumGifts?.stickers;if(!n||!t)return;let r;return r=t<=1e3?c[1e3]:t<2500?c[2500]:c[5e3],n.find((e=>e.emoji===r))||n[0]}},5056:(e,t,n)=>{n.d(t,{n:()=>o});var r=n(14487);function o(e,...[t=(0,r.g0)()]){return e.byTabId[t]}},88368:(e,t,n)=>{function r(e,t){return e.chats.topicsInfoById[t]}function o(e,t){return r(e,t)?.topicsById}function s(e,t,n){return r(e,t)?.topicsById?.[n]}n.d(t,{S0:()=>s,pS:()=>o,xy:()=>r})},19926:(e,t,n)=>{n.d(t,{K0:()=>s,U:()=>i,XO:()=>m,ap:()=>c,g2:()=>d,gT:()=>f,hc:()=>l,mB:()=>o,n_:()=>u,vG:()=>a,yp:()=>h});var r=n(90709);function o(e,t){return e.users.byId[t]}function s(e,t){return e.users.statusesById[t]}function a(e,t){return e.users.fullInfoById[t]}function i(e,t){return e.users.commonChatsById[t]}function c(e,t){return a(e,t)?.isBlocked}function d(e){return!!e.currentUserId&&Boolean(e.users.byId[e.currentUserId].isPremium)}function u(e){return e.appConfig?.isPremiumPurchaseBlocked??!0}function l(e){return e.appConfig?.isGiveawayGiftsPurchaseAvailable??!0}function f(e,t){const n=t.replace(/[^0-9]/g,"");return Object.values(e.users.byId).find((e=>e?.phoneNumber===n))}function h(e,t){const n=o(e,t);if(n&&(0,r.tvf)(n))return n}function m(e,t){return e.users.botAppPermissionsById[t]}},63527:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(19129),o=n(98255);function s(e){const t=(0,o.A)(e);return(0,r.A)(t)}},98255:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(37932),o=n(13439),s=n(22237),a=n(35297);const i=new Map;(0,r.DW)((e=>{for(const[t,{setter:n}]of i)n(t(e))}));const c=function(e){let t=i.get(e);if(!t){const[n,r]=(0,s.n5)(e((0,o.mS)()));t={clientsCount:0,getter:n,setter:r},i.set(e,t)}return(0,a.A)((()=>{const t=i.get(e);return t.clientsCount++,()=>{t.clientsCount--,t.clientsCount||i.delete(e)}}),[e]),t.getter}},57675:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(66644),s=n(91800),a=n(16581),i=n(17712),c=n(39751);const d=200;function u(e,t,n,u){const l=(0,r.li)(!0),f=(0,r.li)(),[h,m]=(0,r.J0)(!u),[p,g]=(0,r.J0)(h);(0,r.Nf)((()=>{const t=(n||e).current;u||!t||l.current||(0,o.RK)((()=>{t.style.maxHeight=p?`${f.current}px`:""}))}),[n,p,u,e]);const y=(0,i.A)((()=>{if(u||!e.current)return;const n=e.current,{lineHeight:r,totalLines:o}=(0,s.A)(n);o>t?(f.current=r*t,m(!0)):(m(!1),g(!1))})),v=(0,a.A)((()=>(0,o.YS)(y)),[y],d);(0,r.Nf)((()=>{!u&&l.current&&(0,o.gm)((()=>(y(),()=>{l.current=!1;const t=(n||e).current;t&&(t.style.maxHeight=f.current?`${f.current}px`:"")})))}),[n,u,y,e]);const{width:b}=(0,c.A)();return(0,r.vJ)((()=>{if(u)m(!1),g(!1);else{if(l.current)return;v()}}),[v,u,b]),{isCollapsed:p,isCollapsible:h,setIsCollapsed:g}}},23459:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(84051),o=n(13439),s=n(90709),a=n(29807),i=n(37836);const c=36e5,d=new Map;let u=new Set;const l=(0,i.nF)((()=>{const e=Array.from(u),t=e.slice(0,100),n=e.slice(101);(0,o.ko)().loadStoriesMaxIds({peerIds:t}),t.forEach((e=>d.set(e,Date.now()))),u=new Set(n),u.size&&l()}),500);function f(e){const t=(0,r.Kr)((()=>{const t=(0,o.mS)();return e?.map((e=>(0,a.PVB)(t,e))).filter(Boolean)}),[e]),n=(0,r.Kr)((()=>{const e=(0,o.mS)();return t?.filter((t=>{const n=d.get(t.id)||0;if(Date.now()-n<c)return!1;if((0,s.L8L)(t.id)){const n=t,r=(0,a.K0y)(e,n.id),o=r&&"userStatusEmpty"!==r.type;return!n.isContact&&!n.isSelf&&!(0,s.tvf)(n)&&!t.isSupport&&o}{const e=t;return(0,s.WXB)(e)&&!e.isRestricted}})).map((e=>e.id))}),[t]);(0,r.vJ)((()=>{n?.length&&(n.forEach((e=>u.add(e))),l())}),[n])}},37479:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(31481),s=n(28470),a=n(71322);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=new Map;class d{constructor(e){this.color=e,i(this,"filterId",void 0),i(this,"referenceCount",0),this.filterId=`color-filter-${e.slice(1)}`;const t=(0,a.E2)(e);(0,s.z)(r.Ay.createElement("filter",{"color-interpolation-filters":"sRGB",xmlns:o.jNX},r.Ay.createElement("feColorMatrix",{type:"matrix",values:`0 0 0 0 ${t.r/255} 0 0 0 0 ${t.g/255} 0 0 0 0 ${t.b/255} 0 0 0 1 0`})),this.filterId)}getFilterId(){return this.referenceCount+=1,this.filterId}removeReference(){this.referenceCount-=1,0===this.referenceCount&&(0,s.e)(this.filterId)}isUsed(){return this.referenceCount>0}}function u(e,t){if((0,r.vJ)((()=>{if(e)return()=>{const t=c.get(e);t&&(t.removeReference(),t.isUsed()||c.delete(t.color))}}),[e]),!e)return;if(c.has(e))return l(c.get(e).getFilterId(),t);const n=new d(e);return c.set(e,n),l(n.getFilterId(),t)}function l(e,t){return t?`url(#${e})`:`filter: url(#${e});`}},86974:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(84051),o=n(59852),s=n(17712),a=n(93545);const i="color",c=`50ms ${i} linear`;function d(e,t){const[n,d]=(0,r.J0)(),u=(0,s.A)((()=>{if(!e.current||t)return void d(void 0);const n=(0,o.eH)(getComputedStyle(e.current),i);d(n)}));return(0,a.A)(e,u,t),(0,r.Nf)((()=>{const n=e.current;if(n&&!t)return n.style.setProperty("transition",c,"important"),()=>{n.style.removeProperty("transition")}}),[t,e]),(0,r.vJ)((()=>{const n=e.current;if(n&&(u(),!t))return n.addEventListener("transitionend",r),()=>{n.removeEventListener("transitionend",r)};function r(e){e.propertyName===i&&u()}}),[t,e,u]),n}},43874:(e,t,n)=>{n.d(t,{Ay:()=>b,Bb:()=>g,Ny:()=>p,cB:()=>y});var r=n(84051),o=n(31481),s=n(46536),a=n(82393),i=n(43503),c=n(30857);const d=new Map,u=(0,s.h)();let l,f,h,m;function p(){return l}function g(){return f}function y(){return!p()}function v(){l=d.get("mobile")?.matches||!1,f=!l&&(d.get("tablet")?.matches||!1),h=d.get("landscape")?.matches||!1,m=d.get("touch")?.matches||!1,(0,i.u)(),u.runCallbacks()}function b(){const e=(0,c.A)();return(0,r.vJ)((()=>u.addCallback(e)),[e]),{isMobile:l,isTablet:f,isLandscape:h,isDesktop:!l&&!f,isTouchScreen:m}}!function(){const e=window.matchMedia(`(max-width: ${o.c2m}px),   (max-width: ${o.O4t}px and max-height: ${o.f84}px)`);d.set("mobile",e),e.addEventListener("change",v);const t=window.matchMedia(`(max-width: ${o.j7z}px)`);d.set("tablet",t),t.addEventListener("change",v);const n=window.matchMedia(a.pz?"(orientation: landscape)":"screen and (min-device-aspect-ratio: 1/1) and (orientation: landscape)");d.set("landscape",n),n.addEventListener("change",v);const r=window.matchMedia("(pointer: coarse)");d.set("touch",r),r.addEventListener("change",v)}(),v()},56863:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n)=>{const[o,s]=(0,r.J0)(!1),[a,i]=(0,r.J0)(),[c,d]=(0,r.J0)(n);return(0,r.vJ)((()=>{s(!0);let t=!1;return e().then((e=>{t||(s(!1),d(e))}),(e=>{t||(s(!1),i(e))})),()=>{t=!0}}),t),{isLoading:o,error:a,result:c}}},71533:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(22986),s=n(80853),a=n(37836),i=n(17712);const c=(e=!1,t,n)=>{const[c,d]=(0,r.J0)(!e),[u,l]=(0,r.J0)(!1),[f,h]=(0,r.J0)(0),[m,p]=(0,r.J0)([]),g=(0,r.Kr)((()=>(0,a.sg)(d,200,!1,!0)),[]),y=(0,i.A)((e=>{const r=e.currentTarget;if(r.duration<.1)n?.();else if("timeupdate"===e.type&&t?.(e),!(0,s.f)(r)){if(r.buffered.length){const e=function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push({start:e.start(r)/t,end:e.end(r)/t});return n}(r.buffered,r.duration),t=e.reduce(((e,{start:t,end:n})=>e+n-t),0);h(t/r.duration),p((t=>(0,o.T)(t,e)?t:e))}g(r.readyState>=3||r.currentTime>0),l((e=>e||r.readyState>3))}}));return{isReady:u,isBuffered:c,bufferedProgress:f,bufferedRanges:m,bufferingHandlers:{onPLay:y,onLoadedData:y,onPlaying:y,onLoadStart:y,onPause:y,onTimeUpdate:y,onProgress:y},checkBuffering(e){g(e.readyState>=3)}}}},47067:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(13439),s=n(31481),a=n(90709),i=n(87894),c=n(82393),d=n(59030);const u=({chat:e,user:t,folderId:n,isPinned:u,isMuted:l,canChangeFolder:f,isSavedDialog:h,currentUserId:m,isPreview:p,handleDelete:g,handleMute:y,handleChatFolderChange:v,handleReport:b},A=!1)=>{const I=(0,d.A)(),{isSelf:C}=t||{},w=t?.id===s.zv8,S=(0,r.Kr)((()=>{if(e)return h?I("Delete"):(0,a.L8L)(e.id)?I("DeleteChatUser"):(0,a.ICW)(e)?I("DeleteChat"):(0,a.WXB)(e)?I("LeaveChannel"):I("Group.LeaveGroup")}),[e,h,I]);return(0,r.Kr)((()=>{if(!e||p)return;const{toggleChatPinned:r,toggleSavedDialogPinned:s,updateChatMutedState:d,toggleChatArchived:E,toggleChatUnread:k,openChatInNewTab:T}=(0,o.ko)(),P=c.OS&&{title:c.cp?"Open in new window":"Open in new tab",icon:"open-in-new-tab",handler:()=>{T(h?{chatId:m,threadId:e.id}:{chatId:e.id})}},M=()=>{h?s({id:e.id}):r({id:e.id,folderId:n})},L=u?{title:I("UnpinFromTop"),icon:"unpin",handler:M}:{title:I("PinToTop"),icon:"pin",handler:M},N={title:S,icon:"delete",destructive:!0,handler:g};if(h)return(0,i.oE)([P,L,N]);const B=f?{title:I("ChatList.Filter.AddToFolder"),icon:"folder",handler:v}:void 0,x=l?{title:I("ChatList.Unmute"),icon:"unmute",handler:()=>d({chatId:e.id,isMuted:!1})}:{title:`${I("ChatList.Mute")}...`,icon:"mute",handler:y};if(A)return(0,i.oE)([P,L,B,x]);const F=e.unreadCount||e.hasUnreadMark?{title:I("MarkAsRead"),icon:"readchats",handler:()=>k({id:e.id})}:void 0,O=e.unreadCount||e.hasUnreadMark||e.isForum?void 0:{title:I("MarkAsUnread"),icon:"unread",handler:()=>k({id:e.id})},D=(0,a.TJc)(e)?{title:I("Unarchive"),icon:"unarchive",handler:()=>E({id:e.id})}:{title:I("Archive"),icon:"archive",handler:()=>E({id:e.id})},R=b&&!t&&((0,a.WXB)(e)||(0,a.YEQ)(e))?{title:I("ReportPeer.Report"),icon:"flag",handler:b}:void 0,U=void 0!==n;return(0,i.oE)([P,B,F,O,L,!C&&x,!C&&!w&&!U&&D,R,N])}),[e,t,f,I,v,u,A,l,m,g,y,b,n,C,w,h,S,p])}},10722:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(84051),o=n(61433),s=n(66644),a=n(82393),i=n(17712);function c(e){e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation()}const d=(e,t,n,d,u,l)=>{const[f,h]=(0,r.J0)(!1),[m,p]=(0,r.J0)(void 0),[g,y]=(0,r.J0)(void 0),v=(0,i.A)((e=>{t||2!==e.button||(0,s.RK)((()=>{(0,o.YM)(e.target,"no-selection")}))})),b=(0,i.A)((e=>{(0,s.RK)((()=>{(0,o.HW)(e.target,"no-selection")})),t||n&&e.target.matches("a[href]")||(e.preventDefault(),e.stopPropagation(),m||(h(!0),p({x:e.clientX,y:e.clientY}),y(e.target)))})),A=(0,i.A)((()=>{h(!1)})),I=(0,i.A)((()=>{p(void 0)}));return(0,r.vJ)((()=>{if(t||!a.TF||d||u&&!u())return;const r=e.current;if(!r)return;let o;const s=()=>{o&&(clearTimeout(o),o=void 0)},i=e=>{t||(l&&e.stopPropagation(),s(),o=window.setTimeout((()=>(e=>{s();const{clientX:t,clientY:r,target:o}=e.touches[0];m||n&&o.matches("a[href]")||(document.addEventListener("touchend",(e=>{a.pz&&a._7&&setTimeout((()=>{document.removeEventListener("mousedown",c,{capture:!0}),document.removeEventListener("click",c,{capture:!0})}),100),c(e)}),{once:!0,capture:!0}),a._7&&a.pz&&(document.addEventListener("mousedown",c,{once:!0,capture:!0}),document.addEventListener("click",c,{once:!0,capture:!0})),h(!0),p({x:t,y:r}))})(e)),200))};return r.addEventListener("touchstart",i,{passive:!0}),r.addEventListener("touchcancel",s,!0),r.addEventListener("touchend",s,!0),r.addEventListener("touchmove",s,{passive:!0}),()=>{s(),r.removeEventListener("touchstart",i),r.removeEventListener("touchcancel",s,!0),r.removeEventListener("touchend",s,!0),r.removeEventListener("touchmove",s)}}),[m,t,d,e,n,u,l]),{isContextMenuOpen:f,contextMenuAnchor:m,contextMenuTarget:g,handleBeforeContextMenu:v,handleContextMenu:b,handleContextMenuClose:A,handleContextMenuHide:I}}},94519:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(43336),s=n(17712),a=n(93545),i=n(46637),c=n(672);const d=150;function u(e,t){const[n,u]=(0,r.J0)(),[l,f]=(0,r.J0)(),h=(0,s.A)((()=>{const n=e.current,r=t?.current;if(!n||!r)return;if(!r.offsetWidth||!r.offsetHeight)return;const s=n.classList.contains("sticker-set-cover")||n.classList.contains("sticker-reaction")?n:n.querySelector("img");if(!s)return;const a=s.getBoundingClientRect(),i=r.getBoundingClientRect();u((0,o.LI)((a.left-i.left)/i.width,4)||0),f((0,o.LI)((a.top-i.top)/i.height,4)||0)}));(0,r.vJ)(h,[h]);const m=(0,c.A)(h,[h],d);return(0,a.A)(t,m),(0,i.A)(t,m),(0,r.Kr)((()=>void 0!==n&&void 0!==l?{x:n,y:l}:void 0),[n,l])}},14:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(73767);function o(e,t=!1,n=!1){const o=(0,r.A)(e,t);return n||null!=e?e:o}},16581:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(37836);function s(e,t,n,s=!1,a=!1){const i=(0,r.hb)(e,t);return(0,r.Kr)((()=>(0,o.sg)(i,n,!s,!a)),[i,n,s,a])}},83414:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(5718),s=n(41257),a=n(35297);const i=function(e,t,n=!1){const i=t?e:()=>e;t??(t=[e]);const[c,d]=(0,r.Ul)(),u=(0,s.i)(i);function l(){const e=u.current;n?e(d):d(e())}return(0,a.A)(l,t),(0,o.R)(l,t),c}},19129:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(30857),s=n(5718),a=n(41257),i=n(35297);const c=function(e,t,n=!1){const c=t?e:()=>e();t??(t=[e]);const d=(0,r.li)(),u=(0,o.A)(),l=(0,a.i)(c);function f(e=!1){const t=l.current;if(n)t((e=>{d.current!==e&&(d.current=e,u())}));else{const n=t();d.current!==n&&(d.current=n,e||u())}}return(0,i.A)((()=>{f(!0)}),t),(0,s.R)(f,t),d.current}},15283:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=function(e){(0,r.vJ)(e,[])}},82117:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n)=>{const o=(0,r.li)();return(0,r.vJ)((()=>{const n=o.current;return o.current=t,e(n||[])}),t,n)}},77523:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(82393);const s=e=>{const t=(0,r.li)(!1),n=(0,r.li)(window.screenX),s=(0,r.li)(window.screenY),a=(0,r.li)(0);(0,r.vJ)((()=>{const r=e.current;if(!r||!o.cp||!o.MP)return;const i=e=>{a.current=0,t.current&&(e.preventDefault(),e.stopPropagation(),t.current=!1)},c=e=>{t.current&&(e.preventDefault(),e.stopPropagation())},d=e=>{1===e.buttons&&(a.current+=Math.sqrt((n.current-window.screenX)**2+(s.current-window.screenY)**2),n.current=window.screenX,s.current=window.screenY,!t.current&&a.current>5&&(t.current=!0))},u=e=>{e.currentTarget===e.target&&window.electron?.handleDoubleClick()};return r.addEventListener("click",i),r.addEventListener("mousedown",c),r.addEventListener("mousemove",d),r.addEventListener("dblclick",u),()=>{r.removeEventListener("click",i),r.removeEventListener("mouseup",c),r.removeEventListener("mousemove",d),r.removeEventListener("dblclick",u)}}),[e])}},49746:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(13439);function s(e,t,n,s,a){const{loadMessage:i}=(0,o.ko)();(0,r.vJ)((()=>{a||t&&!n&&i({chatId:e,messageId:t,replyOriginForId:s})}),[a,e,n,t,s])}},21488:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(13439),s=n(37836);const a=function(e,t,n){const{loadPeerStoriesByIds:a}=(0,o.ko)(),i=(0,r.Kr)((()=>{const n=(0,s.nF)(a,200,!0);return()=>{n({peerId:e,storyIds:[t]})}}),[t,e]);(0,r.vJ)((()=>{e&&t&&(!n||!("content"in n)&&!("isDeleted"in n))&&i()}),[i,n,t,e])}},11217:(e,t,n)=>{n.d(t,{Q:()=>s});var r=n(82393),o=n(17712);function s(e){const t=(0,o.A)((t=>{"mousedown"===t.type&&t.button!==r.w3.Main||e(t)}));return r.TF?{handleClick:e?t:void 0}:{handleMouseDown:e?t:void 0}}},37661:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=(e=!1,t)=>{const[n,o]=(0,r.J0)(e,t);return[n,(0,r.hb)((()=>{o(!0)}),[]),(0,r.hb)((()=>{o(!1)}),[])]}},74984:(e,t,n)=>{n.d(t,{Rh:()=>a,g5:()=>c,ic:()=>i});var r=n(84051),o=n(49763),s=n(30857);function a(e){const t=(0,s.A)();return(0,r.vJ)((()=>(0,o.Yw)(e,t)),[e,t]),(0,o.YA)(e)}function i(){const e=(0,s.A)();return(0,r.vJ)((()=>(0,o.P1)(e)),[e]),(0,o.PZ)()}function c(){const e=(0,s.A)();return(0,r.vJ)((()=>(0,o.BU)(e)),[e]),(0,o.jn)()}},30857:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=()=>{const[,e]=(0,r.J0)(!1);return(0,r.hb)((()=>{e((e=>!e))}),[])}},84080:(e,t,n)=>{n.d(t,{Ay:()=>c,KE:()=>d});var r=n(84051),o=n(46536),s=n(17712);const a=(0,o.h)(),i=(0,o.h)();function c(e,t,n=!1){const o=(0,s.A)(e),c=(0,s.A)(t);(0,r.vJ)((()=>{if(!n)return(0,r.OV)()&&o(),a.addCallback(o),i.addCallback(c),()=>{i.removeCallback(c),a.removeCallback(o)}}),[n,c,o])}function d(e,t){const n=(0,r.hb)(e,t),o=(0,r.li)(!1);return(0,r.Kr)((()=>(...e)=>{if(!o.current){if(!(0,r.OV)())return void n(...e);o.current=!0;const t=i.addCallback((()=>{n(...e),t(),o.current=!1}))}}),[n])}r.OV.subscribe((()=>{(0,r.OV)()?a.runCallbacks():i.runCallbacks()}))},26072:(e,t,n)=>{n.d(t,{A:()=>k});var r=n(84051),o=n(13439),s=n(31481),a=n(66644),i=n(82393),c=n(15283),d=n(17712),u=n(35297);const l=`${window.location.pathname}${window.location.search}`,f=Number(new Date);let h,m,p=!1,g=[],y=[],v=!1;function b(){v&&setTimeout((()=>{v=!1}),350)}function A(){const e=g.filter((e=>"go"===e.type)),t=g.filter((e=>"go"!==e.type)),n=e.reduce(((e,t)=>e+t.delta),0);g=[],n&&(window.history.go(n),t.length)?y.push(...t):I(t)}function I(e){e.forEach((e=>window.history[e.type](e.data,"",e.hash)))}function C(e){g.length||(0,a.YS)(A),g.push(e)}function w(){m=0,h=[{index:0,onBack:()=>window.history.back()}],window.history.replaceState({index:0,historyUniqueSessionId:f},"",l)}function S(e=1){let t=e;for(let e=m-1;e>0&&h[e].isClosed;e--)t++;return t&&(p=!0,C({type:"go",delta:-t})),t}function E(){let e=!1;for(let t=h.length-1;t>0;t--)h[t].isClosed||(!e&&v&&((0,o.ko)().disableHistoryAnimations(),e=!0),h[t].onBack?.());w()}function k({isActive:e,shouldBeReplaced:t,shouldResetUrlHash:n,hash:o,onBack:s}){const a=(0,d.A)(s),i=(0,r.li)(),l=(0,r.li)(!1),p=(0,r.li)(!0),g=(0,r.hb)(((e=!1)=>{const r=e||h[m].shouldBeReplaced;i.current=r?m:++m,m=i.current;const s=h[i.current];s&&!s.isClosed&&s.markReplaced?.(),h[i.current]={index:i.current,onBack:a,shouldBeReplaced:t,markReplaced:()=>{l.current=!0}},C({type:r?"replaceState":"pushState",data:{index:i.current,historyUniqueSessionId:f},hash:o?`#${o}`:n?" ":void 0})}),[o,t,n]),y=(0,r.hb)((()=>{i.current&&h[i.current]&&!l.current&&(h[i.current].isClosed=!0,l.current=!0,i.current!==m||t||(m-=S()))}),[t]);(0,c.A)((()=>(p.current=!1,()=>{e&&!l.current&&y()}))),(0,u.A)((([t])=>{t!==e&&(p.current&&!e||(e?g():y()))}),[e,y,g])}s.W75&&(window.TEST_getHistoryState=()=>h,window.TEST_getHistoryCursor=()=>m),i.pz&&(window.addEventListener("touchstart",(function(e){const t=e.touches[0].pageX;(t<=300||t>=window.innerWidth-300)&&(v=!0)})),window.addEventListener("touchend",b),window.addEventListener("popstate",b)),w(),window.addEventListener("popstate",(({state:e})=>{if(p)return p=!1,void(y.length&&(I(y),y=[]));if(!e)return E(),void window.location.hash;const{index:t,historyUniqueSessionId:n}=e;if(n===f){if(t!==m)if(t<m){let e=0,n=!1;for(let r=m;r>t-e;r--)h[r].isClosed?e++:(!n&&v&&((0,o.ko)().disableHistoryAnimations(),n=!0),h[r].onBack?.());const r=S(e);m+=t-m-r,m<0&&(m=0)}else t>m&&(p=!0,C({type:"go",delta:-(t-m)}))}else E()}))},36838:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n=!1)=>{(0,r.vJ)((()=>{if(t)return;const r=e.current;function o(e){e.deltaX||(r.scrollLeft+=e.deltaY/4,n&&e.preventDefault())}return r.addEventListener("wheel",o,{passive:!n}),()=>{r.removeEventListener("wheel",o)}}),[e,t,n])}},2178:(e,t,n)=>{n.d(t,{v:()=>i});var r=n(84051),o=n(46536);const s=new Set(["INPUT","TEXTAREA","SELECT"]),a=(0,o.h)();function i(e){(0,r.vJ)((()=>{if(!e)return;const t=Object.entries(e);return a.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!s.has(e.target.tagName)})(e)&&t.forEach((([t,n])=>{(function(e){return t=>function(e,t){const{alt:n,ctrl:r,meta:o,mod:s,shift:a,key:i}=e,{altKey:c,ctrlKey:d,metaKey:u,shiftKey:l,key:f}=t;if(n!==c)return!1;if(s){if(!d&&!u)return!1}else{if(r!==d)return!1;if(o!==u)return!1}return a===l&&Boolean(i&&(f.toLowerCase()===i.toLowerCase()||t.code.replace("Key","").toLowerCase()===i.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},r=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!r.includes(e)))}}(e),t)})(t)(e)&&n(e)}))}))}),[e])}document.documentElement.addEventListener("keydown",a.runCallbacks)},96374:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(84051),o=n(89925),s=n(87894),a=n(30857),i=n(17712),c=n(73767);function d(e,t,n,r){const{length:s}=e,a=r?e.indexOf(r):0,i=t===o.TN.Forwards?a:a+1||s,c=Math.max(0,i-n),d=i+n-1,u=e.slice(Math.max(0,c),d+1);let l,f;switch(t){case o.TN.Forwards:l=i>=0,f=c>=0;break;case o.TN.Backwards:l=i<s,f=d<=s-1}return{newViewportIds:u,areSomeLocal:l,areAllLocal:f,newIsOnTop:u[0]===e[0],fromOffset:c}}const u=(e,t,n=!1,u=30)=>{const l=(0,r.li)(),f=(0,r.li)();if(!f.current&&t&&!n){const{newViewportIds:e,newIsOnTop:n,fromOffset:r}=d(t,o.TN.Forwards,u,t[0]);f.current={viewportIds:e,isOnTop:n,offset:r}}const h=(0,a.A)();n&&(l.current={});const m=(0,c.A)(t),p=(0,c.A)(n);if(!t||n||t===m&&n===p)t||(f.current=void 0);else{const{viewportIds:e,isOnTop:n}=f.current||{},r=e&&!n?e[Math.round(e.length/2)]:void 0,a=r&&t.includes(r)?r:t[0],{offsetId:i=a,direction:c=o.TN.Forwards}=l.current||{},{newViewportIds:h,newIsOnTop:m,fromOffset:p}=d(t,c,u,i);l.current={},e&&(0,s.k)(e,h)||(f.current={viewportIds:h,isOnTop:m,offset:p})}const g=(0,i.A)((({direction:n,noScroll:r})=>{const{viewportIds:a}=f.current||{},i=a?n===o.TN.Backwards?a[a.length-1]:a[0]:void 0;if(!t)return void(e&&e({offsetId:i}));const{newViewportIds:c,areSomeLocal:m,areAllLocal:p,newIsOnTop:g,fromOffset:y}=d(t,n,u,i);!m||a&&(0,s.k)(a,c)||(f.current={viewportIds:c,isOnTop:g,offset:y},h()),!p&&e&&(r||(l.current={...l.current,direction:n,offsetId:i}),e({offsetId:i}))}));return n?[t]:[f.current?.viewportIds,g,f.current?.offset]}},5912:(e,t,n)=>{n.d(t,{BL:()=>c,Vz:()=>u,mv:()=>d});var r=n(84051),o=n(46536),s=n(37836),a=n(84080),i=n(17712);function c({rootRef:e,throttleMs:t,throttleScheduler:n,debounceMs:c,shouldSkipFirst:d,margin:u,threshold:l,isDisabled:f},h){const m=(0,r.li)(),p=(0,r.li)(),g=(0,r.li)(0),y=(0,r.li)();p.current=h;const v=(0,i.A)((()=>{g.current++})),b=(0,i.A)((()=>{g.current&&(g.current--,!g.current&&y.current&&(y.current(),y.current=void 0))}));return(0,a.Ay)(v,b),(0,r.vJ)((()=>{if(!f)return()=>{m.current&&(m.current.observer.disconnect(),m.current.destroy(),m.current=void 0)}}),[f]),{observe:(0,i.A)(((r,a)=>{m.current||function(){const r=new Map,a=new Map;let i;function f(){if(g.current)return void(y.current=i);const e=Array.from(a.values());e.forEach((e=>{const t=r.get(e.target);t?.runCallbacks(e)})),p.current&&p.current(e),a.clear()}i="function"==typeof n?(0,s.nb)(n,f):t?(0,s.nF)(f,t,!d):c?(0,s.sg)(f,c,!d):f;const h=new IntersectionObserver((e=>{e.forEach((e=>{a.set(e.target,e)})),g.current?y.current=i:i()}),{root:e.current,rootMargin:u?`${u}px`:void 0,threshold:l});m.current={observer:h,addCallback:function(e,t){r.get(e)||r.set(e,(0,o.h)()),r.get(e).addCallback(t)},removeCallback:function(e,t){const n=r.get(e);n&&(n.removeCallback(t),n.hasCallbacks()||r.delete(e))},destroy:function(){r.clear(),h.disconnect(),a.clear()}}}();const i=m.current;return i.observer.observe(r),a&&i.addCallback(r,a),()=>{a&&i.removeCallback(r,a),i.observer.unobserve(r)}})),freeze:v,unfreeze:b}}function d(e,t,n){const o=(0,i.A)(n);(0,r.vJ)((()=>t?t(e.current,o):void 0),[o,t,e])}function u(e,t,n){const[o,s]=(0,r.J0)(!t);return d(e,t,(e=>{s(e.isIntersecting),n&&n(e)})),o}},10328:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(66644),s=n(17712);const a=(e,t,n,a,i)=>{const[c,d]=(0,r.J0)(-1);return(0,r.vJ)((()=>{d(-1);const n=e.current;t&&n&&!i&&((0,o.RK)((()=>{n.tabIndex=-1})),(0,o.YS)((()=>n.focus())))}),[e,t,i]),(0,s.A)((t=>{const r=e.current;if(!r)return;if(13===t.keyCode&&n)return void n(c);if(38!==t.keyCode&&40!==t.keyCode)return;const o=document.activeElement,s=Array.from(a?r.querySelectorAll(a):r.children);let i=o&&s.indexOf(o)||c;if(38===t.keyCode&&i>0)i--;else if(40===t.keyCode&&i<s.length-1)i++;else{if(1!==s.length)return;i=0}const u=s[i];u&&(d(i),u.focus())}))}},39351:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(43044),o=n(15283),s=n(30857);const a=()=>{const e=(0,s.A)();return(0,o.A)((()=>(0,r.iV)(e))),(0,r.Yw)()}},17712:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(41257);function s(e){const t=(0,o.i)(e);return(0,r.hb)(((...e)=>t.current?.(...e)),[])}},37859:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=(e,t,n)=>{const o=(0,r.li)();return(0,r.Nf)((()=>{const n=o.current;return o.current=t,e(n||[])}),t,n)}},62587:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(84051),o=n(23174),s=n(29807),a=n(58554),i=n(63527),c=n(30857);const d=(e,t=!1,n=o.qZ.BlobUrl,d)=>{const u=e?a.Ih(e):void 0,l=(0,c.A)(),f=(0,i.A)(s.nIz);return(0,r.vJ)((()=>{if(!t&&e&&!u){const t=Date.now();a.hd(e,n).then((()=>{const e=Date.now()-t;!d||e>=d?l():setTimeout(l,d-e)}))}}),[t,e,u,n,d,f]),u}},37960:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(21511);function o(e,t){const n=Boolean(e),{ref:o}=(0,r.A)({isOpen:n,noMountTransition:n,className:"slow",...t});return o}},83057:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(50680);function o(e){const t=Boolean(e),{transitionClassNames:n}=(0,r.A)(t,void 0,t,"slow");return n}},80464:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(84051),o=n(80089),s=n(30857);const a=(e,t,n=!1,a=!1)=>{const i=(0,o.gt)(e,t),c=(0,s.A)();return(0,r.vJ)((()=>{if(a)return(0,o.If)(c)}),[a,c]),(0,r.vJ)((()=>{n||i||(0,o.Vw)(e).then(c)}),[e,c,i,t,n]),i}},59030:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(6e4),o=n(15283),s=n(30857);const a=()=>{const e=(0,s.A)();return(0,o.A)((()=>r.DW(e))),r.Yw()}},73767:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);const o=function(e,t){const n=(0,r.li)(),{current:o}=n;return t&&void 0===e||(n.current=e),o}},34780:(e,t,n)=>{n.d(t,{Ay:()=>f,c_:()=>u,w4:()=>l});var r=n(84051),o=n(46536),s=n(17712);const a=(0,o.h)(),i=(0,o.h)();let c,d=!1;function u(){return d}function l(){return d||(d=!0,a.runCallbacks()),c&&(clearTimeout(c),c=void 0),function(){c&&(clearTimeout(c),c=void 0),d=!1,i.runCallbacks()}}const f=(e,t,n=!1)=>{const o=(0,s.A)(e),c=(0,s.A)(t);(0,r.vJ)((()=>{if(!n)return d&&o(),a.addCallback(o),i.addCallback(c),()=>{i.removeCallback(c),a.removeCallback(o)}}),[n,o,c])}},93545:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(46536),s=n(41257);const a=new Map;function i(e,t,n=!1){const i=(0,s.i)(t);(0,r.vJ)((()=>{const t=e?.current;if(!t||n)return;const r=([e])=>{0===e.contentRect.width&&0===e.contentRect.height||i.current(e)};let[s,c]=a.get(t)||[void 0,void 0];return s||(c=(0,o.h)(),s=new ResizeObserver(c.runCallbacks),a.set(t,[s,c]),s.observe(t)),c.addCallback(r),()=>{c.removeCallback(r),c.hasCallbacks()||(s.unobserve(t),s.disconnect(),a.delete(t))}}),[n,i,e])}},46637:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(66644),s=n(46536),a=n(17712);const i=new Map;function c(e,t,n=!1){const c=(0,a.A)(t);(0,r.vJ)((()=>{const t=e&&"current"in e?e.current:e;if(!t||n)return;const a=new Map;function d(){for(const e of a.values())e.target.offsetParent&&c(e);a.clear()}const u=([e])=>{a.set(e.target,e),(0,r.OV)()?r.OV.once((()=>{(0,o.YS)(d)})):d()};let[l,f]=i.get(t)||[void 0,void 0];return l||(f=(0,s.h)(),l=new IntersectionObserver(f.runCallbacks),i.set(t,[l,f]),l.observe(t)),f.addCallback(u),()=>{f.removeCallback(u),f.hasCallbacks()||(l.unobserve(t),l.disconnect(),i.delete(t))}}),[n,e])}},21511:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(84051),o=n(61433),s=n(66644),a=n(83414),i=n(19129),c=n(17712),d=n(41257),u=n(35297);const l=(e,t)=>{const n=(0,r.li)();return(0,u.A)((()=>{const r=n.current;return n.current=t,e(r||[])}),t)},f=350;function h(e){const{isOpen:t,noMountTransition:n=!1,noOpenTransition:h=!1,noCloseTransition:m=!1,closeDuration:p=f,className:g="fast",prefix:y="",shouldForceOpen:v,onCloseAnimationEnd:b}=e,A=(0,r.li)(null),I=e.ref||A,C=(0,r.li)(),[w,S]=(0,r.Ul)(),E=(0,d.i)({closeDuration:p,noMountTransition:n,noOpenTransition:h,noCloseTransition:m}),k=(0,c.A)(b);l((([e])=>{const n=E.current;v?S("open"):t?(C.current&&(clearTimeout(C.current),C.current=void 0),n.noOpenTransition||void 0===e&&n.noMountTransition?S("open"):(S("scheduled-open"),(0,s.YS)((()=>{S("open")})))):void 0===e||n.noCloseTransition?S("closed"):(S("closing"),C.current=window.setTimeout((()=>{S("closed"),k()}),n.closeDuration))}),[t,v]);const T=(0,c.A)((()=>{const e=I.current;if(!e)return;!1!==g&&((0,o.YM)(e,"opacity-transition"),(0,o.YM)(e,g));const t=w(),n="closed"!==t,r="open"===t,s="closing"===t;(0,o.dH)(e,`${y}shown`,n),(0,o.dH)(e,`${y}not-shown`,!n),(0,o.dH)(e,`${y}open`,r),(0,o.dH)(e,`${y}not-open`,!r),(0,o.dH)(e,`${y}closing`,s)}));(0,u.A)((()=>{I.onChange=()=>{I.onChange=void 0,T()}}),[T,I]),(0,r.Nf)(T,[T,w]);const P="withShouldRender"in e&&e.withShouldRender,M=(0,i.A)((()=>P&&"closed"!==w()),[P,w]),L=(0,a.A)((()=>"closing"===w()),[w]);return P?{ref:I,shouldRender:M,getIsClosing:L}:{ref:I,getIsClosing:L}}},50680:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(87357);const s=(e=!1,t,n=!1,s="fast",a=!1,i=350,c=!1)=>{const[d,u]=(0,r.J0)(!e),l=(0,r.li)(),[f,h]=(0,r.J0)(e&&n);if(e)u(!1),h(!0),l.current&&(window.clearTimeout(l.current),l.current=void 0);else if(h(!1),!d&&!l.current){const e=()=>{u(!0),t&&t(),l.current=void 0};a?e():l.current=window.setTimeout(e,i)}const m=f&&!(a&&!e)||c&&e,p=Boolean(l.current),g=e||p;return{shouldRender:g,transitionClassNames:(0,o.A)(s&&"opacity-transition",s,m&&"open",!m&&"not-open",g&&"shown",!g&&"not-shown",p&&"closing"),hasShownClass:g,hasOpenClass:m,isClosing:p}}},5718:(e,t,n)=>{n.d(t,{R:()=>s});var r=n(84051),o=n(22237);function s(e,t){const n=(0,r.li)(!0);n.current&&(n.current=!1,t?.forEach((t=>{(0,o.Hp)(t)&&t.subscribe(e)}))),(0,r._W)((()=>{(0,o.cO)(e)}))}},41257:(e,t,n)=>{n.d(t,{i:()=>o});var r=n(84051);function o(e){const t=(0,r.li)(e);return t.current=e,t}},66991:(e,t,n)=>{n.d(t,{Y:()=>l,c:()=>f});var r=n(84051),o=n(31481),s=n(66644),a=n(19822),i=n(39761),c=n(95704),d=n(82393);const u=100;function l(e,t,n){return(0,r.vJ)((()=>{if(!t||!e.current)return;const r=p(),o=e.current;if(!d.Yw||!n||!r?.isTypeSupported(n))return;const l=new r;function f(){if(!t||!n)return;const e=l.addSourceBuffer(n),r=(0,c.h)(t);e.addEventListener("updateend",(function(){r.next().then((({value:t,done:n})=>{"open"===l.readyState&&(n?m(l):h(e,t))}))})),r.next().then((({value:t,done:n})=>{n||"open"!==l.readyState||((0,s.RK)((()=>{o.style.display="block",setTimeout((()=>{(0,s.RK)((()=>{(0,a.ZM)(o,{opacity:"1"})}))}),u)})),h(e,t))}))}return l.addEventListener("sourceopen",f,{once:!0}),(0,s.RK)((()=>{(0,a.ZM)(o,{display:"none",opacity:"0"}),o.src=URL.createObjectURL(l)})),()=>{(0,s.RK)((()=>{const e=o.src;(0,i.A)(o),l.removeEventListener("sourceopen",f),"open"===l.readyState&&m(l),URL.revokeObjectURL(e)}))}}),[n,t,e]),f(n)}function f(e){return!(!d.Yw||!e)&&Boolean(p()?.isTypeSupported(e))}function h(e,t){try{e.appendBuffer(t)}catch(e){o.Oig&&console.warn("[Stream] failed to append buffer",e)}}function m(e){try{e.endOfStream()}catch(e){o.Oig&&console.warn("[Stream] failed to end stream",e)}}function p(){return"ManagedMediaSource"in window?ManagedMediaSource:"MediaSource"in window?MediaSource:void 0}},35297:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(73767);function s(e,t){const n=(0,o.A)(t),s=(0,r.li)();n&&!t.some(((e,t)=>e!==n[t]))||(s.current?.(),s.current=e(n||[])??void 0),(0,r._W)((()=>{s.current?.()}))}},672:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(37836);function s(e,t,n,s=!1){const a=(0,r.hb)(e,t);return(0,r.Kr)((()=>"number"==typeof n?(0,o.nF)(a,n,!s):(0,o.nb)(n,a)),[a,n,s])}},22867:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(84051),o=n(13439),s=n(90709),a=n(29807);function i(e){const t=e&&"content"in e?(0,s.CIU)(e):e?.thumbnail?.dataUri,n=(0,a.SJA)((0,o.mS)());return(0,r.Kr)((()=>{const e=t;return e&&"dark"===n?e.replace("<svg",'<svg fill="white"'):e}),[t,n])}},14745:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051),o=n(14235);function s(){const e=(0,r.li)();return e.current||(e.current=(0,o.A)()),e.current}},73622:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(9935),o=n(84051),s=n(39761),a=n(41257);function i(e,t){const n=(0,a.i)(t);(0,o.Nf)((()=>{const t=e.current;if(t)return()=>{const e=n.current;e&&Object.entries(e).forEach((([e,n])=>{t.removeEventListener((0,r.xE)(e,t),n,!1)})),(0,o.qF)((()=>{(0,s.A)(t)}))}}),[n,e])}},22802:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(84051);const o="backdrop";function s(e,t,n,s,a){(0,r.vJ)((()=>{if(!e||!n)return;const r=e=>{const r=t.current,i=e.target;!r||!i||s&&2===e.button||r.contains(e.target)&&!i.classList.contains(o)||a&&(i.matches(a)||i.closest(a))||(e.preventDefault(),e.stopPropagation(),n?.())};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[a,s,e,t,n])}},61157:(e,t,n)=>{n.d(t,{A:()=>d,g:()=>u});var r=n(84051),o=n(46536),s=n(17712);const a=(0,o.h)(),i=(0,o.h)();let c=document.hasFocus();function d(e,t,n=!1){const o=(0,s.A)(e),d=(0,s.A)(t);(0,r.vJ)((()=>{if(!n)return c||o(),a.addCallback(o),i.addCallback(d),()=>{i.removeCallback(d),a.removeCallback(o)}}),[n,o,d])}function u(){return!c}window.addEventListener("blur",(()=>{c&&(c=!1,a.runCallbacks())})),window.addEventListener("focus",(()=>{c=!0,i.runCallbacks()}))},38691:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(46536),s=n(15283);const a=(0,o.h)();function i(){window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`).addEventListener("change",a.runCallbacks,{once:!0})}function c(){const[e,t]=(0,r.J0)(window.devicePixelRatio);return(0,s.A)((()=>a.addCallback((()=>{t(window.devicePixelRatio)})))),e}i(),a.addCallback(i)},39751:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(84051),o=n(37836),s=n(43503),a=n(16581);const i=250;function c(){const{width:e,height:t}=s.A.get(),[n,c]=(0,r.J0)(e),[d,u]=(0,r.J0)(t),[l,f]=(0,r.J0)(!1),h=(0,a.A)(f,[f],i,!0);return(0,r.vJ)((()=>{const e=(0,o.nF)((()=>{f(!0)}),i,!0),t=(0,o.nF)((()=>{const{width:e,height:t}=s.A.get();c(e),u(t),h(!1)}),i,!1),n=()=>{e(),t()};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}}),[h]),(0,r.Kr)((()=>({width:n,height:d,isResizing:l})),[d,l,n])}},66644:(e,t,n)=>{n.d(t,{RK:()=>f,Uj:()=>s.Uj,Uz:()=>h,YS:()=>l,Z3:()=>s.Z3,dL:()=>s.dL,gm:()=>m});var r=n(50110),o=n(37836),s=n(75357);let a=[],i=[],c=[];const d=(u=()=>{const e=a;a=[],e.forEach((e=>{(0,r.A)(e)})),Promise.resolve().then((()=>{(0,s.A)("mutate");const e=i;i=[],e.forEach((e=>{(0,r.A)(e)}))})).then((()=>{(0,s.A)("measure");const e=[];for(const t of c)(0,r.A)((()=>{const n=t();n&&e.push(n)}));return c=[],e})).then((e=>{(0,s.A)("mutate");for(const t of e)(0,r.A)(t)})).then((()=>{(0,s.A)("measure")}))},(0,o.nb)((e=>{(0,o.IJ)(e,!0)}),u));var u;function l(e){a.push(e),d()}function f(e){i.push(e),d()}function h(e){l((()=>{f(e)}))}function m(e){c.push(e),d()}},75357:(e,t,n)=>{n.d(t,{oA:()=>l,Z3:()=>u,Uj:()=>f,dL:()=>m,A:()=>d});const r={Element:{props:["clientLeft","clientTop","clientWidth","clientHeight","scrollWidth","scrollHeight","scrollLeft","scrollTop"],methods:["getClientRects","getBoundingClientRect","scrollBy","scrollTo","scrollIntoView","scrollIntoViewIfNeeded"]},HTMLElement:{props:["offsetLeft","offsetTop","offsetWidth","offsetHeight","offsetParent","innerText"],methods:["focus"]},window:{props:["scrollX","scrollY","innerHeight","innerWidth"],methods:["getComputedStyle"]},VisualViewport:{props:["height","width","offsetTop","offsetLeft"]},Document:{props:["scrollingElement"],methods:["elementFromPoint"]},HTMLInputElement:{methods:["select"]},MouseEvent:{props:["layerX","layerY","offsetX","offsetY"]},Range:{methods:["getClientRects","getBoundingClientRect"]}};let o=console.error;const s=new Map;let a,i="measure",c=!1;function d(e){i=e}function u(){c||(c=!0,Object.entries(r).forEach((([e,t])=>{const n=window[e];if(!n)return;const r="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach((t=>{const n=Object.getOwnPropertyDescriptor(r,t)?.get;n&&(s.set(`${e}#${t}`,n),Object.defineProperty(r,t,{get(){return p(t),n.call(this)}}))})),"methods"in t&&t.methods.forEach((t=>{const n=r[t];s.set(`${e}#${t}`,n),r[t]=function(...e){return p(t),n.apply(this,e)}}))})),a=new MutationObserver((e=>{"mutate"!==i&&e.forEach((({target:e,type:t,attributeName:n})=>{document.contains(e)&&(h.has(e)||"childList"===t&&e instanceof HTMLElement&&e.contentEditable||n?.startsWith("data-")||o(new Error(`Unexpected mutation detected: \`${"attributes"===t?n:t}\``)))})),h.clear()})),a.observe(document.body,{childList:!0,attributes:!0,subtree:!0,characterData:!1}))}function l(){c&&(a?.disconnect(),a=void 0,Object.entries(r).forEach((([e,t])=>{const n=window[e];if(!n)return;const r="object"==typeof n?n:n.prototype;"props"in t&&t.props.forEach((t=>{const n=s.get(`${e}#${t}`);n&&Object.defineProperty(r,t,{get:n})})),"methods"in t&&t.methods.forEach((t=>{r[t]=s.get(`${e}#${t}`)}))})),s.clear(),c=!1)}function f(e){if("mutate"!==i)throw new Error("The current phase is 'measure'");i="measure";const t=e();return i="mutate",t}const h=new Set;function m(e,t){if("measure"!==i)throw new Error("The current phase is 'mutate'");return c&&(Array.isArray(t)?t.forEach((e=>{h.add(e)})):h.add(t)),e()}function p(e){"measure"!==i&&o(new Error(`Unexpected measurement detected: \`${e}\``))}},88458:(e,t,n)=>{let r,o;async function s(){return r||(r=n.e(6708).then(n.bind(n,66708)).then((e=>e.default)),o=await r),r}function a(){return o}n.d(t,{Y:()=>s,o:()=>a}),setTimeout(s,3e3)},9935:(e,t,n)=>{n.d(t,{f:()=>d,iB:()=>h,q2:()=>c,xE:()=>u});var r=n(31481);const o=new Set(["scroll","mouseenter","mouseleave","load"]),s={},a={},i=new Map;function c(e,t,n,r=!1){const o=u(t,e);l(o,e,r)?function(e,t,n){s[e]||(s[e]=0,document.addEventListener(e,m)),function(e){return a[e]||(a[e]=new Map),a[e]}(e).set(t,n),function(e){const t=i.get(e);if(t)return t;const n=new Set;return i.set(e,n),n}(t).add(e),s[e]++}(o,e,n):e.addEventListener(o,n,r)}function d(e,t,n,r=!1){const o=u(t,e);l(o,e,r)?f(o,e):e.removeEventListener(o,n,r)}function u(e,t){const n=e.replace(/^on/,"").replace(/Capture$/,"").toLowerCase();return"change"===n&&"SELECT"!==t.tagName?"input":"doubleclick"===n?"dblclick":"focus"===n?"focusin":"blur"===n?"focusout":n}function l(e,t,n){return!n&&!o.has(e)&&"VIDEO"!==t.tagName&&"IFRAME"!==t.tagName}function f(e,t){s[e]--,s[e]||document.removeEventListener(e,m),a[e].delete(t),i.get(t).delete(e)}function h(e){const t=i.get(e);t&&(t.forEach((t=>f(t,e))),i.delete(e))}function m(e){const t=a[e.type];if(t){let n=!1,r=e.target;const o=()=>{n=!0},s=()=>{e.preventDefault()},a=new Proxy(e,{get:(e,t)=>"currentTarget"===t?r:"stopPropagation"===t||"stopImmediatePropagation"===t?o:"preventDefault"===t?s:Reflect.get(e,t)});for(;r&&r!==document.body;){const e=t.get(r);if(e&&(e(a),n))return;r=r.parentNode}}}r.Oig&&document.addEventListener("dblclick",(()=>{const e=Object.keys(s).length,t=Object.values(s).reduce(((e,t)=>e+t),0),n=Object.keys(a).length,r=Object.values(a).reduce(((e,t)=>e+t.size),0),o=i.size,c=Array.from(i.values()).reduce(((e,t)=>e+t.size),0);console.warn("DELEGATED EVENTS STATS",{delegatedHandlersCount1:t,delegatedHandlersCount2:r,delegatedEventTypesCount:c,delegationRegistriesCount:n,delegationElementsCount:o,documentListenersCount:e})}))},8718:(e,t,n)=>{n.d(t,{By:()=>g,Mb:()=>l,OV:()=>h,VK:()=>m,qF:()=>p});var r=n(37836),o=n(22237),s=n(66644);const a=1e3;let i=0,c=0;const[d,u]=(0,o.n5)(!1),[l,f]=(0,o.n5)(!1),h=d;function m(e=a,t=!1){i++,1===i&&u(!0),t&&(c++,1===c&&f(!0));const n=window.setTimeout(o,e);let r=!1;function o(){r||(r=!0,clearTimeout(n),i--,0===i&&u(!1),t&&(c--,0===c&&f(!1)))}return o}function p(e){(0,r.kI)((()=>{d()?(0,s.YS)((()=>{p(e)})):e()}))}function g(e){return(0,r.nb)(p,e)}},61433:(e,t,n)=>{n.d(t,{Ay:()=>_,HW:()=>O,Tv:()=>R,YM:()=>F,dH:()=>D});var r=n(31481),o=n(87894),s=n(9935),a=n(84051);const i="http://www.w3.org/2000/svg",c="http://www.w3.org/1999/xhtml",d=new Set(["key","ref","teactFastList","teactOrderKey"]),u=new Set(["dir","role","form"]),l=["INPUT","TEXTAREA","SELECT"],f={autoPlay:"autoplay",autoComplete:"autocomplete"},h="__indexKey#",m=new WeakMap,p=new WeakMap,g=new WeakMap;function y(e,t,n,o,s,c,d={}){const{skipComponentUpdate:u,fragment:l}=d;let{nextSibling:f,namespace:h}=d;const m=t?.type===a.wr.Component,p=n?.type===a.wr.Component,g=n,y=!m&&t?.type===a.wr.Fragment,w=!p&&n?.type===a.wr.Fragment;if(n?.type===a.wr.Tag&&("svg"===n.tag&&(h=i),n.props.xmlns&&(h=n.props.xmlns)),!u&&m&&p&&!(0,a.rO)(t,n)&&(n=function(e,t){return e.componentInstance.props=t.componentInstance.props,(0,a.Cc)(e.componentInstance)}(t,n)),!u&&p&&n.componentInstance.mountState===a.pT.Mounted&&b(e,n,o,s,c),t===n)return n;if(r.Oig&&n){const e="target"in n&&n.target;if(e&&(!t||"target"in t&&e!==t.target))throw new Error("[Teact] Cached virtual element was moved within tree")}if(!t&&n)if(p||w)p&&(s=(n=v(e,n,o,s,c)).componentInstance.context??s),A(e,n,s,{nextSibling:f,fragment:l,namespace:h});else if(l||f||g.type!==a.wr.Text||1!==o.children.length||e.firstChild){const t=I(g,s,h);g.target=t,S(l||e,t,f),g.type===a.wr.Tag&&P(g,t)}else e.textContent=g.value,g.target=e.firstChild;else if(t&&!n)C(e,t,s,void 0);else if(t&&n)if((0,a.rO)(t,n))if(f||(f=E(t)),p||w)p&&(s=(n=v(e,n,o,s,c)).componentInstance.context??s),C(e,t,s,void 0),A(e,n,s,{nextSibling:f,fragment:l,namespace:h});else{const n=I(g,s,h);g.target=n,C(e,t,s,n,f),g.type===a.wr.Tag&&P(g,n)}else if(m&&p||y&&w)k(t,n,s,e,f,d.forceMoveToEnd);else{const r=t,o=r.target;if(g.target=o,r.target=void 0,t.type===a.wr.Tag){const r=n;P(t,void 0),P(r,o),(f||d.forceMoveToEnd)&&S(e,o,f),function(e,t,n,r){M(n.tagName,t.props);const o=Object.entries(e.props),s=Object.entries(t.props);for(const[e,r]of o){const o=t.props[e];void 0!==r&&(void 0===o||r!==o&&e.startsWith("on"))&&N(n,e,r)}for(const[t,o]of s){const s=e.props[t];void 0!==o&&o!==s&&L(n,t,o,r)}}(t,r,o,h),k(t,r,s,o,void 0,void 0,h)}}return n}function v(e,t,n,r,o){const{componentInstance:s}=t;return t.componentInstance.context=r,s.mountState===a.pT.New&&b(e,t=(0,a.bF)(s),n,r,o),t}function b(e,t,n,r,o){const{componentInstance:s}=t;s.onUpdate=()=>{n.children[o]=y(e,n.children[o],s.$element,n,r,o,{skipComponentUpdate:!0})}}function A(e,t,n,r){const{children:o}=t;for(let s=0,a=o.length;s<a;s++){const a=o[s],i=y(e,void 0,a,t,n,s,r);i!==a&&(o[s]=i)}}function I(e,t,n=c){if(e.type===a.wr.Empty)return document.createTextNode("");if(e.type===a.wr.Text)return document.createTextNode(e.value);const{tag:r,props:o,children:s}=e,i=document.createElementNS(n,r);M(r,o);for(const e in o)o.hasOwnProperty(e)&&void 0!==o[e]&&L(i,e,o[e],n);!function(e,t){l.includes(e.tagName)&&(t.defaultValue&&L(e,"value",t.defaultValue),t.defaultChecked&&L(e,"checked",t.defaultChecked))}(i,o);for(let r=0,o=s.length;r<o;r++){const o=s[r],a=y(i,void 0,o,e,t,r,{namespace:n});a!==o&&(s[r]=a)}return i}function C(e,t,n,r,o){const s=t.type===a.wr.Component,i=!s&&t.type===a.wr.Fragment;s||i?(s&&(0,a.s4)(t.componentInstance),function(e,t,n){for(const r of t.children)y(e,r,void 0,t,n,-1)}(e,t,n),r&&S(e,r,o)):(r?e.replaceChild(r,t.target):e.removeChild(t.target),w(t))}function w(e){if(e.type===a.wr.Component)(0,a.s4)(e.componentInstance);else if(e.type!==a.wr.Fragment&&(e.type===a.wr.Tag&&(p.delete(e.target),P(e,void 0),(0,s.iB)(e.target)),e.target=void 0,e.type!==a.wr.Tag))return;for(const t of e.children)w(t)}function S(e,t,n){n?e.insertBefore(t,n):e.appendChild(t)}function E(e){return e.type===a.wr.Component||e.type===a.wr.Fragment?E(e.children[e.children.length-1]):e.target.nextSibling||void 0}function k(e,t,n,s,i,c=!1,d){if(r.Oig&&function(e){const t=e[0];if(t&&"props"in t&&void 0!==t.props.key){const t=e.reduce(((e,t)=>("props"in t&&t.props.key&&e.push(t.props.key),e)),[]);if(t.length!==(0,o.Am)(t).length)throw console.warn("[Teact] Duplicated keys:",t.filter(((e,t,n)=>n.indexOf(e)!==t)),e),new Error("[Teact] Children keys are not unique")}}(t.children),"props"in t&&t.props.teactFastList)return void function(e,t,n,o){const s=e.children,i=t.children,c=new Set;for(const e of i){const t="props"in e?e.props.key:void 0;if(r.Oig&&(0,a.jo)(e)&&(null==t&&console.warn("Missing `key` in `teactFastList`"),e.type===a.wr.Fragment))throw new Error("[Teact] Fragment can not be child of container with `teactFastList`");c.add(t)}let d=0;const u={};for(let e=0,r=s.length;e<r;e++){const r=s[e];let a="props"in r?r.props.key:void 0;const l=null!=a;if(!l||c.has(a)){if(!l){const s=i[e],c=s&&"props"in s?s.props.key:void 0;if(!s||c){y(o,r,void 0,t,n,-1);continue}a=`${h}${e}`}u[a]={$element:r,index:d++,orderKey:"props"in r?r.props.teactOrderKey:void 0}}else y(o,r,void 0,t,n,-1)}let l,f,m=0;for(let e=0,r=i.length;e<r;e++){const r=i[e],s=u["props"in r?r.props.key:`${h}${e}`];if(!s){void 0===f&&(l=e,f=0),f++;continue}f&&(T(l,f,o,t,n),f=void 0,l=void 0);const a="props"in r?r.props.teactOrderKey:void 0,c=s.index!==m&&(!a||s.orderKey!==a),d=c&&m>s.index;c&&!d||m++;const p=o.childNodes[d?e+1:e],g=c?p?{nextSibling:p}:{forceMoveToEnd:!0}:void 0,v=y(o,s.$element,r,t,n,e,g);v!==r&&(i[e]=v)}f&&T(l,f,o,t,n)}(e,t,n,s);const u=e.children,l=t.children,f=u.length,m=l.length,p=Math.max(f,m),g=m>f?document.createDocumentFragment():void 0,v=e.children[f-1],b=g&&(i||(v?E(v):void 0));for(let e=0;e<p;e++){const r=y(s,u[e],l[e],t,n,e,e>=f?{fragment:g,namespace:d}:{nextSibling:i,forceMoveToEnd:c,namespace:d});r&&r!==l[e]&&(l[e]=r)}g&&S(s,g,b)}function T(e,t,n,r,o){const s=n.childNodes[e];if(1===t){const t=r.children[e],a=y(n,void 0,t,r,o,e,{nextSibling:s});return void(a!==t&&(r.children[e]=a))}const a=document.createDocumentFragment();for(let s=e;s<e+t;s++){const e=r.children[s],t=y(n,void 0,e,r,o,s,{fragment:a});t!==e&&(r.children[s]=t)}S(n,a,s)}function P(e,t){const{ref:n}=e.props;"object"==typeof n?(n.current=t,n.onChange?.()):"function"==typeof n&&n(t)}function M(e,t){if(!t.teactExperimentControlled)return;const n=void 0!==t.value,r=void 0!==t.checked;if(!n&&!r||!l.includes(e.toUpperCase()))return;const{value:o,checked:s,onInput:a,onChange:i}=t;t.onChange=void 0,t.onInput=e=>{if(a?.(e),i?.(e),void 0!==o&&o!==e.currentTarget.value){const{selectionStart:t,selectionEnd:n}=e.currentTarget,r=t===n&&n===e.currentTarget.value.length;if(e.currentTarget.value=o,"number"==typeof t&&"number"==typeof n){e.currentTarget.setSelectionRange(t,n);const o={selectionStart:t,selectionEnd:n,isCaretAtEnd:r};e.currentTarget.dataset.__teactSelectionState=JSON.stringify(o)}}void 0!==s&&(e.currentTarget.checked=s)}}function L(e,t,n,r){if("className"===t)B(e,n,r);else if("value"===t){const t=e;if(t.value!==n){t.value=n;const e=t.dataset.__teactSelectionState;if(e){const{selectionStart:n,selectionEnd:r,isCaretAtEnd:o}=JSON.parse(e);if(o){const e=t.value.length;t.setSelectionRange(e,e)}else"number"==typeof n&&"number"==typeof r&&t.setSelectionRange(n,r)}}}else"style"===t?x(e,n):"dangerouslySetInnerHTML"===t?e.innerHTML=n.__html:t.startsWith("on")?(0,s.q2)(e,t,n,t.endsWith("Capture")):r===i||t.startsWith("data-")||t.startsWith("aria-")||u.has(t)?e.setAttribute(t,n):d.has(t)||(e[f[t]||t]=n)}function N(e,t,n){"className"===t?B(e,""):"value"===t?e.value="":"style"===t?x(e,""):"dangerouslySetInnerHTML"===t?e.innerHTML="":t.startsWith("on")?(0,s.f)(e,t,n,t.endsWith("Capture")):d.has(t)||e.removeAttribute(t)}function B(e,t,n){if(n===i)return void e.setAttribute("class",t);const r=e,o=p.get(e);if(!o)return void(r.className=t);const s=Array.from(o);t&&s.push(t),r.className=s.join(" ")}function x(e,t){e.style.cssText=t,g.get(e)&&U(e)}function F(e,t){e.classList.add(t);const n=p.get(e);n?n.add(t):p.set(e,new Set([t]))}function O(e,t){e.classList.remove(t);const n=p.get(e);n&&(n.delete(t),n.size||p.delete(e))}function D(e,t,n){!0===n?F(e,t):!1===n||p.get(e)?.has(t)?O(e,t):F(e,t)}function R(e,t){g.set(e,t),U(e)}function U(e){const t=Object.entries(g.get(e)).reduce(((t,[n,r])=>(n.startsWith("--")?e.style.setProperty(n,r):t[n]=r,t)),{});Object.assign(e.style,t)}const _={render:function(e,t){m.has(t)||m.set(t,{children:[]});const n=(0,a.ek)(),r=m.get(t),o=y(t,r.children[0],e,r,{},0);n?.(),r.children=o?[o]:[]}}},84051:(e,t,n)=>{n.d(t,{$Z:()=>oe,pT:()=>y,wr:()=>g,VK:()=>p.VK,ek:()=>j,Ay:()=>se,OV:()=>p.OV,rO:()=>H,jo:()=>S,ph:()=>re,bF:()=>K,qF:()=>p.qF,Cc:()=>V,s4:()=>W,hb:()=>ee,vJ:()=>X,Nf:()=>Y,Kr:()=>Z,li:()=>te,Ul:()=>ne,J0:()=>G,_W:()=>Q});var r=n(31481),o=n(5930),s=n(37836);const a=new Set(["TeactMemoWrapper renders","TeactNContainer renders","Button renders"]);let i={};const c=(0,s.nF)((function(){d||function(){d=document.createElement("div"),d.style.cssText="position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px; border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 10px;",document.body.appendChild(d);const e=document.createElement("a");e.style.cssText="position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; cursor: pointer;",e.innerText="🔄",e.addEventListener("click",(()=>{i={},c()})),document.body.appendChild(e)}();const e=Date.now()-500,[t,n]=Object.entries(i).reduce(((e,[t,{value:n}])=>(a.has(t)||(t.includes("renders")&&n>e[0]&&(e[0]=n),t.includes("duration")&&n>e[1]&&(e[1]=n)),e)),[0,0]);d.innerHTML=Object.entries(i).filter((([e,{value:t}])=>!a.has(e)&&(e.includes("renders")&&t>5||e.includes("duration")&&t>2))).sort(((e,t)=>t[1].lastUpdateAt-e[1].lastUpdateAt)).map((([r,{value:o,lastUpdateAt:s}])=>{return[`<div style="background: #ff0000${a=o/(r.includes("renders")?t:n),Math.round(255*a).toString(16).padStart(2,"0")}">`,`  <span${s>e?' style="background: lightgreen"':""}>${r}: ${Math.round(o)}</span>`,"</div>"].join("\n");var a})).join("\n")}),500,!1);let d;function u(e,t=1){const n=Date.now();i[e]?(i[e].value+=t,i[e].lastUpdateAt=n):i[e]={value:t,lastUpdateAt:n},c()}var l=n(87894),f=n(50110),h=n(22237),m=n(66644),p=n(8718);let g=function(e){return e[e.Empty=0]="Empty",e[e.Text=1]="Text",e[e.Tag=2]="Tag",e[e.Component=3]="Component",e[e.Fragment=4]="Fragment",e}({}),y=function(e){return e[e.New=0]="New",e[e.Mounted=1]="Mounted",e[e.Unmounted=2]="Unmounted",e}({});const v=Symbol("Fragment"),b=7,A=7,I=new Set(["TeactMemoWrapper","TeactNContainer","Button","ListItem","MenuItem"]);let C,w=0;function S(e){return e.type===g.Tag||e.type===g.Component||e.type===g.Fragment}function E(e,t,...n){return e===v?function(e){return{type:g.Fragment,children:T(e,!0)}}(n):"function"==typeof e?function(e,t,n){n?.length&&(t.children=1===n.length?n[0]:n);const r={id:-1,$element:void 0,Component:e,name:e.name,props:t,mountState:y.New};return r.$element=k(r),r.$element}(e,t||{},n):function(e,t,n){return{type:g.Tag,tag:e,props:t,children:T(n)}}(e,t||{},n)}function k(e,t){return{type:g.Component,componentInstance:e,props:e.props,children:t?T(t,!0):[]}}function T(e,t=!1){const n=function(e,t=!1){let n=e.length-1;for(;n>=0&&P(e[n]);n--);return n===e.length-1?e:-1===n&&t?e.slice(0,1):e.slice(0,n+1)}(e,t),r=[];for(let e=0,o=n.length;e<o;e++){const o=n[e];Array.isArray(o)?r.push(...T(o,t)):r.push(M(o))}return r}function P(e){return!e&&0!==e}function M(e){return P(e)?{type:g.Empty}:S(e)?e:{type:g.Text,value:String(e)}}const L={TOTAL:{name:"TOTAL",renders:0}},N={},B=20;document.addEventListener("dblclick",(()=>{console.warn("COMPONENTS",(0,l.My)(Object.values(L).map((({avgRenderTime:e,...t})=>({...t,...void 0!==e&&{avgRenderTime:Number(e.toFixed(2))}}))),"renders","desc")),console.warn("MEMOS",(0,l.My)(Object.values(N).filter((({calls:e})=>e>=B)).map((e=>({...e,hitRate:Number(e.hitRate.toFixed(2))}))),"hitRate","asc"))}));let x=new Set,F=new Set,O=new Map,D=new Map,R=new Map,U=new Map,_=!1;const $=(0,s.nb)(m.YS,(()=>{if((0,p.Mb)())return void p.Mb.once($);const e=j();F=new Set;const t=Array.from(x).sort(((e,t)=>e.id-t.id));x=new Set;const n=D;D=new Map,n.forEach((e=>e()));const r=O;O=new Map,r.forEach((e=>e())),(0,m.RK)((()=>{t.forEach(J),t.forEach((e=>{F.has(e.id)||function(e){if(e.mountState!==y.Mounted||!e.onUpdate)return;const t=e.$element;V(e),e.$element!==t&&e.onUpdate()}(e)})),e?.()}))}));function j(){if(!_)return _=!0,z}function z(){const e=U;U=new Map,e.forEach((e=>e()));const t=R;R=new Map,t.forEach((e=>e())),_=!1}function V(e){F.add(e.id);const{Component:t,props:n}=e;let o;if((0,f.A)((()=>{let s;if(C=e,e.hooks&&(e.hooks.state&&(e.hooks.state.cursor=0),e.hooks.effects&&(e.hooks.effects.cursor=0),e.hooks.memos&&(e.hooks.memos.cursor=0),e.hooks.refs&&(e.hooks.refs.cursor=0)),r.Oig){const e=oe(t);L[e]||(L[e]={name:e,renders:0,avgRenderTime:0}),r.MVx&&(I.has(e)||console.log(`[Teact] Render ${e}`)),s=performance.now()}if(o=t(n),r.Oig){const e=performance.now()-s,n=oe(t);e>b&&console.warn(`[Teact] Slow component render: ${n}, ${Math.round(e)} ms`);const{renders:o,avgRenderTime:a}=L[n];L[n].avgRenderTime=(a*o+e)/(o+1),L[n].renders++,L.TOTAL.renders++,r.MVx&&(u(`${n} renders`),u(`${n} duration`,e))}}),(()=>{console.error(`[Teact] Error while rendering component ${e.name}`,e),o=e.renderedValue})),e.mountState===y.Mounted&&o===e.renderedValue)return e.$element;e.renderedValue=o;const s=Array.isArray(o)?o:[o];return e.mountState===y.New?e.$element.children=T(s,!0):e.$element=k(e,s),e.$element}function H(e,t){return typeof e!=typeof t||e.type!==t.type||(e.type===g.Text&&t.type===g.Text?e.value!==t.value:e.type===g.Tag&&t.type===g.Tag?e.tag!==t.tag||e.props.key!==t.props.key:e.type===g.Component&&t.type===g.Component&&(e.componentInstance.Component!==t.componentInstance.Component||e.props.key!==t.props.key))}function K(e){return e.id=++w,V(e),e.mountState=y.Mounted,e.$element}function W(e){if(e.mountState===y.Mounted){if(F.add(e.id),e.hooks?.effects)for(const t of e.hooks.effects.byCursor)t.cleanup&&(0,f.A)(t.cleanup),t.cleanup=void 0,t.releaseSignals?.();e.mountState=y.Unmounted,function(e){const{effects:t,state:n,memos:r,refs:o}=e.hooks||{};if(t)for(const e of t.byCursor)e.schedule=void 0,e.cleanup=void 0,e.releaseSignals=void 0,e.dependencies=void 0;if(n)for(const e of n.byCursor)e.value=void 0,e.nextValue=void 0,e.setter=void 0;if(r)for(const e of r.byCursor)e.value=void 0,e.dependencies=void 0;if(o)for(const e of o.byCursor)e.current=void 0,e.onChange=void 0;e.hooks=void 0,e.$element=void 0,e.renderedValue=void 0,e.Component=void 0,e.props=void 0,e.onUpdate=void 0}(e)}}function J(e){if(e.mountState===y.Mounted&&e.hooks?.state)for(const t of e.hooks.state.byCursor)t.value=t.nextValue}function G(e,t){C.hooks||(C.hooks={}),C.hooks.state||(C.hooks.state={cursor:0,byCursor:[]});const{cursor:n,byCursor:o}=C.hooks.state,s=C;return void 0===o[n]&&(o[n]={value:e,nextValue:e,setter:e=>{s.mountState!==y.Unmounted&&("function"==typeof e&&(e=e(o[n].nextValue)),o[n].nextValue!==e&&(o[n].nextValue=e,x.add(s),$(),r.MVx&&console.log("[Teact.useState]",oe(s.Component),`State update at cursor #${n}${t?` (${t})`:""}, next value: `,o[n].nextValue)))}}),C.hooks.state.cursor++,[o[n].value,o[n].setter]}function q(e,t,n,o){C.hooks||(C.hooks={}),C.hooks.effects||(C.hooks.effects={cursor:0,byCursor:[]});const{cursor:s,byCursor:a}=C.hooks.effects,i=a[s],c=C;function d(){!function(e,t,n,o){const{byCursor:s}=e.hooks.effects,a=s[t]?.cleanup,i=o?U:D,c=o?R:O,d=`${e.id}_${t}`;if(a){const n=()=>(0,f.A)((()=>{if(e.mountState===y.Unmounted)return;let n;if(r.Oig&&(n=performance.now()),a(),r.Oig){const r=performance.now()-n,o=oe(e.Component);r>A&&console.warn(`[Teact] Slow cleanup at effect cursor #${t}: ${o}, ${Math.round(r)} ms`)}}),(()=>{console.error(`[Teact] Error in effect cleanup at cursor #${t} in ${e.name}`,e)}),(()=>{s[t].cleanup=void 0}));i.set(d,n)}c.set(d,(()=>(0,f.A)((()=>{if(e.mountState===y.Unmounted)return;let o;r.Oig&&(o=performance.now());const a=n();if("function"==typeof a&&(s[t].cleanup=a),r.Oig){const n=performance.now()-o,r=oe(e.Component);n>A&&console.warn(`[Teact] Slow effect at cursor #${t}: ${r}, ${Math.round(n)} ms`)}}),(()=>{console.error(`[Teact] Error in effect at cursor #${t} in ${e.name}`,e)})))),$()}(c,s,t,e)}if(n&&i?.dependencies){if(n.some(((e,t)=>e!==i.dependencies[t]))){if(r.Oig&&o){const e=n.reduce(((e,t,n)=>{const r=i.dependencies[n];return t!==r&&e.push(`${n}: ${r} => ${t}`),e}),[]);console.log(`[Teact] Effect "${o}" caused by dependencies.`,e.join(", "))}d()}}else o&&console.log(`[Teact] Effect "${o}" caused by missing dependencies.`),d();i&&(i.schedule=void 0),a[s]={...i,dependencies:n,schedule:d},i||(a[s].releaseSignals=function(){const e=n?.filter(h.Hp).map(((e,t)=>e.subscribe((()=>{o&&console.log(`[Teact] Effect "${o}" caused by signal #${t} new value:`,e()),a[s].schedule()}))));if(e?.length)return()=>{for(const t of e)t()}}()),C.hooks.effects.cursor++}function X(e,t,n){return q(!1,e,t,n)}function Y(e,t,n){return q(!0,e,t,n)}function Q(e){C.hooks||(C.hooks={}),C.hooks.effects||(C.hooks.effects={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=C.hooks.effects;n[t]||(n[t]={cleanup:e}),C.hooks.effects.cursor++}function Z(e,t,n,s){C.hooks||(C.hooks={}),C.hooks.memos||(C.hooks.memos={cursor:0,byCursor:[]});const{cursor:a,byCursor:i}=C.hooks.memos;let c,{value:d}=i[a]||{};if(r.Oig&&s){const e=`${s}#${C.id}`;c=N[e],c||(c={key:e,calls:0,misses:0,hitRate:0},N[e]=c),c.calls++,c.hitRate=(c.calls-c.misses)/c.calls}if(void 0===i[a]||t.length!==i[a].dependencies.length||t.some(((e,t)=>e!==i[a].dependencies[t]))){if(r.Oig){if(n){const e=`[Teact.useMemo] ${C.name} (${n}): Update is caused by:`;i[a]?(0,o.q)(i[a].dependencies,t,e,n):console.log(`${e} [first render]`)}c&&(c.misses++,c.hitRate=(c.calls-c.misses)/c.calls,c.calls%10==0&&c.calls>=B&&c.hitRate<.25&&console.warn(`[Teact] ${c.key}: Hit rate is ${c.hitRate.toFixed(2)} for ${c.calls} calls`))}d=e()}return i[a]={value:d,dependencies:t},C.hooks.memos.cursor++,d}function ee(e,t,n){return Z((()=>e),t,n)}function te(e){C.hooks||(C.hooks={}),C.hooks.refs||(C.hooks.refs={cursor:0,byCursor:[]});const{cursor:t,byCursor:n}=C.hooks.refs;return n[t]||(n[t]={current:e}),C.hooks.refs.cursor++,n[t]}function ne(e){const t=te();return t.current??(t.current=(0,h.n5)(e)),t.current}function re(e,t){function n(n){return Z((()=>E(e,n)),Object.values(n),t,r.MVx?oe(C.Component):void 0)}return n.DEBUG_contentComponentName=oe(e),n}function oe(e){const{name:t,DEBUG_contentComponentName:n}=e;return"TeactNContainer"===t?`container>${n}`:"TeactMemoWrapper"===t?`memo>${n}`:"TeactContextProvider"===t?`context>id${n}`:t+(n?`>${n}`:"")}const se={createElement:E,Fragment:v}},37932:(e,t,n)=>{n.d(t,{Cn:()=>P,DW:()=>T,cl:()=>N});var r=n(31481),o=n(5930),s=n(2188),a=n(87894),i=n(37836),c=n(84051),d=n(30857),u=n(14745);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}let f,h={isInited:!1};const m=(0,i.Fe)((()=>{f=Math.random()})),p={},g=[function(){let e;r.Oig&&(e=performance.now());for(const e of v.values()){const{mapStateToProps:t,ownProps:n,mappedProps:a,forceUpdate:i}=e;if(!L(e,h,n))continue;let c;try{c=t(h,n)}catch(e){return void(0,s.H)(e)}r.Oig&&Object.values(c).some(Number.isNaN)&&console.warn(`[TeactN] Some of \`${e.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`),Object.keys(c).length&&!(0,o.A)(a,c)&&(r.MVx&&(0,o.q)(a,c,`[TeactN] Will update ${e.DEBUG_componentName} caused by:`),e.mappedProps=c,e.DEBUG_updates++,i())}if(r.Oig){const t=performance.now()-e;t>7&&console.warn(`[TeactN] Slow containers update: ${Math.round(t)} ms`)}}],y={},v=new Map,b=(0,i.Fe)(I);let A=!0;function I(){if(A)A=!1;else if((0,c.OV)())return void c.OV.once(b);g.forEach((e=>e(h)))}function C(e,t){if("object"==typeof e&&e!==h){if(r.Oig){if(!t?.forceOutdated&&e.DEBUG_randomId&&e.DEBUG_randomId!==f)throw new Error("[TeactN.setGlobal] Attempt to set an outdated global");f=Math.random()}h=e,t?.forceSyncOnIOs?(A=!0,I()):(t?.forceOnHeavyAnimation&&(A=!0),b())}}function w(){return r.Oig&&(h={...h,DEBUG_randomId:f},m()),h}function S(){return y}let E=[];function k(e,t){p[e]||(p[e]=[],y[e]=(t,n)=>{!function(e,t,n){if(E.push((()=>{p[e]?.forEach((e=>{const o=e(r.Oig?w():h,y,t);o&&"function"!=typeof o.then&&C(o,n)}))})),1===E.length)try{for(;E.length;)E[0](),E.shift()}finally{E=[]}}(e,t,n)}),p[e].push(t)}function T(e){g.push(e)}function P(e){const t=g.indexOf(e);-1!==t&&g.splice(t,1)}function M(e=(()=>({})),t){return n=>{function r(r){const a=(0,u.A)(),i=(0,d.A)();(0,c._W)((()=>{v.delete(a)}));let f=v.get(a);if(f||(f={mapStateToProps:e,activationFn:t,ownProps:r,forceUpdate:i,DEBUG_updates:0,DEBUG_componentName:n.name},v.set(a,f)),!f.mappedProps||!(0,o.A)(f.ownProps,r)&&L(f,h,r))try{f.mappedProps=e(h,r)}catch(e){(0,s.H)(e)}return f.ownProps=r,c.Ay.createElement(n,l({},f.mappedProps,r))}return r.DEBUG_contentComponentName=(0,c.$Z)(n),r}}function L(e,t,n){const{activationFn:r,stuckTo:o}=e;return!r||r(t,n,(t=>(t&&!o&&(e.stuckTo=t),t&&(!o||o===t))))}function N(){return{getGlobal:w,setGlobal:C,getActions:S,addActionHandler:k,withGlobal:M}}r.Oig&&(window.getGlobal=w,window.setGlobal=C,document.addEventListener("dblclick",(()=>{console.warn("GLOBAL CONTAINERS",(0,a.My)(Array.from(v.values()).map((({DEBUG_componentName:e,DEBUG_updates:t})=>({DEBUG_componentName:e,DEBUG_updates:t}))),"DEBUG_updates","desc"))})))},98221:(e,t,n)=>{n.d(t,{A:()=>a,a:()=>s});const r=/\uFE0F/g,o=String.fromCharCode(8205);function s(e){return e.indexOf(o)<0?e.replace(r,""):e}const a=/(?:\ud83c[\udd70\udd71\udd7e\udd7f]\ufe0f)|(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83c\udfc3|\ud83d\udeb6|\ud83e\uddce)(?:\ud83c[\udffb-\udfff])?(?:\u200d[\u2640\u2642]\ufe0f)?(?:\u200d\u27a1\ufe0f)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\ud83e[\uddaf\uddbc\uddbd])(?:\u200d\u27a1\ufe0f)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf\uddaf-\uddb3\uddbc\uddbc\uddbd\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd\uddce\uddce\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u26d3\ufe0f\u200d\ud83d\udca5|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udf44\u200d\ud83d\udfeb|\ud83c\udf4b\u200d\ud83d\udfe9|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc26\u200d\ud83d\udd25|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83d\ude42\u200d\u2194\ufe0f|\ud83d\ude42\u200d\u2195\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude88\ude90-\udebd\udebf-\udec2\udece-\udedb\udee0-\udee8]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g},89925:(e,t,n)=>{n.d(t,{$C:()=>i,Bn:()=>a,CC:()=>o,D7:()=>p,DV:()=>h,G9:()=>u,TD:()=>m,TN:()=>r,TQ:()=>d,Ul:()=>c,VS:()=>s,Vw:()=>v,d9:()=>l,je:()=>b,n7:()=>f,tn:()=>y,zW:()=>g});let r=function(e){return e[e.Backwards=0]="Backwards",e[e.Forwards=1]="Forwards",e[e.Around=2]="Around",e}({}),o=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Static=2]="Static",e}({}),s=function(e){return e[e.Main=0]="Main",e[e.EditProfile=1]="EditProfile",e[e.Notifications=2]="Notifications",e[e.DataStorage=3]="DataStorage",e[e.Language=4]="Language",e[e.ActiveSessions=5]="ActiveSessions",e[e.General=6]="General",e[e.GeneralChatBackground=7]="GeneralChatBackground",e[e.GeneralChatBackgroundColor=8]="GeneralChatBackgroundColor",e[e.Privacy=9]="Privacy",e[e.PrivacyPhoneNumber=10]="PrivacyPhoneNumber",e[e.PrivacyAddByPhone=11]="PrivacyAddByPhone",e[e.PrivacyLastSeen=12]="PrivacyLastSeen",e[e.PrivacyProfilePhoto=13]="PrivacyProfilePhoto",e[e.PrivacyBio=14]="PrivacyBio",e[e.PrivacyBirthday=15]="PrivacyBirthday",e[e.PrivacyGifts=16]="PrivacyGifts",e[e.PrivacyPhoneCall=17]="PrivacyPhoneCall",e[e.PrivacyPhoneP2P=18]="PrivacyPhoneP2P",e[e.PrivacyForwarding=19]="PrivacyForwarding",e[e.PrivacyVoiceMessages=20]="PrivacyVoiceMessages",e[e.PrivacyMessages=21]="PrivacyMessages",e[e.PrivacyGroupChats=22]="PrivacyGroupChats",e[e.PrivacyPhoneNumberAllowedContacts=23]="PrivacyPhoneNumberAllowedContacts",e[e.PrivacyPhoneNumberDeniedContacts=24]="PrivacyPhoneNumberDeniedContacts",e[e.PrivacyLastSeenAllowedContacts=25]="PrivacyLastSeenAllowedContacts",e[e.PrivacyLastSeenDeniedContacts=26]="PrivacyLastSeenDeniedContacts",e[e.PrivacyProfilePhotoAllowedContacts=27]="PrivacyProfilePhotoAllowedContacts",e[e.PrivacyProfilePhotoDeniedContacts=28]="PrivacyProfilePhotoDeniedContacts",e[e.PrivacyBioAllowedContacts=29]="PrivacyBioAllowedContacts",e[e.PrivacyBioDeniedContacts=30]="PrivacyBioDeniedContacts",e[e.PrivacyBirthdayAllowedContacts=31]="PrivacyBirthdayAllowedContacts",e[e.PrivacyBirthdayDeniedContacts=32]="PrivacyBirthdayDeniedContacts",e[e.PrivacyGiftsAllowedContacts=33]="PrivacyGiftsAllowedContacts",e[e.PrivacyGiftsDeniedContacts=34]="PrivacyGiftsDeniedContacts",e[e.PrivacyPhoneCallAllowedContacts=35]="PrivacyPhoneCallAllowedContacts",e[e.PrivacyPhoneCallDeniedContacts=36]="PrivacyPhoneCallDeniedContacts",e[e.PrivacyPhoneP2PAllowedContacts=37]="PrivacyPhoneP2PAllowedContacts",e[e.PrivacyPhoneP2PDeniedContacts=38]="PrivacyPhoneP2PDeniedContacts",e[e.PrivacyForwardingAllowedContacts=39]="PrivacyForwardingAllowedContacts",e[e.PrivacyForwardingDeniedContacts=40]="PrivacyForwardingDeniedContacts",e[e.PrivacyVoiceMessagesAllowedContacts=41]="PrivacyVoiceMessagesAllowedContacts",e[e.PrivacyVoiceMessagesDeniedContacts=42]="PrivacyVoiceMessagesDeniedContacts",e[e.PrivacyGroupChatsAllowedContacts=43]="PrivacyGroupChatsAllowedContacts",e[e.PrivacyGroupChatsDeniedContacts=44]="PrivacyGroupChatsDeniedContacts",e[e.PrivacyBlockedUsers=45]="PrivacyBlockedUsers",e[e.Performance=46]="Performance",e[e.Folders=47]="Folders",e[e.FoldersCreateFolder=48]="FoldersCreateFolder",e[e.FoldersEditFolder=49]="FoldersEditFolder",e[e.FoldersEditFolderFromChatList=50]="FoldersEditFolderFromChatList",e[e.FoldersEditFolderInvites=51]="FoldersEditFolderInvites",e[e.FoldersIncludedChats=52]="FoldersIncludedChats",e[e.FoldersIncludedChatsFromChatList=53]="FoldersIncludedChatsFromChatList",e[e.FoldersExcludedChats=54]="FoldersExcludedChats",e[e.FoldersExcludedChatsFromChatList=55]="FoldersExcludedChatsFromChatList",e[e.TwoFaDisabled=56]="TwoFaDisabled",e[e.TwoFaNewPassword=57]="TwoFaNewPassword",e[e.TwoFaNewPasswordConfirm=58]="TwoFaNewPasswordConfirm",e[e.TwoFaNewPasswordHint=59]="TwoFaNewPasswordHint",e[e.TwoFaNewPasswordEmail=60]="TwoFaNewPasswordEmail",e[e.TwoFaNewPasswordEmailCode=61]="TwoFaNewPasswordEmailCode",e[e.TwoFaEnabled=62]="TwoFaEnabled",e[e.TwoFaChangePasswordCurrent=63]="TwoFaChangePasswordCurrent",e[e.TwoFaChangePasswordNew=64]="TwoFaChangePasswordNew",e[e.TwoFaChangePasswordConfirm=65]="TwoFaChangePasswordConfirm",e[e.TwoFaChangePasswordHint=66]="TwoFaChangePasswordHint",e[e.TwoFaTurnOff=67]="TwoFaTurnOff",e[e.TwoFaRecoveryEmailCurrentPassword=68]="TwoFaRecoveryEmailCurrentPassword",e[e.TwoFaRecoveryEmail=69]="TwoFaRecoveryEmail",e[e.TwoFaRecoveryEmailCode=70]="TwoFaRecoveryEmailCode",e[e.TwoFaCongratulations=71]="TwoFaCongratulations",e[e.ActiveWebsites=72]="ActiveWebsites",e[e.PasscodeDisabled=73]="PasscodeDisabled",e[e.PasscodeNewPasscode=74]="PasscodeNewPasscode",e[e.PasscodeNewPasscodeConfirm=75]="PasscodeNewPasscodeConfirm",e[e.PasscodeEnabled=76]="PasscodeEnabled",e[e.PasscodeChangePasscodeCurrent=77]="PasscodeChangePasscodeCurrent",e[e.PasscodeChangePasscodeNew=78]="PasscodeChangePasscodeNew",e[e.PasscodeChangePasscodeConfirm=79]="PasscodeChangePasscodeConfirm",e[e.PasscodeTurnOff=80]="PasscodeTurnOff",e[e.PasscodeCongratulations=81]="PasscodeCongratulations",e[e.Experimental=82]="Experimental",e[e.Stickers=83]="Stickers",e[e.QuickReaction=84]="QuickReaction",e[e.CustomEmoji=85]="CustomEmoji",e[e.DoNotTranslate=86]="DoNotTranslate",e[e.FoldersShare=87]="FoldersShare",e}({}),a=function(e){return e[e.ChatList=0]="ChatList",e[e.GlobalSearch=1]="GlobalSearch",e[e.Settings=2]="Settings",e[e.Contacts=3]="Contacts",e[e.Archived=4]="Archived",e[e.NewChannelStep1=5]="NewChannelStep1",e[e.NewChannelStep2=6]="NewChannelStep2",e[e.NewGroupStep1=7]="NewGroupStep1",e[e.NewGroupStep2=8]="NewGroupStep2",e}({}),i=function(e){return e[e.ChatList=0]="ChatList",e[e.ChannelList=1]="ChannelList",e[e.BotApps=2]="BotApps",e[e.Media=3]="Media",e[e.Links=4]="Links",e[e.Files=5]="Files",e[e.Music=6]="Music",e[e.Voice=7]="Voice",e}({}),c=function(e){return e[e.ChatInfo=0]="ChatInfo",e[e.Management=1]="Management",e[e.Statistics=2]="Statistics",e[e.BoostStatistics=3]="BoostStatistics",e[e.MessageStatistics=4]="MessageStatistics",e[e.StoryStatistics=5]="StoryStatistics",e[e.StickerSearch=6]="StickerSearch",e[e.GifSearch=7]="GifSearch",e[e.PollResults=8]="PollResults",e[e.AddingMembers=9]="AddingMembers",e[e.CreateTopic=10]="CreateTopic",e[e.EditTopic=11]="EditTopic",e[e.MonetizationStatistics=12]="MonetizationStatistics",e}({}),d=function(e){return e[e.Inline=0]="Inline",e[e.ScheduledInline=1]="ScheduledInline",e[e.SharedMedia=2]="SharedMedia",e[e.ProfileAvatar=3]="ProfileAvatar",e[e.SettingsAvatar=4]="SettingsAvatar",e[e.MiddleHeaderAvatar=5]="MiddleHeaderAvatar",e[e.Album=6]="Album",e[e.ScheduledAlbum=7]="ScheduledAlbum",e[e.SearchResult=8]="SearchResult",e[e.SuggestedAvatar=9]="SuggestedAvatar",e[e.StarsTransaction=10]="StarsTransaction",e[e.PreviewMedia=11]="PreviewMedia",e[e.SponsoredMessage=12]="SponsoredMessage",e}({}),u=function(e){return e[e.StoryRibbon=0]="StoryRibbon",e[e.MiddleHeaderAvatar=1]="MiddleHeaderAvatar",e[e.ChatList=2]="ChatList",e[e.SearchResult=3]="SearchResult",e}({}),l=function(e){return e[e.Inline=0]="Inline",e[e.SharedMedia=1]="SharedMedia",e[e.Search=2]="Search",e[e.OneTimeModal=3]="OneTimeModal",e}({}),f=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),h=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),m=function(e){return e[e.Idle=0]="Idle",e[e.InProgress=1]="InProgress",e[e.Complete=2]="Complete",e[e.Error=3]="Error",e}({}),p=function(e){return e[e.Closed=0]="Closed",e[e.InProgress=1]="InProgress",e[e.Loading=2]="Loading",e}({}),g=function(e){return e[e.Profile=0]="Profile",e[e.SharedMedia=1]="SharedMedia",e[e.MemberList=2]="MemberList",e[e.GiftList=3]="GiftList",e[e.StoryList=4]="StoryList",e[e.SavedDialogs=5]="SavedDialogs",e}({}),y=function(e){return e[e.Checkout=0]="Checkout",e[e.SavedPayments=1]="SavedPayments",e[e.ConfirmPassword=2]="ConfirmPassword",e[e.PaymentInfo=3]="PaymentInfo",e[e.ShippingInfo=4]="ShippingInfo",e[e.Shipping=5]="Shipping",e[e.ConfirmPayment=6]="ConfirmPayment",e}({});const v="UPLOADING_WALLPAPER_SLUG";let b=function(e){return e[e.Initial=0]="Initial",e[e.ChatPrivacyType=1]="ChatPrivacyType",e[e.Discussion=2]="Discussion",e[e.ChannelSubscribers=3]="ChannelSubscribers",e[e.GroupType=4]="GroupType",e[e.GroupPermissions=5]="GroupPermissions",e[e.GroupRemovedUsers=6]="GroupRemovedUsers",e[e.ChannelRemovedUsers=7]="ChannelRemovedUsers",e[e.GroupUserPermissionsCreate=8]="GroupUserPermissionsCreate",e[e.GroupUserPermissions=9]="GroupUserPermissions",e[e.ChatAdministrators=10]="ChatAdministrators",e[e.GroupRecentActions=11]="GroupRecentActions",e[e.ChatAdminRights=12]="ChatAdminRights",e[e.ChatNewAdminRights=13]="ChatNewAdminRights",e[e.GroupMembers=14]="GroupMembers",e[e.GroupAddAdmins=15]="GroupAddAdmins",e[e.Invites=16]="Invites",e[e.EditInvite=17]="EditInvite",e[e.Reactions=18]="Reactions",e[e.InviteInfo=19]="InviteInfo",e[e.JoinRequests=20]="JoinRequests",e}({})},9705:(e,t,n)=>{function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(){r(this,"promise",void 0),r(this,"reject",void 0),r(this,"resolve",void 0),this.promise=new Promise(((e,t)=>{this.reject=t,this.resolve=e}))}static resolved(e){const t=new o;return t.resolve(e),t}}},57446:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(13439),o=n(66644),s=n(29807),a=n(19822);const i=300,c=new Map;function d(e,t,n=i){(0,s.PKK)((0,r.mS)())||(n=0);const d="rtl"===e.getAttribute("dir"),{scrollLeft:u,offsetWidth:l,scrollWidth:f,dataset:{scrollId:h}}=e;let m=t-u;if(m<0){const e=-u*(d?-1:1);m=Math.max(m,e)}else if(m>0){const e=f-(u+l);m=Math.min(m,e)}if(0===m)return Promise.resolve();h&&c.has(h)&&c.get(h)();const p=u+m;return new Promise((t=>{(0,o.RK)((()=>{if(0===n)return e.scrollLeft=p,void t();let r=!1;const s=Math.random().toString();e.dataset.scrollId=s,c.set(s,(()=>{r=!0})),e.style.scrollSnapType="none";const i=Date.now();function d(){e.style.scrollSnapType="",delete e.dataset.scrollId,c.delete(s)}(0,a.i0)((()=>{if(r)return d(),!1;const o=Math.min((Date.now()-i)/n,1),s=m*(1-function(e){return 1-(1-e)**3.5}(o));return e.scrollLeft=Math.round(p-s),o>=1&&(d(),t()),o<1}),o.RK)}))}))}},19822:(e,t,n)=>{n.d(t,{Hd:()=>u,S0:()=>s,ZM:()=>l,i0:()=>i,qM:()=>d,vk:()=>a});var r=n(66644);let o;function s(e,t,n){n||(o&&!o.isCancelled&&(o.isCancelled=!0),o=n={isCancelled:!1}),!n.isCancelled&&e()&&t((()=>{s(e,t,n)}))}function a(){s((()=>{}),(e=>e))}function i(e,t){t((()=>{e()&&i(e,t)}))}function c(e,t){e()&&t((()=>{c(e,t)}))}const d={linear:e=>e,easeIn:e=>e**1.675,easeOut:e=>-1*e**1.675,easeInOut:e=>.5*(Math.sin((e-.5)*Math.PI)+1),easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e**3,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e*e**3,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e*e**3,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e*e**4,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e*e**4};function u({timing:e=d.linear,onUpdate:t,duration:n,onEnd:o,from:s,to:a}){const i=Date.now();let u=!1;return c((()=>{if(u)return!1;const r=Date.now(),c=Math.min((r-i)/n,1),d=e(c);if("number"==typeof s&&"number"==typeof a)t(s+(a-s)*d);else if(Array.isArray(s)&&Array.isArray(a)){const e=s.map(((e,t)=>e+(a[t]-e)*d));t(e)}return 1===c&&o?.(),c<1}),r.YS),()=>{u=!0,o?.(!0)}}function l(e,t){Object.assign(e.style,t)}},26120:(e,t,n)=>{n.d(t,{q:()=>a});var r=n(13439),o=n(31481),s=n(29807);function a(e){(0,s.nTw)((0,r.mS)()).isMasterTab&&"function"==typeof window.navigator.setAppBadge&&window.navigator.setAppBadge(e).catch((e=>{o.Oig&&console.error(e)}))}},22986:(e,t,n)=>{function r(e,t){const n=typeof e;if(n!==typeof t)return!1;if("object"!==n||null===e||null===t)return e===t;const o=Array.isArray(e);if(o!==Array.isArray(t))return!1;if(o){const n=e,o=t;return n.length===o.length&&n.every(((e,t)=>r(e,o[t])))}const s=e,a=t,i=Object.keys(s);return i.length===Object.keys(a).length&&i.every((e=>r(s[e],a[e])))}n.d(t,{T:()=>r})},5930:(e,t,n)=>{function r(e,t){if(e===t)return!0;const n=Object.keys(e),r=n.length;if(r!==Object.keys(t).length)return!1;if(0===r)return!0;for(let o=0;o<r;o++){const r=n[o];if(e[r]!==t[r])return!1}return!0}function o(e,t,n,r=""){const o=Object.keys(e);o.length===Object.keys(t).length?(console.log(n),o.forEach((n=>{e[n]!==t[n]&&console.log(r,n,":",e[n],"=>",t[n])}))):console.log(`${n} LENGTH`)}n.d(t,{A:()=>r,q:()=>o})},70758:(e,t,n)=>{function r(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function o(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const o=r(n);return(e,n)=>o.then((r=>n(r.transaction(t,e).objectStore(t))))}let s;function a(){return s||(s=o("keyval-store","keyval")),s}function i(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},r(e.transaction)}n.d(t,{q:()=>d,B:()=>u});class c{constructor(e){var t,n,r,s;t=this,r=void 0,(n="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n="store"))?s:s+"")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.store=o(e,"store")}set(e,t){return function(e,t,n=a()){return n("readwrite",(n=>(n.put(t,e),r(n.transaction))))}(e,t,this.store)}setMany(e){return function(e,t=a()){return t("readwrite",(t=>(e.forEach((e=>t.put(e[1],e[0]))),r(t.transaction))))}(e,this.store)}get(e){return function(e,t=a()){return t("readonly",(t=>r(t.get(e))))}(e,this.store)}getMany(e){return function(e,t=a()){return t("readonly",(t=>Promise.all(e.map((e=>r(t.get(e)))))))}(e,this.store)}clear(){return function(e=a()){return e("readwrite",(e=>(e.clear(),r(e.transaction))))}(this.store)}del(e){return function(e,t=a()){return t("readwrite",(t=>(t.delete(e),r(t.transaction))))}(e,this.store)}delMany(e){return function(e,t=a()){return t("readwrite",(t=>(e.forEach((e=>t.delete(e))),r(t.transaction))))}(e,this.store)}entries(){return function(e=a()){return e("readonly",(t=>{if(t.getAll&&t.getAllKeys)return Promise.all([r(t.getAllKeys()),r(t.getAll())]).then((([e,t])=>e.map(((e,n)=>[e,t[n]]))));const n=[];return e("readonly",(e=>i(e,(e=>n.push([e.key,e.value]))).then((()=>n))))}))}(this.store)}keys(){return function(e=a()){return e("readonly",(e=>{if(e.getAllKeys)return r(e.getAllKeys());const t=[];return i(e,(e=>t.push(e.key))).then((()=>t))}))}(this.store)}values(){return function(e=a()){return e("readonly",(e=>{if(e.getAll)return r(e.getAll());const t=[];return i(e,(e=>t.push(e.value))).then((()=>t))}))}(this.store)}update(e,t){return function(e,t,n=a()){return n("readwrite",(n=>new Promise(((o,s)=>{n.get(e).onsuccess=function(){try{n.put(t(this.result),e),o(r(n.transaction))}catch(e){s(e)}}}))))}(e,t,this.store)}}const d=new c("tt-data"),u=new c("tt-passcode")},39761:(e,t,n)=>{function r(e){for(e.pause(),e.removeAttribute("src");e.firstChild;)e.removeChild(e.firstChild);e.load()}n.d(t,{A:()=>r})},87357:(e,t,n)=>{function r(...e){return e.filter(Boolean).join(" ")}function o(e){return(t,...n)=>{const r="&"===t?e:`${e}__${t}`;return n.reduce(((e,t)=>(t&&(Array.isArray(t)?e.push(...t):e.push(`${r}--${t}`)),e)),[r]).join(" ")}}n.d(t,{A:()=>r,x:()=>o})},95807:(e,t,n)=>{function r(...e){return e.filter(Boolean).join(";")}n.d(t,{A:()=>r})},74824:(e,t,n)=>{n.d(t,{Type:()=>i,clear:()=>u,fetch:()=>c,isCacheApiSupported:()=>a,save:()=>d});var r=n(31481);const o=self.caches;let s;async function a(){return!!o&&(s=s??await o.has("test").then((()=>!0)).catch((()=>!1)),s)}let i=function(e){return e[e.Text=0]="Text",e[e.Blob=1]="Blob",e[e.Json=2]="Json",e[e.ArrayBuffer=3]="ArrayBuffer",e}({});async function c(e,t,n,s=!1){if(o)try{const a=r.jht?`${r.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),c=await o.open(e),d=await c.match(a);if(!d)return;const u=d.headers.get("Content-Type");switch(n){case i.Text:return await d.text();case i.Blob:{if(t.startsWith("avatar")&&u&&u.startsWith("text"))return;const e=await d.blob(),n=!e.type||!s&&e.type.includes("html");let r=e.type||u;return n&&r?(s||(r=r.replace(/html/gi,"")),new Blob([e],{type:r})):e}case i.Json:return await d.json();case i.ArrayBuffer:return await d.arrayBuffer();default:return}}catch(e){return void console.warn(e)}}async function d(e,t,n){if(!o)return!1;try{const s="string"==typeof n||n instanceof Blob||n instanceof ArrayBuffer?n:JSON.stringify(n),a=r.jht?`${r.uyj}/${t.replace(/:/g,"_")}`:new Request(t.replace(/:/g,"_")),i=new Response(s),c=await o.open(e);return await c.put(a,i),!0}catch(e){return console.warn(e),!1}}async function u(e){try{if(!o)return;return await o.delete(e)}catch(e){return void console.warn(e)}}},46536:(e,t,n)=>{function r(){const e=new Set;function t(t){e.delete(t)}return{runCallbacks:function(...t){e.forEach((e=>{e(...t)}))},addCallback:function(n){return e.add(n),()=>{t(n)}},removeCallback:t,hasCallbacks:function(){return Boolean(e.size)}}}n.d(t,{h:()=>r})},11778:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(52674);function o(e){return(0,r.A)({onEsc:e})}},50442:(e,t,n)=>{function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{h6:()=>d,no:()=>u,fG:()=>l,ez:()=>c,wJ:()=>A});var o=n(43336),s=n(37836),a=n(82393),i=n(43503);let c=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e}({});const d=20,u=10,l=1.5,f=15,h=20,m=150,p=150;function g(e,t){return t?Math.hypot(t.pageX-e.pageX,t.pageY-e.pageY):0}function y(e,t){return{x:(e.pageX+t.pageX)/2,y:(e.pageY+t.pageY)/2}}let v=0;const b=new class{constructor({stability:e=8,sensitivity:t=100,tolerance:n=1.1,delay:o=150}={}){r(this,"stability",void 0),r(this,"sensitivity",void 0),r(this,"tolerance",void 0),r(this,"delay",void 0),r(this,"lastUpDeltas",void 0),r(this,"lastDownDeltas",void 0),r(this,"deltasTimestamp",void 0),this.stability=e,this.sensitivity=t,this.tolerance=n,this.delay=o,this.lastUpDeltas=new Array(2*this.stability).fill(0),this.lastDownDeltas=new Array(2*this.stability).fill(0),this.deltasTimestamp=new Array(2*this.stability).fill(0)}check(e){let t;return void 0!==(e=e.originalEvent||e).wheelDelta?t=e.wheelDelta:void 0!==e.deltaY?t=-40*e.deltaY:void 0===e.detail&&0!==e.detail||(t=-40*e.detail),this.deltasTimestamp.push(Date.now()),this.deltasTimestamp.shift(),t>0?(this.lastUpDeltas.push(t),this.lastUpDeltas.shift(),this.isInertia(1)):(this.lastDownDeltas.push(t),this.lastDownDeltas.shift(),this.isInertia(-1))}isInertia(e){const t=-1===e?this.lastDownDeltas:this.lastUpDeltas;if(void 0===t[0])return e;if(this.deltasTimestamp[2*this.stability-2]+this.delay>Date.now()&&t[0]===t[2*this.stability-1])return!1;const n=t.slice(0,this.stability),r=t.slice(this.stability,2*this.stability),o=n.reduce(((e,t)=>e+t)),s=r.reduce(((e,t)=>e+t)),a=o/n.length,i=s/r.length;return Math.abs(a)<=Math.abs(i*this.tolerance)&&this.sensitivity<Math.abs(i)}}({stability:5,sensitivity:25,tolerance:a.H8?1:.6,delay:150});function A(e,t){let n,r=!1,u=!1,l=!1,A=0,I=t.initialZoom??1,C={x:0,y:0},w={x:!1,y:!1};const S=i.A.get();let E,k={x:S.width/2,y:S.height/2};const T=t.minZoom??1,P=t.maxZoom??4;function M(r){const o=r.target,{excludedClosestSelector:s,includedClosestSelector:a,withNativeDrag:i,withCursor:c,onDrag:d}=t;(e===o||e.contains(o))&&"INPUT"!==o.tagName&&"TEXTAREA"!==o.tagName&&(s&&(o.matches(s)||o.closest(s))||a&&!o.matches(a)&&!o.closest(a)||(n=r,"mousedown"===r.type?(!i&&d&&r.preventDefault(),document.addEventListener("mousemove",N),document.addEventListener("mouseup",L)):"touchstart"===r.type&&(o.addEventListener("touchmove",N,{passive:!0}),o.addEventListener("touchend",L,{passive:!0}),o.addEventListener("touchcancel",L,{passive:!0}),"touches"in r&&(void 0===r.pageX&&(r.pageX=r.touches[0].pageX),void 0===r.pageY&&(r.pageY=r.touches[0].pageY),2===r.touches.length&&(A=g(r.touches[0],r.touches[1]),k=y(r.touches[0],r.touches[1])))),c&&document.body.classList.add("cursor-grabbing"),t.onCapture?.(r)))}function L(e){n&&(t.withCursor&&document.body.classList.remove("cursor-grabbing"),document.removeEventListener("mouseup",L),document.removeEventListener("mousemove",N),n.target.removeEventListener("touchcancel",L),n.target.removeEventListener("touchend",L),n.target.removeEventListener("touchmove",N),a.pz&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach((e=>{e.style.overflow=""})),e&&(r?t.onRelease&&t.onRelease(e):"mouseup"===e.type&&(t.onDoubleClick&&Date.now()-v<300?t.onDoubleClick(e,{centerX:n.pageX,centerY:n.pageY}):!t.onClick||"button"in e&&0!==e.button||t.onClick(e),v=Date.now()))),r=!1,u=!1,l=!1,A=0,I=(0,o.qE)(I,T,P),E=void 0,C={x:0,y:0},w={x:!1,y:!1};const s=i.A.get();k={x:s.width/2,y:s.height/2},n=void 0}function N(e){if(n){if("touchmove"===e.type&&"touches"in e&&(void 0===e.pageX&&(e.pageX=e.touches[0].pageX),void 0===e.pageY&&(e.pageY=e.touches[0].pageY),t.onZoom&&A>0&&2===e.touches.length)){const n=g(e.touches[0],e.touches[1]),o=y(e.touches[0],e.touches[1]),s=o.x-k.x,a=o.y-k.y,i=n/A;t.onZoom(e,{zoomFactor:i,initialCenterX:k.x,initialCenterY:k.y,dragOffsetX:s,dragOffsetY:a,currentCenterX:o.x,currentCenterY:o.y}),1!==i&&(r=!0)}const o=e.pageX-n.pageX,s=e.pageY-n.pageY;(Math.abs(o)>=f||Math.abs(s)>=f)&&(r=!0);let l=!1;t.onDrag&&(t.onDrag(e,n,{dragOffsetX:o,dragOffsetY:s}),l=!0),t.onSwipe&&!u&&(u=function(e,n,r){if(a.pz){const t=e.touches[0].pageX;if(t<=d||t>=i.A.get().width-d)return!1}const o=Math.abs(n),s=Math.abs(r),u=t.swipeThreshold??h;let l;if(o>s&&o>=u?l="x":s>o&&s>=u&&(l="y"),!l)return!1;if(E){if(E!==l)return!1}else E=l;return function(e,t,n,r,o){const s={dragOffsetX:n,dragOffsetY:r};return"x"===t?o(e,n<0?c.Left:c.Right,s):"y"===t&&o(e,r<0?c.Up:c.Down,s)}(e,l,n,r,t.onSwipe)}(e,o,s),l=u),a.pz&&l&&t.selectorToPreventScroll&&Array.from(document.querySelectorAll(t.selectorToPreventScroll)).forEach((e=>{e.style.overflow="hidden"}))}}const B=(0,s.sg)(L,p,!1),x=(0,s.sg)(L,m,!1);function F(e){r||(M(e),r=!0,k={x:e.x,y:e.y})}function O(e){if(!t.onZoom&&!t.onDrag)return;if(t.excludedClosestSelector&&(e.target.matches(t.excludedClosestSelector)||e.target.closest(t.excludedClosestSelector)))return;e.preventDefault(),e.stopPropagation();const{doubleTapZoom:s=3}=t;if(t.onDoubleClick&&Object.is(e.deltaX,-0)&&Object.is(e.deltaY,-0)&&e.ctrlKey)return F(e),I=I>1?1:s,t.onDoubleClick(e,{centerX:e.pageX,centerY:e.pageY}),void(r=!1);const a=e.metaKey||e.ctrlKey||e.shiftKey;if(a&&function(e){if(!t.onZoom)return;F(e);const n=e.x-k.x,r=e.y-k.y,s=(0,o.qE)(e.deltaY,-25,25);I-=.01*s,I=(0,o.qE)(I,.5*T,3*P),l=!0,t.onZoom(e,{zoom:(0,o.LI)(I,2),initialCenterX:k.x,initialCenterY:k.y,dragOffsetX:n,dragOffsetY:r,currentCenterX:e.x,currentCenterY:e.y}),x(e)}(e),!a&&!l){const r=b.check(e);(1!==I||r)&&function(e){if(!t.onDrag)return;F(e),w.x&&Math.sign(C.x)!==Math.sign(e.deltaX)||(C.x-=e.deltaX),w.y&&Math.sign(C.y)!==Math.sign(e.deltaY)||(C.y-=e.deltaY);const{x:r,y:o}=C;t.onDrag(e,n,{dragOffsetX:r,dragOffsetY:o},((e,t)=>{w={x:e,y:t}})),B(e)}(e)}}return t.withWheelDrag&&e.addEventListener("wheel",O),e.addEventListener("mousedown",M),document.body.addEventListener("touchstart",M,{passive:!t.isNotPassive}),()=>{L(),document.body.removeEventListener("touchstart",M),e.removeEventListener("mousedown",M),e.removeEventListener("wheel",O)}}},52674:(e,t,n)=>{n.d(t,{A:()=>s});const r={Enter:"onEnter",Backspace:"onBackspace",Delete:"onDelete",Esc:"onEsc",Escape:"onEsc",ArrowUp:"onUp",ArrowDown:"onDown",ArrowLeft:"onLeft",ArrowRight:"onRight",Tab:"onTab"},o={onEnter:[],onDelete:[],onBackspace:[],onEsc:[],onUp:[],onDown:[],onLeft:[],onRight:[],onTab:[]};function s(e){return a()||document.addEventListener("keydown",i,!0),Object.keys(e).forEach((t=>{const n=e[t];if(!n)return;const r=o[t];r&&r.push(n)})),()=>{!function(e){Object.keys(e).forEach((t=>{const n=e[t],r=o[t];if(r){const e=r.findIndex((e=>e===n));-1!==e&&r.splice(e,1)}})),a()||document.removeEventListener("keydown",i,!1)}(e)}}function a(){return Object.values(o).some((e=>Boolean(e.length)))}function i(e){const t=r[e.key];if(!t)return;const{length:n}=o[t];if(n)for(let r=n-1;r>=0;r--)if(!1!==(0,o[t][r])(e)){e.stopPropagation();break}}},85982:(e,t,n)=>{n.d(t,{A:()=>i,LD:()=>d,WO:()=>o,eM:()=>a,qp:()=>c});var r=n(31481);const o=window.navigator.clipboard&&window.ClipboardItem,s=document.createElement("textarea");s.setAttribute("readonly",""),s.tabIndex=-1,s.className="visually-hidden";const a=e=>{s.value=e,document.body.appendChild(s);const t=document.getSelection();if(t){const e=t.rangeCount>0&&t.getRangeAt(0);s.select(),document.execCommand("copy"),e&&(t.removeAllRanges(),t.addRange(e))}document.body.removeChild(s)},i=(e,t)=>{window.navigator.clipboard?.write?window.navigator.clipboard.write([new ClipboardItem({"text/plain":new Blob([t],{type:"text/plain"}),"text/html":new Blob([e],{type:"text/html"})})]):a(t)},c=e=>{if(!e)return;const t=document.createElement("canvas"),n=t.getContext("2d"),r=new Image;r.onload=e=>{if(n&&e.currentTarget){const r=e.currentTarget;t.width=r.width,t.height=r.height,n.drawImage(r,0,0,r.width,r.height),t.toBlob(u,"image/png",1)}},r.src=e},d=async(e,t,n)=>{const r=async()=>{try{const t=await e;return t?a(t):n(),Boolean(t)}catch{return n(),!1}};if(o&&navigator.clipboard.write){try{let t=!1;const r=()=>Promise.reject(new Error("GET_DATA_ERROR")),o=new ClipboardItem({"text/plain":e.then((e=>e||r())).catch((()=>(t=!0,"")))});if(await navigator.clipboard.write([o]),t)return void n()}catch{if(!await r())return}t()}else await r()&&t()};async function u(e){if(e&&o)try{await(window.navigator.clipboard.write?.([new ClipboardItem({[e.type]:e})]))}catch(e){r.Oig&&console.error(e)}}},25903:(e,t,n)=>{n.d(t,{e:()=>s,j:()=>o});const r=50;function o(e,t,n,r){return a("transitionend",e,t,n,r)}function s(e,t,n,r){return a("animationend",e,t,n,r)}function a(e,t,n,o,s){let a=!1;function i(){t.removeEventListener(e,c)}function c(e){a||e.target!==e.currentTarget||o&&(e instanceof TransitionEvent&&e.propertyName===o||e instanceof AnimationEvent&&e.animationName===o)||(a=!0,i(),setTimeout((()=>{n()}),r))}return t.addEventListener(e,c),s&&setTimeout((()=>{a||(i(),n())}),s),i}},17663:(e,t,n)=>{n.d(t,{$$:()=>m,A:()=>N,A$:()=>F,CS:()=>h,F5:()=>E,JW:()=>M,L2:()=>B,Lu:()=>v,QO:()=>P,Rm:()=>D,TI:()=>R,U:()=>x,be:()=>y,cK:()=>l,dq:()=>I,fS:()=>T,fU:()=>g,fw:()=>w,hI:()=>C,i6:()=>b,il:()=>u,pU:()=>f,wv:()=>k,zA:()=>S,zt:()=>A});var r=n(19314),o=n(21309);const s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["January","February","March","April","May","June","July","August","September","October","November","December"].map((e=>e.toLowerCase())),i=2015,c=31,d=12,u=864e5;function l(e){return h(new Date)===h(e)}function f(e){const t=new Date(e);return t.setHours(0,0,0,0),t}function h(e){return f(e).getTime()}function m(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${t.getMonth()}`}function p(e){return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}function g(e,t){const n="number"==typeof t?new Date(t):t,r=e.timeFormat||"24h";let o=n.getHours(),s="";return"12h"===r&&(s=o>=12?" PM":" AM",o=o>12?o%12:o),`${String(o).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}${s}`}function y(e,t,n=!1){const r="number"==typeof t?new Date(t):t,o=g(e,r),a=f(new Date);if(r>=a)return o;const i=new Date(a);if(i.setDate(a.getDate()-7),r>=i){const t=e(`Weekday.Short${s[r.getDay()]}`);return n?e("FullDateTimeFormat",[t,o]):t}const c=r.getFullYear()===a.getFullYear(),d=N(r,e.code,c);return n?e("FullDateTimeFormat",[d,o]):d}function v(e,t){return N(t,e.code,!1,"numeric")}function b(e,t,n=!1){return N(t,e.code,!1,n?"short":"long",!0)}function A(e,t){const n=(0,o._k)(t);if(t<0)return 0;if(n<1)return P(t);if(n<7)return e("Days",{count:n},{pluralValue:n});if(n<30){const t=Math.floor(n/7);return e("Weeks",{count:t},{pluralValue:t})}if(n<365){const t=Math.floor(n/30);return e("Months",{count:t},{pluralValue:t})}{const t=Math.floor(n/365);return e("Years",{count:t},{pluralValue:t})}}function I(e,t){return t<6e4?Math.ceil(t/1e3).toString():t<36e5?Math.ceil(t/6e4).toString():t<u?e("MessageTimer.ShortHours",Math.ceil(t/36e5)):e("MessageTimer.ShortDays",Math.ceil(t/u))}function C(e,t,n=t){const r=t-n;return r<60?e("LiveLocationUpdated.JustNow"):r<3600?e("LiveLocationUpdated.MinutesAgo",Math.floor(r/60)):e("LiveLocationUpdated.TodayAt",g(e,n))}function w(e,t,n=t){const r=t-n;if(r<60)return e("Time.JustNow");if(r<3600)return e("Time.MinutesAgo",Math.floor(r/60));const o=new Date(1e3*n),s=f(new Date);if(o>=s)return e("Time.TodayAt",g(e,o));const a=new Date(s);return a.setDate(s.getDate()-1),o>a?e("Time.YesterdayAt",g(e,o)):e("Time.AtDate",v(e,o))}function S(e,t,n=2){if(!t)return;const r=[],o=[{multiplier:1,type:"Seconds"},{multiplier:60,type:"Minutes"},{multiplier:60,type:"Hours"},{multiplier:24,type:"Days"},{multiplier:7,type:"Weeks"}];let s=1;o.forEach(((e,n)=>{if(s*=e.multiplier,t<s)return;const a=o[n===o.length-1?n:n+1].multiplier;r.push({duration:Math.floor(t/s%a),type:e.type})}));const a=r.slice(-n).reverse();for(let e=a.length-1;e>=0;--e)0===a[e].duration&&a.splice(e,1);return a.map((t=>e(t.type,t.duration,"i"))).join(", ")}function E(e,t,n=!1,r=!1,o){const s="number"==typeof t?new Date(t):t,a=f(new Date);if(!r){if(p(s)===p(a))return(o||!n?_:U)(e("Weekday.Today"));const t=new Date(a);if(t.setDate(a.getDate()-1),p(s)===p(t))return(o||!n?_:U)(e("Weekday.Yesterday"));const r=new Date(a);r.setDate(a.getDate()-6);const i=new Date(a);if(i.setDate(a.getDate()+6),s>=r&&s<=i)return(o||!n?_:U)(k(e,s.getDay(),n))}const i=s.getFullYear()===a.getFullYear();return(o||!n?_:U)(N(s,e.code,i,n?"short":"long"))}function k(e,t,n=!1){const r=s[t];return e(n?`Weekday.Short${r}`:`Weekday.${r}`)}function T(e,t,n){const r="number"==typeof t?new Date(t):t;return`${E(e,r,!0,void 0,n)}, ${g(e,r)}`}function P(e,t){const n=Math.floor(e/3600),r=Math.floor(e%3600/60),o=Math.floor(e%3600%60),s=t?Math.floor(t/3600):0,a=t?Math.floor(t%3600/60):0;let i="";return n>0||s>0?(i+=`${String(n).padStart(2,"0")}:`,i+=`${String(r).padStart(2,"0")}:`):i+=a>=10?`${String(r).padStart(2,"0")}:`:`${String(r)}:`,i+=String(o).padStart(2,"0"),i}function M(e){const t=[];let n=e%1e3;e-=n,n=Math.floor(n/10);const r=(e=Math.floor(e/1e3))%60;e-=r;const o=(e=Math.floor(e/60))%60;e-=o;const s=(e=Math.floor(e/60))%60;return s>0&&t.push(String(s).padStart(2,"0")),t.push(String(o).padStart(s>0?2:1,"0")),t.push(String(r).padStart(2,"0")),`${t.join(":")},${String(n).padStart(2,"0")}`}const L=(0,r.A)(((e,t,n,r="short",o)=>new Date(e).toLocaleString(t,{year:n?void 0:"numeric",month:r,day:o?void 0:"numeric"})));function N(e,t="en-US",n=!1,r="short",o=!1){const s=h("number"==typeof e?new Date(e):e);return L(s,t,n,r,o)}function B(e,t="en-US",n,r){return("number"==typeof e?new Date(e):e).toLocaleString(t,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:n?void 0:"numeric",hourCycle:"12h"===r?"h12":"h23"})}function x(e,t){const n="number"==typeof t?new Date(t):t,r=f(new Date),o=g(e,n);if(p(n)===p(r))return e("Time.TodayAt",o);const s=new Date(r);if(s.setDate(r.getDate()-1),p(n)===p(s))return e("Time.YesterdayAt",o);const a=n.getFullYear()===r.getFullYear();return e("formatDateAtTime",[N(n,e.code,a),o])}function F(e,t){if(t<0)return e("RightNow");if(t<60)return e("Seconds",{count:Math.ceil(t)},{pluralValue:t});if(t<3600){const n=Math.ceil(t/60);return e("Minutes",{count:n},{pluralValue:n})}if(t<86400){const n=Math.ceil(t/3600);return e("Hours",{count:n},{pluralValue:n})}const n=Math.ceil(t/86400);return e("Days",{count:n},{pluralValue:n})}function O(e,t,n=2021){if(t>d-1||e>c)return!1;const r=new Date(n,t,e);return!Number.isNaN(r.getTime())&&r.getDate()===e}function D(e=""){const t=e.match(/\d{1,2}\s[a-zA-Z]{3,}/),n=e.match(/[a-zA-Z]{3,}\s\d{1,2}/),r=e.match(/\d{1,2}[./-]\d{1,2}([./-]\d{2,4})?/);if(!t&&!r&&!n)return;if(r){const[t,n,r]=e.split(/[./-]/).map(Number);return r&&r<i||!O(t,n-1,r||void 0)?void 0:`${r?`${r}-`:""}${String(n).padStart(2,"0")}-${String(t).padStart(2,"0")}`}const o=e.split(" "),s=t?o[0]:o[1],c=(t?o[1]:o[0]).toLowerCase(),d=a.findIndex((e=>e.startsWith(c)));return-1!==d&&O(Number(s),d)?`${String(d+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`:void 0}function R(e){return e+u/1e3}function U(e){return`${e[0].toLowerCase()}${e.slice(1)}`}function _(e){return`${e[0].toUpperCase()}${e.slice(1)}`}},21309:(e,t,n)=>{n.d(t,{_k:()=>a,d_:()=>o,qZ:()=>s});const r=3600,o=86400;function s(e,t){return(t?Math.floor:Math.ceil)(e/r)}function a(e,t){return(t?Math.floor:Math.ceil)(e/o)}},61182:(e,t,n)=>{n.d(t,{F8:()=>d,bO:()=>a,fw:()=>i,pF:()=>c});const r=["log","error","warn","info","debug"],o=r.reduce(((e,t)=>(e[t]=console[t],e)),{});let s=[];function a(e,...t){s.push({level:e,args:t,date:new Date}),o[e](...t)}function i(){s=[],r.forEach((e=>{console[e]=(...t)=>{a(e,...t)}}))}function c(){r.forEach((e=>{console[e]=o[e]})),s=[]}function d(){return JSON.stringify(s,((e,t)=>"bigint"==typeof t?t.toString():t))}},46275:(e,t,n)=>{n.d(t,{vG:()=>u,zq:()=>d});var r=n(31481),o=n(90709),s=n(62076),a=n(11422),i=n(82393);const c=new Set(["t.me","telegram.me","telegram.dog"]);function d(e){return Boolean(e.match(r.OFc)||e.match(r.bnE))}function u(e){if(d(e))try{return function(e){const t=(0,s.T)(e);if(t){if(t.startsWith("https:")||t.startsWith("http:"))return function(e){if(!c.has(e.hostname))return;const t=w(e),n=C(e);switch(function(e,t){const n=t.length,r=t[0];if(1===n){if("share"===r)return"shareLink";if("boost"===r||void 0!==e.boost)return"chatBoostLink";if((0,a.BU)(r))return"publicUsernameOrBotLink"}else if(2===n){if("addlist"===r)return"chatFolderLink";if("login"===r)return"loginCodeLink";if("m"===r)return"businessChatLink";if("boost"===r)return"chatBoostLink";if("nft"===r)return"giftUniqueLink";if("c"===r)return void 0!==e.boost?"chatBoostLink":"privateChannelLink";if((0,a.BU)(t[0])&&I(t[1]))return"publicMessageLink"}else if(3===n){if("c"===r&&t.slice(1).every(I))return"privateMessageLink";if((0,a.BU)(t[0])&&t.slice(1).every(I))return"publicMessageLink";if("nft"===r)return"giftUniqueLink"}else if(4===n&&"c"===r&&t.slice(1).every(I))return"privateMessageLink";return"unknown"}(t,n)){case"publicMessageLink":{const{single:e,comment:r}=t,{username:o,thread:s,messageId:a}=2===n.length?{username:n[0],thread:t.thread,messageId:n[1]}:{username:n[0],thread:n[1],messageId:n[2]};return f({username:o,messageId:a,single:e,threadId:s,commentId:r})}case"privateMessageLink":{const{single:e,comment:r}=t,{channelId:o,thread:s,messageId:a}=3===n.length?{channelId:n[1],thread:t.thread,messageId:n[2]}:{channelId:n[1],thread:n[2],messageId:n[3]};return h({channelId:o,messageId:a,single:e,threadId:s,commentId:r})}case"shareLink":return l({text:t.text,url:t.url});case"chatFolderLink":return m({slug:n[1]});case"loginCodeLink":return p({code:n[1]});case"publicUsernameOrBotLink":return g({username:n[0],start:t.start,text:t.text,startApp:t.startapp,mode:t.mode,appName:void 0,startAttach:t.startattach,attach:t.attach,choose:t.choose,ref:t.ref});case"privateChannelLink":return y({channelId:n[1]});case"businessChatLink":return b({slug:n[1]});case"chatBoostLink":{if("boost"===n[0])return v({username:n[1],id:t.c});const e="c"===n[0];return v({username:e?void 0:n[0],id:e?n[1]:void 0})}case"giftUniqueLink":return A({slug:n.slice(1).join("/")})}}(new URL(t));if(t.startsWith("tg:")){const e=i.fM?t.replace(/^tg:\/\//,"https://"):t;return function(e){const{hostname:t}=e,n=w(e);switch(C(e),function(e,t,n){switch(n){case"resolve":{const{domain:t,post:n,bot_id:r,scope:o,public_key:s,nonce:i}=e;if("telegrampassport"===t&&r&&o&&s&&i)return"telegramPassportLink";if(t&&n)return"publicMessageLink";if((0,a.BU)(t))return"publicUsernameOrBotLink";break}case"privatepost":{const{channel:t,post:n}=e;if(t)return n?"privateMessageLink":"privateChannelLink";break}case"msg_url":return"shareLink";case"addlist":return"chatFolderLink";case"login":return"loginCodeLink";case"passport":return"telegramPassportLink";case"message":return"businessChatLink";case"premium_offer":return"premiumReferrerLink";case"premium_multigift":return"premiumMultigiftLink";case"boost":return"chatBoostLink";case"nft":return"giftUniqueLink"}return"unknown"}(n,0,t)){case"publicMessageLink":{const{domain:e,post:t,single:r,thread:o,comment:s}=n;return f({username:e,messageId:t,single:r,threadId:o,commentId:s})}case"privateMessageLink":{const{channel:e,post:t,single:r,thread:o,comment:s}=n;return h({channelId:e,messageId:t,single:r,threadId:o,commentId:s})}case"shareLink":return l({text:n.text,url:n.url});case"chatFolderLink":return m({slug:n.slug});case"loginCodeLink":return p({code:n.code});case"telegramPassportLink":return function(e){const{botId:t,scope:n,publicKey:r,nonce:o,callbackUrl:s,payload:a}=e;if(t&&I(t)&&n&&r&&o)return{type:"telegramPassportLink",botId:Number(t),scope:n,publicKey:r,nonce:o,callbackUrl:s,payload:a}}({botId:n.bot_id,scope:n.scope,publicKey:n.public_key,nonce:n.nonce,callbackUrl:n.callback_url,payload:n.payload});case"publicUsernameOrBotLink":return g({username:n.domain,start:n.start,text:n.text,appName:n.appname,startApp:n.startapp,mode:n.mode,startAttach:n.startattach,attach:n.attach,choose:n.choose,ref:n.ref});case"privateChannelLink":return y({channelId:n.channel});case"businessChatLink":return b({slug:n.slug});case"premiumReferrerLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumReferrerLink",referrer:t}}({referrer:n.ref});case"premiumMultigiftLink":return function(e){const{referrer:t}=e;if(t)return{type:"premiumMultigiftLink",referrer:t}}({referrer:n.ref});case"chatBoostLink":return v({username:n.domain,id:n.channel});case"giftUniqueLink":return A({slug:n.slug})}}(new URL(e))}}}(e)}catch(e){return}}function l(e){const{url:t,text:n}=e;if(t)return{type:"shareLink",url:t,text:n}}function f(e){const{messageId:t,threadId:n,commentId:r,username:o,single:s}=e;if(o&&(0,a.BU)(o)&&t&&I(t)&&(!n||I(n))&&(!r||I(r)))return{type:"publicMessageLink",username:o,messageId:Number(t),isSingle:""===s,threadId:n?Number(n):void 0,commentId:r?Number(r):void 0}}function h(e){const{messageId:t,threadId:n,commentId:r,channelId:s,single:a}=e;if(s&&I(s)&&t&&I(t)&&(!n||I(n))&&(!r||I(r)))return{type:"privateMessageLink",channelId:(0,o.QEA)(s),messageId:Number(t),isSingle:""===a,threadId:n?Number(n):void 0,commentId:r?Number(r):void 0}}function m(e){const{slug:t}=e;if(t)return{type:"chatFolderLink",slug:t}}function p(e){const{code:t}=e;if(t)return{type:"loginCodeLink",code:t}}function g(e){const{username:t,start:n,text:r,startApp:o,mode:s,startAttach:i,attach:c,appName:d,choose:u,ref:l}=e;if(t&&(0,a.BU)(t))return{type:"publicUsernameOrBotLink",username:t,start:n,startApp:o,mode:s,appName:d,startAttach:i,attach:c,text:r,choose:u,ref:l}}function y(e){const{channelId:t}=e;if(t)return{type:"privateChannelLink",channelId:(0,o.QEA)(t)}}function v(e){const{username:t,id:n}=e;if(t||n)return{type:"chatBoostLink",username:t,id:n?(0,o.QEA)(n):void 0}}function b(e){const{slug:t}=e;if(t)return{type:"businessChatLink",slug:t}}function A(e){const{slug:t}=e;if(t)return{type:"giftUniqueLink",slug:t}}function I(e){return/^-?\d+$/.test(e)}function C(e){const t=e.pathname.split("/").filter(Boolean);return"s"===t[0]&&t.shift(),t.map(decodeURI)}function w(e){return Object.fromEntries(e.searchParams)}},55148:(e,t,n)=>{n.d(t,{E:()=>c,_:()=>i});var r=n(13439),o=n(31481),s=n(46275),a=n(82393);const i=e=>{const t=(0,r.ko)(),n=(0,s.vG)(e);if(n)switch(n.type){case"privateMessageLink":return t.openPrivateChannel({id:n.channelId,threadId:n.threadId,messageId:n.messageId,commentId:n.commentId}),!0;case"publicMessageLink":return t.openChatByUsername({username:n.username,threadId:n.threadId,messageId:n.messageId,commentId:n.commentId}),!0;case"publicUsernameOrBotLink":{const e=function(e){if(!e)return;return e.toLowerCase().split(" ").filter((e=>o.K_A.includes(e)))}(n.choose);return t.openChatByUsername({username:n.username,startParam:n.start,ref:n.ref,text:n.text,startApp:n.startApp,mode:n.mode,startAttach:n.startAttach,attach:n.attach,choose:e,originalParts:[n.username,n.appName]}),!0}case"privateChannelLink":return t.openPrivateChannel({id:n.channelId}),!0;case"businessChatLink":return t.resolveBusinessChatLink({slug:n.slug}),!0;case"premiumReferrerLink":return t.openPremiumModal(),!0;case"premiumMultigiftLink":return t.openGiftRecipientPicker(),!0;case"chatBoostLink":return t.processBoostParameters({usernameOrId:n.username||n.id,isPrivate:Boolean(n.id)}),!0;case"giftUniqueLink":return t.openUniqueGiftBySlug({slug:n.slug}),!0}if(!e.match(o.bnE))return!1;const i=a.fM?e.replace(/^tg:\/\//,"https://"):e,{protocol:d,searchParams:u,hostname:l}=new URL(i);if("tg:"!==d)return!1;const f=l,h=Object.fromEntries(u),{checkChatInvite:m,openChatByUsername:p,openChatByPhoneNumber:g,openStickerSet:y,joinVoiceChatByLink:v,openInvoice:b,openChatWithDraft:A,checkChatlistInvite:I,openStoryViewerByUsername:C,checkGiftCode:w,openStarsBalanceModal:S}=t;switch(f){case"resolve":{const{domain:e,phone:t,post:n,comment:r,voicechat:o,livestream:s,start:a,startattach:i,attach:c,thread:d,topic:u,appname:l,startapp:f,mode:m,story:y,text:b}=h,A=Number(d)||Number(u)||void 0;"telegrampassport"!==e&&(l?p({username:e,startApp:f,mode:m,originalParts:[e,l],text:b}):h.hasOwnProperty("voicechat")||h.hasOwnProperty("livestream")?v({username:e,inviteHash:o||s}):t?g({phoneNumber:t,startAttach:i,attach:c,text:b}):y?C({username:e,storyId:Number(y)}):p({username:e,messageId:n?Number(n):void 0,commentId:r?Number(r):void 0,startParam:a,mode:m,startAttach:i,attach:c,threadId:A}));break}case"bg":case"login":break;case"join":{const{invite:e}=h;m({hash:e});break}case"addemoji":case"addstickers":{const{set:e}=h;y({stickerSetInfo:{shortName:e}});break}case"share":case"msg":case"msg_url":{const{url:e,text:t}=h;A({text:c(e,t)});break}case"addlist":I({slug:h.slug});break;case"invoice":{const{slug:e}=h;b({type:"slug",slug:e});break}case"stars_topup":{const{balance:e,purpose:t}=h,n=Number(e);if(!n||n<0)return!0;S({topup:{balanceNeeded:n,purpose:t}});break}case"giftcode":{const{slug:e}=h;w({slug:e});break}default:return!1}return!0};function c(e,t,n){return{text:[e,n,t].filter(Boolean).join("\n")}}},14680:(e,t,n)=>{n.d(t,{FD:()=>o,ZJ:()=>a,wb:()=>s});let r=0;function o(){r+=1}function s(){r-=1}function a(){return r>0}},91800:(e,t,n)=>{function r(e){const t=parseInt(getComputedStyle(e).lineHeight,10);return{totalLines:e.scrollHeight/t,lineHeight:t}}n.d(t,{A:()=>r})},6842:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(61433);function o(e){const t=document.createElement("div");r.Ay.render(e,t);const n=Array.from(t.children);return r.Ay.render(void 0,t),n}},60261:(e,t,n)=>{n.d(t,{Il:()=>A,K3:()=>C,ZR:()=>E,Qy:()=>T,VU:()=>S,LQ:()=>I});var r=n(37932),o=n(13439),s=n(23174),a=n(66644),i=n(90709),c=n(29807),d=n(46536),u=n(14235),l=n(58554),f=n(37836),h=n(82393),m=n(61911);const p=n.p+"square.370a4828a4f2afc14ada.svg",g=new Set,y=new Map,v=(0,d.h)();let b;function A(e,t){y.set(e,t)}function I(e){y.delete(e)}(0,r.DW)((e=>{if(e.customEmojis.byId!==b?.customEmojis.byId||(0,c.BWX)(e)!==(0,c.BWX)(b)){for(const t of y){const[n,r]=t;e.customEmojis.byId[r]&&n(e.customEmojis)}!function(e){const t=Array.from(g).filter((t=>Boolean(e.byId[t])));t.length&&(t.forEach((e=>g.delete(e))),S())}(e.customEmojis)}b=e}));const C=v.addCallback,w=(0,f.nF)(v.runCallbacks,500),S=(0,f.nF)((function(){document.querySelectorAll(".custom-emoji.placeholder").forEach((e=>{const t=(0,o.mS)().customEmojis.byId[e.dataset.documentId];if(!t)return void g.add(e.dataset.documentId);const[n,r,s]=T(t);t.shouldUseTextColor&&!e.classList.contains("colorable")&&(0,a.RK)((()=>{e.classList.add("colorable")})),n||(0,a.RK)((()=>{e.src=r,e.classList.remove("placeholder"),s&&(e.dataset.uniqueId=s),w(t.id)}))}))}),500);function E(e,t){const n=(0,i.aLQ)(e,t),r=l.Ih(n);if(r)return r;k(n)}function k(e){return l.hd(e,s.qZ.BlobUrl).then((()=>{S()}))}function T(e){if(!e)return[!0,p,void 0];const t=!h.OF&&e.isVideo;if(e.isLottie||e.isVideo&&!t)return k(`sticker${e.id}`),[!1,m,(0,u.A)()];const n=E(e.id,t);return[!n,n||p,void 0]}},52491:(e,t,n)=>{n.d(t,{D0:()=>m,On:()=>u,P_:()=>l,cp:()=>h,mS:()=>f});var r=n(61433),o=n(66644),s=n(98221),a=n(19314);const i=["female_sign","male_sign","medical_symbol"],c=127397;function d(e){const t=e.split("-").map((e=>parseInt(e,16)));return String.fromCodePoint(...t)}const u=new Set;function l(e){const t=e.currentTarget;u.add(e.currentTarget.dataset.path),(0,o.RK)((()=>{(0,r.YM)(t,"open")}))}const f=(0,a.A)((function(e){return function(e){let t;if(1===e.length)t=e.charCodeAt(0).toString(16).padStart(4,"0");else{const n=[];for(let t=0;t<e.length;t++)e.charCodeAt(t)>=55296&&e.charCodeAt(t)<=56319?e.charCodeAt(t+1)>=56320&&e.charCodeAt(t+1)<=57343&&n.push(1024*(e.charCodeAt(t)-55296)+(e.charCodeAt(t+1)-56320)+65536):(e.charCodeAt(t)<55296||e.charCodeAt(t)>57343)&&n.push(e.charCodeAt(t));t=n.map((e=>e.toString(16).padStart(4,"0"))).join("-")}return t}((0,s.a)(e))}));function h(e){const t={categories:[],emojis:{}};for(let n=0;n<e.length;n+=2){const r={id:e[n][0],name:e[n][1],emojis:[]};for(let o=0;o<e[n+1].length;o++){const s=e[n+1][o];i.includes(s[1][0])||(r.emojis.push(s[1][0]),t.emojis[s[1][0]]={id:s[1][0],names:s[1],native:d(s[0]),image:s[0].toLowerCase()})}t.categories.push(r)}return t}function m(e){if("FT"===e)return"🏴‍☠️";const t=e.toUpperCase();if(!/^[A-Z]{2}$/.test(t))return e;const n=[...t].map((e=>e.codePointAt(0)+c));return String.fromCodePoint(...n)}},24282:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(98221);const o=[[/\u{1f3f3}\u200d\u{1f308}/gu,"🏳️‍🌈"],[/\u{1f3f3}\u200d\u26a7\ufe0f?/gu,"🏳️‍⚧️"],[/\u26d3\u200d\u{1f4a5}/gu,"⛓️‍💥"],[/\u200d([\u2640\u2642])(?!\ufe0f)/gu,"‍$1️"]];function s(e){if(!e.match(r.A))return e;for(const[t,n]of o)e=e.replace(t,n);return e}},17237:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(98221),o=n(24282);const s=100,a=8*s;function i(e){const t=(0,o.A)(e).split("\n"),n=t.join("");if(n.length>a)return!1;const r=c(n);if(!r||r>s)return!1;let i=t.length;for(const e of t){const t=c(e);if(!1===t)return!1;t>i&&(i=t)}return i}function c(e){const t=e.matchAll(r.A);let n=0,o=0;for(const e of t){if(e.index!==o)return!1;n++,o=e.index+e[0].length}return o===e.length&&n}},62076:(e,t,n)=>{n.d(t,{T:()=>s});const r=new Set(["http:","https:","tg:","ton:","mailto:","tel:"]),o="https://";function s(e){if(e)try{const t=new URL(e);return r.has(t.protocol)?e:`${o}${e}`}catch(t){return`${o}${e}`}}},14487:(e,t,n)=>{n.d(t,{I:()=>T,T_:()=>L,UJ:()=>C,VS:()=>P,ZQ:()=>S,g0:()=>E,gb:()=>k,ve:()=>N,wr:()=>M});var r=n(31481),o=n(46536),s=n(70934),a=n(82393),i=n(9705);const c=100,{addCallback:d,runCallbacks:u}=(0,o.h)(),{addCallback:l,runCallbacks:f}=(0,o.h)(),h=Number(Math.random().toString().substring(2)),m=new Set([h]);let p=a.bs?new BroadcastChannel(r.a9l):void 0,g=!1;const y=new i.A;let v,b,A=!1;const I=({data:e})=>{if(p&&e){if(e.currentPasscodeHash&&(0,s.tn)(e.currentPasscodeHash),e.hasGaveUpMaster&&A)return v=h,A=!1,y.resolve(),void u(!0);if(e.shouldGiveUpMaster)return v===h&&(u(!1),p.postMessage({currentPasscodeHash:(0,s.dl)(),hasGaveUpMaster:!0})),void(v=e.masterToken);if(e.tokenDied&&(f(e.tokenDied),m.delete(e.tokenDied),e.tokenDied===v&&(m.delete(e.tokenDied),v=void 0,g=!1,b=e.tokenDied,p.postMessage({collectedTokens:m,masterToken:v,reestablishToken:b}),1===m.size&&(g=!0,v=h,b=void 0,y.resolve(),u(!0)))),e.collectedTokens){if(!e.reestablishToken&&b)return;e.reestablishToken&&b!==e.reestablishToken&&(e.collectedTokens.delete(e.reestablishToken),b=e.reestablishToken);const t=m.size;e.collectedTokens.forEach((e=>m.add(e))),b&&e.collectedTokens.delete(b),g?e.masterToken||p.postMessage({collectedTokens:m,masterToken:v,reestablishToken:b}):e.masterToken?(b=void 0,v=e.masterToken,u(v===h),g||p.postMessage({collectedTokens:m,masterToken:v,reestablishToken:b}),y.resolve(),g=!0):t!==m.size?p.postMessage({collectedTokens:m,masterToken:v,reestablishToken:b}):(b=void 0,v=Math.max(...Array.from(m)),u(v===h),g||p.postMessage({collectedTokens:m,masterToken:v,reestablishToken:b}),y.resolve(),g=!0)}}};function C(e){p&&(p.addEventListener("message",I),p.postMessage({collectedTokens:m}),setTimeout((()=>{void 0===v?(v=h,y.resolve(),u(!0)):e&&T()}),c),window.addEventListener("beforeunload",w))}function w(){p&&(f(h),p.removeEventListener("message",I),p.postMessage({tokenDied:h,currentPasscodeHash:(0,s.dl)()}),p.close(),p=void 0)}function S(){p&&p.postMessage({currentPasscodeHash:(0,s.dl)()})}function E(){return h}function k(){return Array.from(m)}function T(){p&&(A=!0,p.postMessage({collectedTokens:m,masterToken:h,shouldGiveUpMaster:!0}))}const P=l,M=d,L=y.promise;function N(){return v===h}},87679:(e,t,n)=>{n.d(t,{FW:()=>c,NN:()=>i,PR:()=>l,eT:()=>d,kc:()=>f,sZ:()=>u,ti:()=>a,zE:()=>s}),n(31481);var r=n(37836);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{const{result:r}=e.target||{};"string"==typeof r&&t(r),n(new Error("Failed to read blob"))},r.onerror=n,r.readAsDataURL(e)}))}function a(e,t){return new File([e],t,{lastModified:Date.now(),type:e.type})}function i(e){return new Promise(((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=n,r.src=e}))}function c(e){return new Promise(((t,n)=>{const r=document.createElement("video");r.volume=0,r.onloadedmetadata=()=>t(r),r.onerror=n,r.src=e}))}async function d(e){try{const t=await c(e);return await Promise.race([(0,r.v7)(2e3),new Promise(((e,n)=>{t.onseeked=()=>{t.videoWidth&&t.videoHeight||e(void 0);const n=document.createElement("canvas");n.width=t.videoWidth,n.height=t.videoHeight,n.getContext("2d").drawImage(t,0,0),n.toBlob((t=>{e(t?URL.createObjectURL(t):void 0)}))},t.onerror=n,t.currentTime=Math.min(t.duration,1)}))])}catch(e){return}}async function u(e){return(await fetch(e)).blob()}function l(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function f(e){if(e?.length)return Array.from(e).map(h).filter((e=>e.size))}function h(e){const t=e.name.split(".").pop();return e.type||"mov"!==t.toLowerCase()?e:new File([e],e.name,{type:"video/quicktime"})}"undefined"==typeof File&&(self.File=class extends Blob{constructor(e,t,n){if(n){const{type:t,...r}=n;super(e,{type:t}),o(this,"name",void 0),Object.assign(this,r)}else super(e),o(this,"name",void 0);this.name=t}})},49763:(e,t,n)=>{n.d(t,{BU:()=>M,P1:()=>L,PZ:()=>E,Ts:()=>I,YA:()=>C,Yw:()=>P,jn:()=>S,uk:()=>T,vp:()=>k,zm:()=>w});var r=n(84051),o=n(37932),s=n(13439),a=n(31481),i=n(90709),c=n(29807),d=n(5930),u=n(46536),l=n(87894),f=n(37836);const h=6,m=D();let p=m.prevGlobal,g=m.prepared,y=m.results,v=m.callbacks;a.Oig&&(window.DEBUG_getFolderManager=()=>({prepared:g,results:y}));const b=(0,f.nF)((()=>{(0,r.qF)((()=>{N((0,s.mS)())}))}),500);let A=!1;function I(){A=!0,(0,o.DW)(b),(0,s.aJ)("reset",R);const e=(0,s.mS)();(0,c.nTw)(e).isMasterTab||x(e,!0,!0,!0,!0),N(e)}function C(e){return A||I(),y.orderedIdsByFolderId[e]}function w(e){return A||I(),y.pinnedCountByFolderId[e]||0}function S(){return A||I(),y.chatsCountByFolderId}function E(){return A||I(),y.unreadCountersByFolderId}function k(){return E()[a.DSF]?.notificationsCount||0}function T(e,t){const n=g.chatSummariesById.get(e);return t?n.orderInSaved:n.orderInAll}function P(e,t){return v.orderedIdsByFolderId[e]||(v.orderedIdsByFolderId[e]=(0,u.h)()),v.orderedIdsByFolderId[e].addCallback(t)}function M(e){return v.chatsCountByFolderId.addCallback(e)}function L(e){return v.unreadCountersByFolderId.addCallback(e)}function N(e){let t;a.Oig&&(t=performance.now());const n=Boolean(e.chats.listIds.active&&B(a.DSF,e.chats.listIds.active,e.chats.orderedPinnedIds.active)),r=Boolean(e.chats.listIds.archived&&B(a._E9,e.chats.listIds.archived,e.chats.orderedPinnedIds.archived)),o=Boolean(e.chats.listIds.saved&&B(a.pX9,e.chats.listIds.saved,e.chats.orderedPinnedIds.saved)),s=e.chats.isFullyLoaded.active!==p.isAllFolderFullyLoaded,u=e.chats.isFullyLoaded.archived!==p.isArchivedFolderFullyLoaded,f=e.chats.isFullyLoaded.saved!==p.isSavedFolderFullyLoaded,m=e.chatFolders.byId!==p.foldersById,v=e.chats.byId!==p.chatsById,b=e.chats.lastMessageIds.saved!==p.lastSavedMessageIds,A=e.chats.lastMessageIds.all!==p.lastAllMessageIds,I=e.chats.topicsInfoById!==p.topicsInfoById,C=e.users.byId!==p.usersById,w=(0,c.$5S)(e)!==p.notifySettings,S=(0,c.GrP)(e)!==p.notifyExceptions;let E=[];if((s||u||f)&&(E=E.concat(function(e,t=!1,n=!1){let r=[];t&&r.push(a._E9),n&&r.push(a.pX9);const o=e.chats.isFullyLoaded.active,s=e.chats.isFullyLoaded.archived,i=e.chats.isFullyLoaded.saved;if(o&&s){const e=Object.keys(g.folderSummariesById).filter((e=>!y.orderedIdsByFolderId[e])).map(Number);r=r.concat(e)}return p.isAllFolderFullyLoaded=o,p.isArchivedFolderFullyLoaded=s,p.isSavedFolderFullyLoaded=i,r}(e,u,f))),!(n||r||o||m||v||C||I||w||S||b||A))return void(E.length&&O(E));const k=p.allFolderListIds,T=p.archivedFolderListIds,P=p.savedFolderListIds;if(x(e,n,r,o,m),E=E.concat(function(e,t,n,r,o,s,u){const f=e.chats.byId,h=e.users.byId,m=e.chats.lastMessageIds.all,v=e.chats.lastMessageIds.saved,b=(0,c.$5S)(e),A=(0,c.GrP)(e),I=Object.values(g.folderSummariesById),C=new Set,w=e.chats.listIds.active,S=e.chats.listIds.archived,E=e.chats.listIds.saved,k=[...w||[],...S||[]];let T=[...k,...E||[]];return w===o&&S===s&&E===u||(T=(0,l.Am)(T.concat(o||[],s||[],u||[]))),T.forEach((o=>{const s=f[o];if(!t&&!n&&!r&&s===p.chatsById[o]&&h[o]===p.usersById[o]&&m?.[o]===p.lastAllMessageIds?.[o]&&v?.[o]===p.lastSavedMessageIds?.[o])return;let u;if(s){const n=g.chatSummariesById.get(o),r=!k.includes(o),l=!E?.includes(o),f=function(e,t,n,r,o,s,d){const{id:u,type:l,isRestricted:f,isNotJoined:h,migratedTo:m,folderId:p,unreadCount:g,unreadMentionsCount:y,hasUnreadMark:v,isForum:b}=t,A=(0,c.pSx)(e,t.id),{unreadCount:I,unreadMentionsCount:C}=b?Object.values(A||{}).reduce(((e,t)=>(e.unreadCount+=t.unreadCount,e.unreadMentionsCount+=t.unreadMentionsCount,e)),{unreadCount:0,unreadMentionsCount:0}):{unreadCount:g,unreadMentionsCount:y},w="chatTypePrivate"===l&&o,S=(0,c.yHC)(e,t.id),E=t.id===a.zv8&&(!S||"historyClear"===S.content.action?.type),k=Math.max(t.creationDate||0,t.draftDate||0,S?.date||0),T=(0,c.yHC)(e,t.id,"saved"),P=T?.date||0;return{id:u,type:l,isListedInAll:Boolean(!(f||h||m||E||s)),isListedInSaved:!d,isArchived:p===a._E9,isMuted:(0,i.W1R)(t,n,r),isUnread:Boolean(I||C||v),unreadCount:I,unreadMentionsCount:C,isUserBot:w?"userTypeBot"===w.type:void 0,isUserContact:w?w.isContact:void 0,orderInAll:k,orderInSaved:P}}(e,s,b,A,h[o],r,l);if(!t&&n&&(0,d.A)(f,n))return;g.chatSummariesById.set(o,f),u=function(e,t){return t.reduce(((t,n)=>(function(e,t){if(!(t.id===a.pX9?e.isListedInSaved:e.isListedInAll))return!1;const{id:n,type:r}=e;if(t.listIds)return!(e.isArchived&&t.id===a.DSF||!e.isArchived&&t.id===a._E9)&&t.listIds.has(n);if(t.excludedChatIds?.has(n))return!1;if(t.includedChatIds?.has(n))return!0;if(t.pinnedChatIds?.has(n))return!0;if(t.excludeArchived&&e.isArchived)return!1;if(t.excludeRead&&!e.isUnread)return!1;if(t.excludeMuted&&e.isMuted&&!e.unreadMentionsCount)return!1;if("chatTypePrivate"===r)if(e.isUserBot){if(t.bots)return!0}else{if(t.contacts&&e.isUserContact)return!0;if(t.nonContacts&&!e.isUserContact)return!0}else{if("chatTypeChannel"===r)return Boolean(t.channels);if("chatTypeBasicGroup"===r||"chatTypeSuperGroup"===r)return Boolean(t.groups)}return!1}(e,n)&&t.push(n.id),t)),[]).sort()}(f,I),u.forEach((e=>{C.add(e)}))}else g.chatSummariesById.delete(o),u=[];const w=g.folderIdsByChatId[o]||[];if((0,l.k)(u,w))return;const S=function(e,t,n){const r=new Set(t),o=new Set(n),s=[];return(0,l.Am)([...t,...n]).forEach((t=>{let n=y.orderedIdsByFolderId[t];r.has(t)&&!o.has(t)?(g.chatIdsByFolderId[t].delete(e),s.push(t),n&&(n=n.filter((t=>t!==e)),g.isOrderedListJustPatched[t]=!0)):!r.has(t)&&o.has(t)&&(g.chatIdsByFolderId[t]||(g.chatIdsByFolderId[t]=new Set),g.chatIdsByFolderId[t].add(e),n&&(n.push(e),g.isOrderedListJustPatched[t]=!0)),y.orderedIdsByFolderId[t]=n})),g.folderIdsByChatId[e]=n,s}(o,w,u);S.forEach((e=>{C.add(e)}))})),p.chatsById=f,p.usersById=h,p.lastAllMessageIds=m,p.lastSavedMessageIds=v,p.notifySettings=b,p.notifyExceptions=A,Array.from(C)}(e,m||n||r||o,w,S,k,T,P)),O((0,l.Am)(E)),a.Oig){const e=performance.now()-t;e>h&&console.warn(`Slow \`updateFolderManager\`: ${Math.round(e)} ms`)}}function B(e,t,n){const r=e===a.DSF?p.allFolderListIds:e===a.pX9?p.savedFolderListIds:p.archivedFolderListIds,o=e===a.DSF?p.allFolderPinnedIds:e===a.pX9?p.savedFolderPinnedIds:p.archivedFolderPinnedIds;return r!==t||o!==n}function x(e,t,n,r,o){const s=[];if(t){const t=e.chats.listIds.active,n=e.chats.orderedPinnedIds.active;g.folderSummariesById[a.DSF]=F(a.DSF,t,n),p.allFolderListIds=t,p.allFolderPinnedIds=n,s.push(a.DSF)}if(n){const t=e.chats.listIds.archived,n=e.chats.orderedPinnedIds.archived;g.folderSummariesById[a._E9]=F(a._E9,t,n),p.archivedFolderListIds=t,p.archivedFolderPinnedIds=n,s.push(a._E9)}if(r){const t=e.chats.listIds.saved,n=e.chats.orderedPinnedIds.saved;g.folderSummariesById[a.pX9]=F(a.pX9,t,n),p.savedFolderListIds=t,p.savedFolderPinnedIds=n,s.push(a.pX9)}if(o){const t=e.chatFolders.byId;Object.values(t).forEach((e=>{e!==p.foldersById[e.id]&&(g.folderSummariesById[e.id]=function(e){return{...e,orderedPinnedIds:e.pinnedChatIds,excludedChatIds:e.excludedChatIds?new Set(e.excludedChatIds):void 0,includedChatIds:e.excludedChatIds?new Set(e.includedChatIds):void 0,pinnedChatIds:e.excludedChatIds?new Set(e.pinnedChatIds):void 0}}(e),s.push(e.id))})),p.foldersById=t}return s}function F(e,t,n){return{id:e,listIds:new Set(t),orderedPinnedIds:n,pinnedChatIds:new Set(n)}}function O(e){let t=!1,n=!1;if(Array.from(e).forEach((e=>{const{pinnedCount:r,orderedIds:o}=function(e){const t=g.folderSummariesById[e];if(!t)return{};const{orderedPinnedIds:n,pinnedChatIds:r}=t,{chatIdsByFolderId:{[e]:o}}=g,{orderedIdsByFolderId:{[e]:s}}=y,i=e===a.pX9,c=o?n?.filter((e=>o.has(e))):n,d=s||o&&Array.from(o)||[],u=(r?d.filter((e=>!r.has(e))):d).sort(((e,t)=>T(t,i)-T(e,i)));return{pinnedCount:c?.length||0,orderedIds:[...c||[],...u]}}(e);if(!o)return;const s=y.orderedIdsByFolderId[e],i=y.pinnedCountByFolderId[e];(!s||void 0===i||i!==r||g.isOrderedListJustPatched[e]||!(0,l.k)(o,s))&&(g.isOrderedListJustPatched[e]=!1,y.orderedIdsByFolderId[e]=o,y.pinnedCountByFolderId[e]=r,v.orderedIdsByFolderId[e]?.runCallbacks(o));const c=y.chatsCountByFolderId[e],u=o.length;n||(n=c!==u),y.chatsCountByFolderId[e]=u;const f=y.unreadCountersByFolderId[e],h=function(e){const{chatSummariesById:t}=g,{orderedIdsByFolderId:{[e]:n}}=y;return n.reduce(((e,n)=>{const r=t.get(n);return r?(r.isUnread&&(e.chatsCount++,r.unreadMentionsCount&&(e.notificationsCount+=r.unreadMentionsCount),r.isMuted||(r.unreadCount?e.notificationsCount+=r.unreadCount:r.unreadMentionsCount||(e.notificationsCount+=1))),e):e}),{chatsCount:0,notificationsCount:0})}(e);t||(t=!f||!(0,d.A)(h,f)),y.unreadCountersByFolderId[e]=h})),n){const e={...y.chatsCountByFolderId};y.chatsCountByFolderId=e,v.chatsCountByFolderId.runCallbacks(e)}if(t){const e={...y.unreadCountersByFolderId};y.unreadCountersByFolderId=e,v.unreadCountersByFolderId.runCallbacks(e)}}function D(){return{prevGlobal:{foldersById:{},chatsById:{},usersById:{},topicsInfoById:{},notifySettings:{},notifyExceptions:{}},prepared:{folderSummariesById:{},chatSummariesById:new Map,folderIdsByChatId:{},chatIdsByFolderId:{},isOrderedListJustPatched:{}},results:{orderedIdsByFolderId:{},pinnedCountByFolderId:{},chatsCountByFolderId:{},unreadCountersByFolderId:{}},callbacks:{orderedIdsByFolderId:{},chatsCountByFolderId:(0,u.h)(),unreadCountersByFolderId:(0,u.h)()}}}function R(){const e=D();p=e.prevGlobal,g=e.prepared,y=e.results,v=e.callbacks}},41402:(e,t,n)=>{function r(e){e.offsetWidth}n.d(t,{A:()=>r})},17142:(e,t,n)=>{n.d(t,{A:()=>i,v:()=>a});var r=n(84051),o=n(31481),s=n(9267);function a(e,t,n="en",a){const d=e/10**c(t);return t===o.OUy?[r.Ay.createElement(s.A,{className:a?.iconClassName,type:"gold",size:"adaptive"}),d]:i(e,t,n,a)}function i(e,t,n="en",r){const s=e/10**c(t);return(r?.shouldOmitFractions||t===o.OUy)&&Number.isInteger(s)?new Intl.NumberFormat(n,{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(s):new Intl.NumberFormat(n,{style:"currency",currency:t}).format(s)}function c(e){return"TON"===e?9:"CLF"===e?4:["BHD","IQD","JOD","KWD","LYD","OMR","TND"].includes(e)?3:["BIF","BYR","CLP","CVE","DJF","GNF","ISK","JPY","KMF","KRW","MGA","PYG","RWF","UGX","UYI","VND","VUV","XAF","XOF","XPF",o.OUy].includes(e)?0:"MRO"===e?1:2}},90603:(e,t,n)=>{n.d(t,{Mt:()=>f,e$:()=>u,GR:()=>l});const r=n.p+"blue.7addb55a171bbda244ac.svg",o=n.p+"green.19008e11c98b08550285.svg";var s=n(38027);const a=n.p+"red.1ab26ec752237fc45355.svg",i=n.p+"rose.6dd2db47d5e1fb9bdb9d.svg",c=n.p+"violet.7c7f825ebb51cf3084e3.svg",d={7322096:[r,"blue"],16766590:[n.p+"yellow.40f6b4865f20f3e6a1ab.svg","yellow"],13338331:[c,"violet"],9367192:[o,"green"],16749490:[i,"rose"],16478047:[a,"red"]};function u(){return Object.keys(d).map((e=>parseInt(e,10)))}function l(e){return e&&d[e][0]||s}function f(e){return`--color-topic-${e&&d[e][1]||"grey"}`}},14235:(e,t,n)=>{function r(){return Date.now().toString(36)+Math.random().toString(36).slice(2)}n.d(t,{A:()=>r})},99375:(e,t,n)=>{n.d(t,{Ay:()=>i,Dd:()=>d,zr:()=>c});var r=n(31481);const o={CHAT_RESTRICTED:"You can't send messages in this chat, you were restricted",CHAT_SEND_POLL_FORBIDDEN:"You can't create polls in this chat",CHAT_SEND_STICKERS_FORBIDDEN:"You can't send stickers in this chat",CHAT_SEND_GIFS_FORBIDDEN:"You can't send gifs in this chat",CHAT_SEND_MEDIA_FORBIDDEN:"You can't send media in this chat",CHAT_LINK_EXISTS:"The chat is public, you can't hide the history to new users",SLOWMODE_WAIT_X:"Slowmode is enabled in this chat: you must wait for the specified number of seconds before sending another message to the chat.",USER_BANNED_IN_CHANNEL:"You're banned from sending messages in supergroups / channels",USER_IS_BLOCKED:"You were blocked by this user",YOU_BLOCKED_USER:"You blocked this user",IMAGE_PROCESS_FAILED:"Failure while processing image",MEDIA_EMPTY:"The provided media object is invalid",MEDIA_GROUPED_INVALID:"Failed to replace album media",MEDIA_NEW_INVALID:"Failed to replace new media",MESSAGE_NOT_MODIFIED:"Message not modified. The new content is identical to the current one.",MEDIA_INVALID:"Media invalid",PASSWORD_HASH_INVALID:"Incorrect password",PHOTO_EXT_INVALID:"The extension of the photo is invalid",PHOTO_INVALID_DIMENSIONS:"The photo dimensions are invalid",PHOTO_SAVE_FILE_INVALID:"Internal issues, try again later",MESSAGE_DELETE_FORBIDDEN:"You can't delete one of the messages you tried to delete, most likely because it is a service message.",MESSAGE_POLL_CLOSED:"Poll closed",MESSAGE_EDIT_TIME_EXPIRED:"You can't edit this message anymore.",PINNED_DIALOGS_TOO_MUCH:"Sorry, you can only pin 5 chats to the top",CHANNEL_PRIVATE:"This channel is private",MEDIA_CAPTION_TOO_LONG:"The provided caption is too long",ADDRESS_STREET_LINE1_INVALID:"The address you provided is not valid",ADDRESS_STREET_LINE2_INVALID:"The address you provided is not valid",ADDRESS_CITY_INVALID:"The city you provided is not valid",ADDRESS_COUNTRY_INVALID:"The country you provided is not valid",ADDRESS_POSTCODE_INVALID:"The postcode you provided is not valid",ADDRESS_STATE_INVALID:"The state you provided is not valid",REQ_INFO_NAME_INVALID:"The name you provided is not valid",REQ_INFO_PHONE_INVALID:"The phone you provided is not valid",REQ_INFO_EMAIL_INVALID:"The email you provided is not valid",LINK_NOT_MODIFIED:"This discussion is already linked to the channel",MESSAGE_TOO_LONG:"Message is too long",SERVICE_WORKER_DISABLED:"Service Worker is disabled. Streaming media may not be supported. Try reloading the page without holding <Shift> key",MESSAGE_TOO_LONG_PLEASE_REMOVE_CHARACTERS:"The provided message is too long. Please remove {EXTRA_CHARS_COUNT} character{PLURAL_S}.",FRESH_RESET_AUTHORISATION_FORBIDDEN:"You can’t logout other sessions if less than 24 hours have passed since you logged on the current session",BOTS_TOO_MUCH:"There are too many bots in this chat/channel",BOT_GROUPS_BLOCKED:"This bot can't be added to groups",USERS_TOO_MUCH:"The maximum number of users has been exceeded",USER_CHANNELS_TOO_MUCH:"One of the users you tried to add is already in too many channels/supergroups",USER_KICKED:"This user was kicked from this supergroup/channel",USER_NOT_MUTUAL_CONTACT:"The provided user is not a mutual contact",USER_PRIVACY_RESTRICTED:"The user's privacy settings do not allow you to do this",INVITE_HASH_EMPTY:"The invite hash is empty",INVITE_HASH_EXPIRED:"The invite link has expired",INVITE_HASH_INVALID:"The invite hash is invalid",CHANNELS_TOO_MUCH:"You have joined too many channels/supergroups",USER_ALREADY_PARTICIPANT:"You already in the group",SCHEDULE_DATE_INVALID:"Invalid schedule date provided",WALLPAPER_DIMENSIONS_INVALID:"The wallpaper dimensions are invalid, please select another file",ADMINS_TOO_MUCH:"There are too many admins",ADMIN_RANK_EMOJI_NOT_ALLOWED:"An admin rank cannot contain emojis",ADMIN_RANK_INVALID:"The specified admin rank is invalid",FRESH_CHANGE_ADMINS_FORBIDDEN:"You were just elected admin, you can't add or modify other admins yet",INPUT_USER_DEACTIVATED:"Can't do this action to a deleted account",BOT_PRECHECKOUT_TIMEOUT:"The request for payment has expired",PROVIDER_ACCOUNT_TIMEOUT:"Request to the payment provider has expired",STARGIFT_CONVERT_TOO_OLD:"This gift no longer can be converted to Stars",SUBSCRIPTION_ALREADY_ACTIVE:"You are already subscribed",PEERS_LIST_EMPTY:"No chats are added to the list",PAID_MEDIA_FORBIDDEN:"You can't send paid media in this chat"};r.Oig&&(o.CHAT_WRITE_FORBIDDEN="You can't write in this chat",o.CHAT_ADMIN_REQUIRED="You must be an admin in this chat to do this");const s={ADDRESS_STREET_LINE1_INVALID:{field:"streetLine1",message:"Incorrect street address"},ADDRESS_STREET_LINE2_INVALID:{field:"streetLine2",message:"Incorrect street address"},ADDRESS_CITY_INVALID:{field:"city",message:"Incorrect city"},ADDRESS_COUNTRY_INVALID:{field:"countryIso2",message:"Incorrect country"},ADDRESS_POSTCODE_INVALID:{field:"postCode",message:"Incorrect post code"},ADDRESS_STATE_INVALID:{field:"state",message:"Incorrect state"},REQ_INFO_NAME_INVALID:{field:"fullName",message:"Incorrect name"},REQ_INFO_PHONE_INVALID:{field:"phone",message:"Incorrect phone"},REQ_INFO_EMAIL_INVALID:{field:"email",message:"Incorrect email"}},a=new Set(["BOT_PRECHECKOUT_FAILED","PAYMENT_FAILED"]);function i(e){const{message:t,isSlowMode:n,textParams:r}=e;if(n){const e=t.indexOf(" (caused by");return e>0?t.substring(0,e):t}let s=o[t];return s&&r&&(s=Object.keys(r).reduce(((e,t)=>e.replace(t,r[t])),s)),s}function c(e){return s[e.message]}function d(e){return a.has(e.message)}},2188:(e,t,n)=>{n.d(t,{H:()=>d});var r=n(31481),o=n(14487),s=n(37836);let a,i=!0;window.addEventListener("error",u),window.addEventListener("unhandledrejection",u),r.Oig&&(window.addEventListener("focus",(()=>{(0,o.ve)()&&(i=!0,a&&(window.alert(l(a)),a=void 0))})),window.addEventListener("blur",(()=>{(0,o.ve)()&&(i=!1)})));const c=(0,s.nF)((e=>{i?window.alert(l(e)):a=e}),1500);function d(e){console.error(e),r.Oig&&c(e)}function u(e){e instanceof ErrorEvent&&"ResizeObserver loop limit exceeded"===e.message||(e.preventDefault(),d(e instanceof ErrorEvent?e.error||e.message:e.reason))}function l(e){return`${r.FHx}\n\n${e?.message||e}\n${e?.stack}`}},91034:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(84051);function o(e){return function(t){const n=(0,r.li)(t);return t.ignoreFreeze?e(t):(t.isOpen?n.current=t:n.current={...n.current,isOpen:!1},e(n.current))}}},4029:(e,t,n)=>{n.d(t,{S:()=>a,a:()=>s});var r=n(13439);let o;function s(){window.addEventListener("beforeinstallprompt",(e=>{o=async()=>{e.prompt(),"accepted"===(await e.userChoice).outcome&&(0,r.ko)().setInstallPrompt({canInstall:!1})},(0,r.ko)().setInstallPrompt({canInstall:!0})}))}function a(){return o}},87894:(e,t,n)=>{function r(e,t){return e.reduce(((e,n)=>(e[n[t]]=n,e)),{})}function o(e,t){return e.reduce(((e,n)=>{const[r,o]=t(n);return e[r]=o,e}),{})}function s(e,t){return Object.keys(e).reduce(((n,r,o)=>(n[r]=t(e[r],r,o,e),n)),{})}function a(e,t){return t.reduce(((t,n)=>(t[n]=e[n],t)),{})}function i(e,t){return t.reduce(((t,n)=>(e[n]&&(t[n]=e[n]),t)),{})}function c(e,t){const n=new Set(t.map(String));return a(e,Object.keys(e).filter((e=>!n.has(e))))}function d(e){return Object.keys(e).reduce(((t,n)=>{const r=n;return void 0!==e[r]&&(t[r]=e[r]),t}),{})}function u(e,t,n="asc"){function r(e,t,n,r){const o=("function"==typeof n?n(e):e[n])||0,s=("function"==typeof n?n(t):t[n])||0;return r?o-s:s-o}if(Array.isArray(t)){const[o,s]=Array.isArray(n)?n:[n,n],[a,i]=t,c="asc"===o,d="asc"===s;return e.sort(((e,t)=>r(e,t,a,c)||r(e,t,i,d)))}const o="asc"===n;return e.sort(((e,n)=>r(e,n,t,o)))}function l(e){return Array.from(new Set(e))}function f(e,t){return[...new Map(e.map((e=>[e[t],e]))).values()]}function h(e){return e.filter(Boolean)}function m(e,t){return e.length===t.length&&e.every(((e,n)=>e===t[n]))}function p(e,t){return e[0]<=t[t.length-1]&&e[e.length-1]>=t[0]}function g(e,t){return t[0]<=e&&e<=t[t.length-1]}function y(e,t){return e.filter((e=>t.has(e)))}function v(e,t){if(!e?.length)return e;const n=[];let r=0;for(let o=0;o<e.length;o++)t[r]===e[o]?r+=1:n.push(e[o]);return n}function b(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}function A(e,t){const n=[],r=[];return e.forEach(((e,o,s)=>(t(e,o,s)?n:r).push(e))),[n,r]}function I(e){return w(e)?Array.isArray(e)?e.map(I):Object.keys(e).reduce(((t,n)=>(t[n]=I(e[n]),t)),{}):e}function C(e){return w(e)&&!Array.isArray(e)}function w(e){return"object"==typeof e&&null!==e}function S(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return e[n]}function E(e,t){return Number(t)-Number(e)}n.d(t,{$h:()=>y,Am:()=>l,LG:()=>s,My:()=>u,OX:()=>g,Oy:()=>d,Uk:()=>S,Up:()=>a,Vh:()=>C,Xd:()=>f,_E:()=>i,cJ:()=>c,dU:()=>r,h8:()=>p,jB:()=>A,k:()=>m,lD:()=>b,lK:()=>v,mg:()=>I,oE:()=>h,pA:()=>o,zV:()=>E})},60343:(e,t,n)=>{function r(e){const{chatId:t}=e;return s(t,"randomId"in e?Number(e.randomId):e.previousLocalId||e.id)}function o(e){if(i(e.id))return;const{chatId:t,id:n}=e;return s(t,n)}function s(e,t){return`msg${e}-${t}`}function a(e){const t=e.match(/^msg(-?\d+)-(\d+)/);return{chatId:t[1],messageId:Number(t[2])}}function i(e){return!Number.isInteger(e)}n.d(t,{AD:()=>o,ES:()=>a,bj:()=>r,iL:()=>i})},57309:(e,t,n)=>{function r(e){const{chatId:t,id:n}=e;return`${t}_${n}`}function o(e){const[t,n]=e.split("_");return[t,Number(n)]}n.d(t,{D:()=>r,a:()=>o})},43044:(e,t,n)=>{n.d(t,{iV:()=>L,DV:()=>j,Yw:()=>Y,S7:()=>K,qY:()=>J,CO:()=>te,K1:()=>W,eg:()=>G});var r=n(83649),o=n(31481),s=n(4875),a=n(4961),i=n(70758),c=n(46536);function d(e){let t,n=!1,r=!1;for(let o=0;o<e.length;o++){const s=e[o];if("\\"!==s)if('"'!==s||n){if("="===s&&!r){t=o;break}n=!1}else r=!r;else n=!n}if(void 0!==t&&t!==e.length-1)try{return[JSON.parse(e.slice(0,t)),JSON.parse(e.slice(t+1))]}catch(t){o.Oig&&console.error("Error parsing line:",e,t)}}const u="en",l=0,f="https://translations.telegram.org/en/weba";var h=n(14487),m=n(87894),p=n(61637),g=n(98607),y=n(37836),v=n(82393),b=n(9705),A=n(84947);const I={WrongNumber:"Wrong number?",SentAppCode:"We've sent the code to the **Telegram** app on your other device.",LoginJustSentSms:"We've sent you a code via SMS. Please enter it above.",LoginHeaderPassword:"Enter Password",LoginEnterPasswordDescription:"You have Two-Step Verification enabled, so your account is protected with an additional password.",StartText:"Please confirm your country code\nand enter your phone number.",LoginPhonePlaceholder:"Your phone number",LoginNext:"Next",LoginQRLogin:"Log in by QR Code",LoginQRTitle:"Log in to Telegram by QR Code",LoginQRHelp1:"Open Telegram on your phone",LoginQRHelp2:"Go to **Settings** > **Devices** > **Link Desktop Device**",LoginQRHelp3:"Point your phone at this screen to confirm login",LoginQRCancel:"Log in by phone Number",YourName:"Your Name",LoginRegisterDesc:"Enter your name and add a profile photo.",LoginRegisterFirstNamePlaceholder:"First Name",LoginRegisterLastNamePlaceholder:"Last Name",LoginSelectCountryTitle:"Country",CountryNone:"Country not found",PleaseEnterPassword:"Enter your new password",ErrorPhoneNumberInvalid:"Invalid phone number, please try again.",ErrorCodeInvalid:"Invalid code, please try again.",ErrorIncorrectPassword:"Invalid password, please try again.",ErrorPasswordFlood:"Too many attempts, please try again later.",ErrorPhoneBanned:"This phone number is banned.",ErrorFloodTime:"Too many attempts, please try again in {time}.",ErrorUnexpected:"Unexpected error",ErrorUnexpectedMessage:"Unexpected error: {error}"},C="langpack-",w="en",S=new A.A(400);let E,k,T,P,M=X();const{addCallback:L,removeCallback:N,runCallbacks:B}=(0,c.h)();let x=!1;function F(){x||(x=!0,(0,y.IJ)((()=>{B(),x=!1})))}const O=new b.A;function D(e){return i.q.get(`${C}${e}`)}function R(e){return(0,p.yK)(e.language.langCode),i.q.set(`${C}${e.language.langCode}`,e)}let U;async function _(){if(P||U)return;U=async function(e){let t;t=e?(await n.e(5269).then(n.t.bind(n,25269,23))).readFileSync("./src/assets/localization/fallback.strings","utf8"):(await n.e(695).then(n.t.bind(n,50695,17))).default;const r=function(e){const t=e.split(/;\r?\n?/),n={};for(const e of t){if(!e.startsWith('"'))continue;const[t,r]=d(e)||[];t&&r?n[t]=r:console.warn("Bad formatting in line:",e)}return n}(t),o={};Object.entries(r).forEach((([e,t])=>{const[n,r]=e.split("_");if(!r)return void(o[n]=t);const s=o[n]||{};s[r]=t,o[n]=s}));const s={langCode:u,version:l,strings:o},a=Object.keys(o).length;return{langPack:s,language:{langCode:u,name:"English",nativeName:"English",pluralCode:u,stringsCount:a,translatedCount:a,translationsUrl:f}}}();const e=await U;P=e.langPack,S.clear(),E?(M=X(),F()):z(e.language)}async function $(){if(!T||!E)return void(o.Oig&&console.warn("[Localization] Trying to fetch difference without loaded data"));if(v.bs&&(await h.T_,!(0,h.ve)()))return;const e=await(0,s.px)("fetchLangDifference",{langPack:o.rgX,langCode:T.langCode,fromVersion:T.version});e&&j(e.version,e.strings,e.keysToRemove)}function j(e,t,n){if(!T||!E||e===T.version)return;const r={...T,version:e,strings:{...(0,m.cJ)(T.strings,n),...t}};H(r),R({langPack:r,language:E}),F()}function z(e){E=e,V(),M=X(),F()}function V(){if(!E)return;const e=E.pluralCode,t={format:e=>e.join(", ")};function n(e,n){return v.Ld?new Intl.ListFormat(e,{type:n}):t}try{k={pluralRules:new Intl.PluralRules(e),region:new Intl.DisplayNames(e,{type:"region"}),conjunction:n(e,"conjunction"),disjunction:n(e,"disjunction"),number:new Intl.NumberFormat(e)}}catch(e){console.warn("Failed to create formatters:",e),k={pluralRules:new Intl.PluralRules(w),region:new Intl.DisplayNames(w,{type:"region"}),conjunction:n(w,"conjunction"),disjunction:n(w,"disjunction"),number:new Intl.NumberFormat(w)}}}function H(e){T=e,S.clear(),F()}async function K(e,t){if(E)return;const n=await D(e);n?(T=n.langPack,E=n.language,V(),$()):t?await J(e):_(),M=X(),F(),O.resolve()}async function W(e){if((0,h.ve)())return;const t=await D(e);t&&(H(t.langPack),z(t.language))}async function J(e,t){if(t){const t=await D(e);if(t)return q(t.language)}if(v.bs&&(await h.T_,!(0,h.ve)()))return;const n=await(0,s.px)("fetchLanguage",{langPack:o.rgX,langCode:e});if(n)return q(n);o.Oig&&console.warn("Failed to fetch language",e)}function G(e){E?.langCode===e&&$()}async function q(e){if(T&&E?.langCode===e.langCode)return;const t=await D(e.langCode);if(t)H(t.langPack),z(t.language),$();else{if(v.bs&&(await h.T_,!(0,h.ve)()))return;const t=await(0,s.px)("fetchLangPack",{langPack:o.rgX,langCode:e.langCode});if(!t)return void console.warn("Failed to fetch lang pack");H({langCode:e.langCode,version:t.version,strings:t.strings}),z(e),R({langPack:T,language:e})}document.documentElement.lang=e.baseLangCode||e.langCode,F()}function X(){const e=(e,t,n)=>n&&(0,r.Zh)(n)?ee(e,t,n):Z(e,t,n);return e.code=E?.langCode||w,e.isRtl=E?.isRtl,e.pluralCode=E?.pluralCode||w,e.with=({key:e,variables:t,options:n})=>n&&(0,r.Zh)(n)?ee(e,t,n):Z(e,t,n),e.withRegular=({key:e,variables:t,options:n})=>Z(e,t,n),e.withAdvanced=({key:e,variables:t,options:n})=>ee(e,t,n),e.region=e=>k?.region.of(e),e.conjunction=e=>k?.conjunction.format(e)||e.join(", "),e.disjunction=e=>k?.disjunction.format(e)||e.join(", "),e.number=e=>k?.number.format(e)||String(e),e.languageInfo=E,e}function Y(){return M}function Q(e,t){let n=T?.strings[e];if(n||P||_(),n||(n=P?.strings[e]),n||(n=I[e]),!n||(0,r.JR)(n))return;const o=k?.pluralRules.select(t)||"other";return(0,r.Qw)(n)?n[o]||n.other:n}function Z(e,t,n){const r=`${e}-${JSON.stringify(t)}-${JSON.stringify(n)}`;if(S.has(r))return S.get(r);const o=Q(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!o)return e;const s=(t?Object.entries(t):[]).reduce(((e,[t,n])=>{if(void 0===n)return e;"object"==typeof n&&(n=Z(n.key,n.variables,n.options));const r=Number.isFinite(n)?k.number.format(n):String(n);return e.replace(`{${t}}`,r)}),o);return S.set(r,s),s}function ee(e,t,n){const r=Q(e,n&&"pluralValue"in n?Number(n.pluralValue):0);if(!r)return e;const o=t?Object.entries(t):[];let s=[r];if(n?.specialReplacement&&(s=Object.entries(n.specialReplacement).reduce(((e,[t,n])=>(0,g.t)(e,t,n)),s)),n?.withMarkdown||n?.renderTextFilters){const e=n?.withMarkdown?(0,m.Am)((n.renderTextFilters||[]).concat(["simple_markdown","emoji"])):n.renderTextFilters;return s.flatMap((t=>"string"!=typeof t?t:(0,a.A)(t,e,{markdownPostProcessor:e=>o.reduce(((e,[t,n])=>{if(void 0===n)return e;const r=Number.isFinite(n)?k.number.format(n):n;return(0,g.t)(e,`{${t}}`,r)}),[e])})))}return o.reduce(((e,[t,n])=>{if(void 0===n)return e;const r=Number.isFinite(n)?k.number.format(n):n;return(0,g.t)(e,`{${t}}`,r)}),s)}const te=O.promise},83649:(e,t,n)=>{function r(e){return"object"==typeof e&&"isDeleted"in e}function o(e){return!function(e){return"string"==typeof e}(e)&&!r(e)}function s(e){return Boolean(e)&&"object"==typeof e&&"key"in e&&!("type"in e)}function a(e){return"withNodes"in e&&Boolean(e.withNodes)}n.d(t,{JR:()=>r,Qw:()=>o,Yw:()=>s,Zh:()=>a})},43336:(e,t,n)=>{n.d(t,{Bt:()=>o,Cc:()=>a,Ki:()=>i,LI:()=>s,qE:()=>r});const r=(e,t,n)=>Math.min(n,Math.max(t,e)),o=(e,t,n)=>e>=t&&e<=n,s=(e,t=0)=>Math.round(e*10**t)/10**t,a=(e,t,n)=>(1-n)*e+n*t;function i(e){return 2*Math.round(e/2)}},58554:(e,t,n)=>{n.d(t,{ch:()=>C,hd:()=>A,Ih:()=>I,RB:()=>S,Cn:()=>w});var r=n(23174),o=n(31481),s=n(4875),a=n(74824),i=n(87679);const c=48e3,d=16;async function u(e){const t=await new Response(e).arrayBuffer();return new Promise((e=>{const r=new Uint8Array(t);let o=new Worker(new URL(n.p+n.u(4180),n.b)),s=new Worker(new URL(n.p+n.u(3731),n.b));o.onmessage=e=>{null===e.data?s.postMessage({command:"done"}):s.postMessage({command:"encode",buffers:e.data},e.data.map((({buffer:e})=>e)))},s.onmessage=t=>{"page"===t.data.message&&(e(new Blob([t.data.page],{type:"audio/wav"})),o.terminate(),o=void 0,s.terminate(),s=void 0)},s.postMessage({command:"init",wavBitDepth:d,wavSampleRate:c}),o.postMessage({command:"init",decoderSampleRate:c,outputBufferSampleRate:c}),o.postMessage({command:"decode",pages:r},[r.buffer])}))}var l=n(82393);const f={[r.qZ.BlobUrl]:a.Type.Blob,[r.qZ.Text]:a.Type.Text,[r.qZ.DownloadUrl]:void 0,[r.qZ.Progressive]:void 0},h=`${o.jht?o.uyj:"."}/progressive/`,m="./download/",p=5,g=new Map,y=new Map,v=new Map,b=new Map;function A(e,t,n=!1,s,a){if(t===r.qZ.Progressive)return l.Uz?function(e){const t=`${h}${e}`;return g.set(e,t),Promise.resolve(t)}(e):A(e,r.qZ.BlobUrl,n,s,a);if(t===r.qZ.DownloadUrl)return l.Uz?function(e){return Promise.resolve(`${m}${e}`)}(e):A(e,r.qZ.BlobUrl,n,s,a);if(!y.has(e)){const r=E(e,t,n).catch((e=>{o.Oig&&console.warn(e)})).finally((()=>{y.delete(e),v.delete(e),b.delete(e)}));y.set(e,r)}if(s&&a){let t=v.get(e);t||(t=new Map,v.set(e,t)),t.set(a,s)}return y.get(e)}function I(e){return g.get(e)}function C(e){v.forEach(((t,n)=>{t.forEach((t=>{if(t===e){const e=b.get(n);if(!e)return;(0,s.om)(e),b.delete(n),v.delete(n)}}))}))}function w(e,t){const n=v.get(e);n&&n.delete(t)}function S(e){return`${h}${e}`}async function E(e,t,n,r=0){if(!o.xJs){const r=e.startsWith("avatar")?o.zrf:o.Iz7,s=await a.fetch(r,e,f[t],n);if(s){let t=s;"audio/ogg"!==s.type||l.Oo||(t=await u(t));const n=k(t);return g.set(e,n),n}}const c=function(e){const t=n=>{v.get(e)?.forEach((e=>{e(n),e.isCanceled&&(t.isCanceled=!0)}))};return t}(e);b.set(e,c);const d=await(0,s.px)("downloadMedia",{url:e,mediaFormat:t,isHtmlAllowed:n},c);if(!d){if(r>=p)throw new Error(`Failed to fetch media ${e}`);return await new Promise((e=>{setTimeout(e,function(e){return 250*2**e}(r))})),o.Oig&&console.debug(`Retrying to fetch media ${e}`),E(e,t,n,r+1)}let{mimeType:h}=d,m=k(d.dataBlob);if("audio/ogg"===h&&!l.Oo){const e=await(0,i.sZ)(m);URL.revokeObjectURL(m);const t=await u(e);m=k(t),h=t.type}return g.set(e,m),m}function k(e){return e instanceof Blob?URL.createObjectURL(e):e}l.Uz&&navigator.serviceWorker.addEventListener("message",(async e=>{const{type:t,messageId:n,params:o}=e.data;if("requestPart"!==t)return;const a=await(0,s.px)("downloadMedia",{mediaFormat:r.qZ.Progressive,...o});if(!a)return;const{arrayBuffer:i,mimeType:c,fullSize:d}=a;navigator.serviceWorker.controller.postMessage({type:"partResponse",messageId:n,result:{arrayBuffer:i,mimeType:c,fullSize:d}},[i])}))},79824:(e,t,n)=>{n.d(t,{p:()=>r});const r=[]},80089:(e,t,n)=>{n.d(t,{If:()=>h,Vw:()=>l,ar:()=>s,gt:()=>f,po:()=>u});var r=n(31481),o=n(46536);let s=function(e){return e[e.Auth=0]="Auth",e[e.Main=1]="Main",e[e.Extra=2]="Extra",e[e.Calls=3]="Calls",e[e.Stars=4]="Stars",e}({});const a={},i={},{addCallback:c,runCallbacks:d}=(0,o.h)();async function u(e){if(!a[e]){switch(e){case s.Auth:a[s.Auth]=Promise.all([n.e(4765),n.e(7405)]).then(n.bind(n,32794));break;case s.Main:r.Oig&&console.log(">>> START LOAD MAIN BUNDLE"),a[s.Main]=Promise.all([n.e(4765),n.e(6594),n.e(4823),n.e(2859),n.e(7768)]).then(n.bind(n,22402));break;case s.Extra:a[s.Extra]=Promise.all([n.e(4765),n.e(6594),n.e(4823),n.e(9451)]).then(n.bind(n,85588));break;case s.Calls:a[s.Calls]=Promise.all([n.e(4765),n.e(2859),n.e(2394)]).then(n.bind(n,83320));break;case s.Stars:a[s.Stars]=Promise.all([n.e(4765),n.e(6594),n.e(6930)]).then(n.bind(n,28014))}a[e].then(d)}const t=await a[e];return i[e]||(i[e]=t),t}async function l(e){await u(e)}function f(e,t){const n=i[e];if(n)return n[t]}const h=c},61637:(e,t,n)=>{n.d(t,{yK:()=>M,Ld:()=>P,mY:()=>k});var r=n(84051),o=n(37932),s=n(13439),a=n(31481),i=n(29807),c=n(4875),d=n(87894);const u=Symbol("EQUAL"),l={__delete:!0},f={__deleteAllChildren:!0};function h(e,t){if(e===t)return u;if(typeof e!=typeof t)return t;if(Array.isArray(e)&&Array.isArray(t)&&(r=t,(n=e).length===r.length&&n.every(((e,t)=>h(e,r[t])===u))))return u;var n,r;if(!(0,d.Vh)(e)||!(0,d.Vh)(t))return t;const o=e,s=t,a=Object.keys(o),i=Object.keys(s);if(!i.length)return a.length?f:u;const c=(0,d.Am)(a.concat(i)).reduce(((e,t)=>{const n=o[t],r=s[t];if(!s.hasOwnProperty(t))return e[t]=l,e;if(!o.hasOwnProperty(t))return e[t]=r,e;const a=h(n,r);return a!==u&&(e[t]=a),e}),{});return 0===Object.keys(c).length?u:c}function m(e,t){return e===t?t:(0,d.Vh)(t)?(0,d.Vh)(e)?t.__deleteAllChildren?{}:(0,d.Am)(Object.keys(e).concat(Object.keys(t))).reduce(((n,r)=>{const o=e[r];if(t.hasOwnProperty(r)){const e=t[r];e?.__delete||(n[r]=m(o,e))}else n[r]=o;return n}),{}):p(t):t}function p(e){return e.__deleteAllChildren?{}:Object.entries(e).reduce(((e,[t,n])=>(n?.__delete||(e[t]=(0,d.Vh)(n)?p(n):n),e)),{})}var g=n(14487),y=n(82393);const v=800;let b,A,I=!1,C=!1;const w=y.bs?new BroadcastChannel(a.rLF):void 0;let S,E=!1;function k(){w&&((0,g.VS)((e=>{if(e===(0,g.g0)()){w&&(w.removeEventListener("message",T),C=!0);const t=(0,s.mS)(),n=h(t,{...t,byTabId:(0,d.cJ)(t.byTabId,[e])});return void("symbol"!=typeof n&&w.postMessage({type:"globalDiffUpdate",diff:n}))}let t=(0,s.mS)();t={...t,byTabId:(0,d.cJ)(t.byTabId,[e])},(0,s.UF)(t)})),(0,o.DW)((e=>{if(I&&!C){if(A!==e){if(!A)return A=e,void w.postMessage({type:"globalUpdate",global:e});E||(E=!0,S=A,(0,r.qF)((()=>{if(!w)return;const e=h(S,A);"symbol"!=typeof e&&w.postMessage({type:"globalDiffUpdate",diff:e}),E=!1}))),A=e}}else A=e})),w.addEventListener("message",T))}function T({data:e}){if(e&&w)switch(e.type){case"initApi":{const t=(0,s.mS)();if(!(0,i.nTw)(t).isMasterTab)return;const{initialArgs:n}=e;(0,c.Ru)((0,s.ko)().apiUpdate,n);break}case"globalDiffUpdate":{if(!I)return;const{diff:t}=e,n=(0,s.mS)(),r=m(n,t);r.DEBUG_randomId=n.DEBUG_randomId,A=r,(0,s.UF)(r);break}case"globalUpdate":{if(I)return;const t=(0,s.mS)();e.global.DEBUG_randomId=t.DEBUG_randomId,A=e.global,(0,s.UF)(e.global),b&&(b(),b=void 0,I=!0);break}case"requestGlobal":{const{appVersion:t}=e;if("10.9.41"!==t)return void window.location.reload();if(!I)return;const n=(0,s.mS)();if(!(0,i.nTw)(n).isMasterTab)return;w.postMessage({type:"globalUpdate",global:n}),(0,g.ZQ)();break}case"messageCallback":{if(!I)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;(0,c.PH)(e);break}case"localDbUpdate":{if(!I)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;const{batchedUpdates:n}=e;n.forEach((({name:e,prop:t,value:n})=>{(0,c.fj)(e,t,n)}));break}case"localDbUpdateFull":{if(!I)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;const{localDb:n}=e;(0,c.iB)(n);break}case"messageResponse":{if(!I)return;const t=(0,s.mS)();if((0,i.nTw)(t).isMasterTab)return;(0,c.Hn)(e);break}case"cancelApiProgress":{if(!I)return;const t=(0,s.mS)();if(!(0,i.nTw)(t).isMasterTab)return;const{messageId:n}=e;(0,c.Ar)(n);break}case"callApi":{if(!I)return;const t=(0,s.mS)();if(!(0,i.nTw)(t).isMasterTab)return;const{name:n,messageId:r,token:o,args:a,withCallback:d}=e,u=d?[...a,(...e)=>{w.postMessage({type:"messageCallback",token:o,messageId:r,callbackArgs:e})}]:a;(async()=>{const e=await(0,c.eZ)(n,...u);w.postMessage({type:"messageResponse",token:o,messageId:r,response:e})})();break}case"langpackRefresh":(0,s.ko)().refreshLangPackFromCache({langCode:e.langCode})}}function P(e){w&&w.postMessage({type:"requestGlobal",appVersion:e});const t=()=>{b&&(b(),b=void 0),I=!0};return localStorage.getItem(a.yhD)?(setTimeout(t,v),new Promise((e=>{b=e}))):(t(),Promise.resolve())}function M(e){w&&w.postMessage({type:"langpackRefresh",langCode:e})}},97312:(e,t,n)=>{n.d(t,{Ac:()=>x,B1:()=>F,BA:()=>E,DJ:()=>D,Kz:()=>U,M2:()=>A,Mi:()=>_,Oq:()=>R,al:()=>M,wC:()=>k,xe:()=>T});var r=n(13439),o=n(23174),s=n(31481),a=n(90709),i=n(3544),c=n(26129),d=n(46042),u=n(29807),l=n(4875),f=n(59776),h=n(87894),m=n(58554),p=n(6e4),g=n(37836),y=n(82393);function v(e){const t=e.toJSON();return JSON.stringify({endpoint:t.endpoint,keys:t.keys})}function b(){return!(!y.Tz||y.cp||("showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(s.Oig&&console.warn("[PUSH] The user has blocked push notifications."),1):!("PushManager"in window)&&(s.Oig&&console.warn("[PUSH] Push messaging isn't supported."),1):(s.Oig&&console.warn("[PUSH] Push notifications aren't supported."),1)))}function A(){return"Notification"in window?"denied"!==Notification.permission||(s.Oig&&console.warn("[PUSH] The user has blocked push notifications."),!1):(s.Oig&&console.warn("[PUSH] This browser does not support desktop notification"),!1)}const I=432e5,C=3e3,w=new Set,S=new Audio("./notification.mp3");async function E(e,t){if(void 0!==e&&w.has(e))return;const{notificationSoundVolume:n}=(0,u.$5S)((0,r.mS)()),o=t?t/10:n/10;if(0!==o){S.volume=o,void 0!==e&&(S.addEventListener("ended",(()=>{w.add(e)}),{once:!0}),setTimeout((()=>{w.delete(e)}),C));try{await S.play()}catch(e){s.Oig&&console.warn("[PUSH] Unable to play notification sound")}}}S.setAttribute("mozaudiochannel","notification");const k=(0,g.sg)(E,1e3,!0,!1);async function T(){if(!("Notification"in window))return!1;let e=Notification.permission;return["granted","denied"].includes(e)||(e=await Notification.requestPermission()),"granted"===e}async function P(e){const t=(0,r.mS)(),{deleteDeviceToken:n}=(0,r.ko)();if(e)try{const t=v(e);return await(0,l.px)("unregisterDevice",t),await e.unsubscribe(),void n()}catch(e){s.Oig&&console.log("[PUSH] Unable to unsubscribe from push.",e)}t.push&&(await(0,l.px)("unregisterDevice",t.push.deviceToken),n())}async function M(){if(!b())return;const e=await navigator.serviceWorker.ready,t=await e.pushManager.getSubscription();await P(t)}let L=!1;async function N(){if(L)return(0,u.$5S)((0,r.mS)());const[e,t]=await Promise.all([(0,l.px)("fetchNotificationSettings"),(0,l.px)("fetchNotificationExceptions")]);if(!e)return(0,u.$5S)((0,r.mS)());let n=(0,d.qpc)((0,r.mS)(),e);return t&&(n=(0,d.DeY)(n,t)),(0,r.UF)(n),L=!0,(0,u.$5S)(n)}let B=!1;function x(){return B}async function F(){const{setDeviceToken:e,updateWebNotificationSettings:t}=(0,r.ko)();let n=!1,o=!1;if(!b())return n=await T(),void t({hasWebNotifications:n,hasPushNotifications:o});const a=await navigator.serviceWorker.ready;let i=await a.pushManager.getSubscription();if(function(e){const t=(0,r.mS)();return!t.push||!e||v(e)!==t.push.deviceToken||Date.now()-t.push.subscribedAt>I}(i)){await P(i);try{i=await a.pushManager.subscribe({userVisibleOnly:!0});const t=v(i);s.Oig&&console.log("[PUSH] Received push subscription: ",t),await(0,l.px)("registerDevice",t),e(t),o=!0,n=!0}catch(e){"denied"===Notification.permission?s.Oig&&console.warn("[PUSH] The user has blocked push notifications."):(s.Oig&&console.log("[PUSH] Unable to subscribe to push.",e),[DOMException.ABORT_ERR,DOMException.NOT_SUPPORTED_ERR].includes(e.code)&&(B=!0,n=await T()))}t({hasWebNotifications:n,hasPushNotifications:o})}}async function O(e){const t=(0,a.cP1)(e);if(!t)return;let n=m.Ih(t);return n||(await m.hd(t,o.qZ.BlobUrl),n=m.Ih(t)),n}async function D({call:e,user:t}){const{hasWebNotifications:n}=await N();if(document.hasFocus()||!n)return;if(!A())return;const r=await O(t),o={body:(0,a.YgS)(t),icon:r,badge:r,tag:`call_${e.id}`};"vibrate"in navigator&&(o.vibrate=[200,100,200]);const s=new Notification((0,p.yE)("VoipIncoming"),o);s.onclick=()=>{s.close(),window.focus&&window.focus()}}async function R({chat:e,message:t,isReaction:n=!1}){const{hasWebNotifications:o}=await N();if(!function(e,t){if(!L)return!1;const n=(0,r.mS)(),o=(0,a.W1R)(e,(0,u.$5S)(n),(0,u.GrP)(n)),s=!t.content?.action?.phoneCall;if(o||!s||e.isNotJoined||!e.isListed||(0,u.nZ4)(n,e.id))return!1;if(y.TF){const{chatId:t,type:r}=(0,u.Xf0)(n)||{};return!(t===e.id&&"thread"===r)}return!document.hasFocus()}(e,t))return;const d=A();if(!o||!d)return void(t.isSilent||n||y.cp||k(String(t.id)||e.id));if(!d)return;if(!t.id)return;const m=(0,a.cUZ)(t);if(n&&!m)return;n&&m&&"custom"===m.reaction.type&&await async function(e){let t=(0,r.mS)();if(t.customEmojis.byId[e])return;const n=await(0,l.px)("fetchCustomEmoji",{documentId:[e]});n&&(t=(0,r.mS)(),t={...t,customEmojis:{...t.customEmojis,byId:{...t.customEmojis.byId,...(0,h.dU)(n,"id")}}},(0,r.UF)(t))}(m.reaction.documentId);const g=await O(e),{title:v,body:I}=function(e,t,n){const o=(0,r.mS)();let{senderId:d}=t;const l=Boolean(n);l&&(d=n.peerId);const{isScreenLocked:h}=o.passcode,m=d?(0,u.hds)(o,d):void 0,g=d?(0,u.mBe)(o,d):void 0,y=(0,a.mKC)(t),v=(0,c.Q)(t),b=y&&v?.replyToMsgId?(0,u.O5q)(o,v?.replyFrom?.fromChatId||e.id,v.replyToMsgId):void 0,{targetUserIds:A,targetChatId:I}=y||{},C=A?A.map((e=>(0,u.mBe)(o,e))).filter(Boolean):void 0,w=(0,a.e7w)(e)===o.currentUserId,S=(0,u.nkm)(o,t);let E;if(!h&&(0,a.StO)(e,(0,u.$5S)(o),(0,u.GrP)(o))){const s=e&&((0,a.WXB)(e)||t.senderId===t.chatId);if((0,a._P2)(t))E=(0,f.V)(p.yE,t,g,e,C,b,I,S,{asPlainText:!0});else{const c=(0,a.Q5I)(p.yE,e.id,s?m:g),d=(0,a.niV)(o,t);let u=(0,i.dS)(p.yE,t,d,l,60);if(l){const e=function(e){let t;return"emoji"===e.reaction.type&&(t=e.reaction.emoticon),"custom"===e.reaction.type&&(t=(0,r.mS)().customEmojis.byId[e.reaction.documentId]?.emoji),t||"❤️"}(n);u=(0,p.yE)("PushReactText",[e,u])}E=c?`${c}: ${u}`:u}}else E="New message";let k=h?s.C39:(0,a.JsG)(p.yE,e,w);return t.isSilent&&(k+=" 🔕"),{title:k,body:E}}(e,t,m);if(b())navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"showMessageNotification",payload:{title:v,body:I,icon:g,chatId:e.id,messageId:t.id,shouldReplaceHistory:!0,isSilent:t.isSilent,reaction:m?.reaction}});else{const o=(0,r.ko)(),s={body:I,icon:g,badge:g,tag:String(t.id)};"vibrate"in navigator&&(s.vibrate=[200,100,200]);const a=new Notification(v,s);a.onclick=()=>{a.close(),o.focusMessage({chatId:e.id,messageId:t.id,shouldReplaceHistory:!0}),window.focus&&window.focus()},a.onshow=()=>{n||t.isSilent||y.cp||k(String(t.id)||e.id)}}}function U(e){!s.W75&&navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"closeMessageNotifications",payload:e})}function _(){navigator.serviceWorker?.controller&&navigator.serviceWorker.controller.postMessage({type:"clientReady"})}},6e4:(e,t,n)=>{n.d(t,{DW:()=>g,Yw:()=>S,bV:()=>k,wT:()=>E,yE:()=>w});var r=n(13439),o=n(31481),s=n(4875),a=n(74824),i=n(46536),c=n(43044),d=n(14242);const u=/%\d?\$?[sdf@]/g,l=["value","zeroValue","oneValue","twoValue","fewValue","manyValue","otherValue"],f={en:e=>1!==e?6:2,ar:e=>0===e?1:1===e?2:2===e?3:e%100>=3&&e%100<=10?4:e%100>=11?5:6,be:e=>{const t=String(e).split("."),n=Number(t[0])===e,r=n?Number(t[0].slice(-1)):0,o=n?Number(t[0].slice(-2)):0;return 1===r&&11!==o?2:r>=2&&r<=4&&(o<12||o>14)?4:n&&0===r||r>=5&&r<=9||o>=11&&o<=14?5:6},ca:e=>1!==e?6:2,cs:e=>{const t=String(e).split("."),n=Number(t[0]),r=!t[1];return 1===e&&r?2:n>=2&&n<=4&&r?4:r?6:5},de:e=>1!==e?6:2,es:e=>1!==e?6:2,fa:e=>e>1?6:2,fi:e=>1!==e?6:2,fr:e=>e>1?6:2,id:()=>0,it:e=>1!==e?6:2,hr:e=>{const t=String(e).split("."),n=t[0],r=t[1]||"",o=!t[1],s=Number(n.slice(-1)),a=Number(n.slice(-2)),i=Number(r.slice(-1)),c=Number(r.slice(-2));return o&&1===s&&11!==a||1===i&&11!==c?2:o&&s>=2&&s<=4&&(a<12||a>14)||i>=2&&i<=4&&(c<12||c>14)?4:6},hu:e=>e>1?6:2,ko:()=>0,ms:()=>0,nb:e=>e>1?6:2,nl:e=>1!==e?6:2,pl:e=>1===e?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,"pt-br":e=>e>1?6:2,ru:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,sk:e=>{const t=String(e).split("."),n=Number(t[0]),r=!t[1];return 1===e&&r?2:n>=2&&n<=4&&r?4:r?6:5},sr:e=>{const t=String(e).split("."),n=t[0],r=t[1]||"",o=!t[1],s=Number(n.slice(-1)),a=Number(n.slice(-2)),i=Number(r.slice(-1)),c=Number(r.slice(-2));return o&&1===s&&11!==a||1===i&&11!==c?2:o&&s>=2&&s<=4&&(a<12||a>14)||i>=2&&i<=4&&(c<12||c>14)?4:6},tr:e=>e>1?6:2,uk:e=>e%10==1&&e%100!=11?2:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?4:5,uz:e=>e>1?6:2},h=new Map;let m,p;const{addCallback:g,removeCallback:y,runCallbacks:v}=(0,i.h)();let b,A;function I(){return(e,t,n,r)=>{if(void 0!==t){const o=Array.isArray(t)?JSON.stringify(t):t,s=h.get(`${e}_${o}_${n}${r?`_${r}`:""}`);if(s)return s}p||T();const o=m?.[e]||p?.[e];return o?function(e,t,n,r,o){const s="number"==typeof n||void 0!==o?function(e){const t=b||"en",n=f[t]?f[t](e):0;return l[n]}(o??n):"value",a="string"==typeof e?e:"value"===s?"object"==typeof e?e.value:e:"object"==typeof e?e[s]||e.otherValue:void 0;if(!a?.trim()){const e=t.split(".");return e[e.length-1]}if(void 0!==n){const e=function(e,t){t=Array.isArray(t)?t:[t];const n=e.split(u),r=n.shift();return n.reduce(((e,n,r)=>`${e}${String(t[r]??"")}${n}`),r||"")}(a,"i"===r?(0,d.Sm)(n):n),s=Array.isArray(n)?JSON.stringify(n):n;return h.set(`${t}_${s}_${r}${o?`_${o}`:""}`,e),e}return a}(o,e,t,n,r):e}}let C=I();function w(...e){return C(...e)}function S(){return C}async function E(e,t,n=!1){if((0,c.qY)(e,!0),m&&e===b)return void(t&&t());let i=await a.fetch(o.CV,e,a.Type.Json);if(!i&&(n&&await T(),i=await async function(e){const t=await(0,s.px)("oldFetchLangPack",{sourceLangPacks:o.Ka6,langCode:e});if(t)return await a.save(o.CV,e,t.langPack),t.langPack}(e),!i))return;h.clear(),b=e,m=i,document.documentElement.lang=e;const d=(0,r.mS)(),{languages:u,byKey:l}=d.settings,f=l?.timeFormat,p=u?.find((t=>t.langCode===e));C=I(),C.isRtl=Boolean(p?.isRtl),C.code=e.replace("-raw",""),C.langName=p?.nativeName,C.timeFormat=f,t&&t(),v()}function k(e){e&&e===A||(A=e,C.timeFormat=e,v())}async function T(){p||(p=(await n.e(5193).then(n.bind(n,65193))).default,v())}},70934:(e,t,n)=>{n.d(t,{IG:()=>f,Mv:()=>d,UQ:()=>p,WN:()=>y,dl:()=>u,m:()=>g,tn:()=>l,ug:()=>m,yp:()=>h});var r=n(31481),o=n(70758),s=n(74824);const a=12,i="harder better faster stronger";let c;class d extends Error{}function u(){return c}function l(e){c=e}async function f(e){c=await v(e)}async function h(e,t){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");await Promise.all([(async()=>{if(!e)return;const t=await I(e,c);await b("sessionEncrypted",t)})(),(async()=>{if(!t)return;const e=await I(t,c);await b("globalEncrypted",e)})()])}async function m(){if(!c)throw console.error("[api/passcode] Missing current passcode"),new Error("[api/passcode] Missing current passcode");const[e,t]=await Promise.all([A("sessionEncrypted"),A("globalEncrypted")]);if(!e||!t)throw console.error("[api/passcode] Missing required stored fields"),new Error("[api/passcode] Missing required stored fields");try{const[n,r]=await Promise.all([C(e,c),C(t,c)]);return{sessionJson:n,globalJson:r}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}async function p(e){const t=await v(e),[n,r]=await Promise.all([A("sessionEncrypted"),A("globalEncrypted")]);if(!n||!r)throw console.error("[api/passcode] Missing required stored fields"),new d("[api/passcode] Missing required stored fields");try{const[e,o]=await Promise.all([C(n,t),C(r,t)]);return c=t,{sessionJson:e,globalJson:o}}catch(e){throw console.error("[api/passcode] Error decrypting session",e),e}}function g(){c=void 0}function y(){return g(),o.B.clear(),s.clear(r.oBq)}function v(e){return crypto.subtle.digest("SHA-256",(new TextEncoder).encode(`${e}${i}`))}function b(e,t){const n=Array.from(new Uint8Array(t));o.B.set(e,n)}async function A(e){const t=await o.B.get(e);return t?new Uint8Array(t).buffer:s.fetch(r.oBq,e,s.Type.ArrayBuffer)}async function I(e,t){const n=crypto.getRandomValues(new Uint8Array(a)),r={name:"AES-GCM",iv:n},o=await crypto.subtle.importKey("raw",t,r,!1,["encrypt"]),s=(new TextEncoder).encode(e),i=await crypto.subtle.encrypt(r,o,s),c=new Uint8Array(i),d=new Uint8Array(a+c.length);return d.set(n,0),d.set(c,a),d.buffer}async function C(e,t){const n=new Uint8Array(e),r={name:"AES-GCM",iv:n.slice(0,a)},o=await crypto.subtle.importKey("raw",t,r,!1,["decrypt"]),s=n.slice(a),i=await crypto.subtle.decrypt(r,o,s);return(new TextDecoder).decode(i)}},80853:(e,t,n)=>{function r(e){e.dataset.patchedForSafari||(e.addEventListener("play",(()=>{const t=e.currentTime;e.dataset.patchForSafariInProgress="true",e.addEventListener("progress",(function n(){e.buffered.length&&(e.currentTime=e.duration-1,e.addEventListener("progress",(()=>{delete e.dataset.patchForSafariInProgress,e.currentTime=t,e.paused&&!e.dataset.preventPlayAfterPatch&&e.play()}),{once:!0}),e.removeEventListener("progress",n))}))}),{once:!0}),e.dataset.patchedForSafari="true")}function o(e){return Boolean(e.dataset.patchForSafariInProgress)}n.d(t,{C:()=>r,f:()=>o})},21687:(e,t,n)=>{function r(e){const{pageTransitions:t,messageSendingAnimations:n,mediaViewerAnimations:r,messageComposerAnimations:o,contextMenuAnimations:s,contextMenuBlur:a,rightColumnAnimations:i}=e,c=document.body;c.classList.toggle("no-page-transitions",!t),c.classList.toggle("no-message-sending-animations",!n),c.classList.toggle("no-media-viewer-animations",!r),c.classList.toggle("no-message-composer-animations",!o),c.classList.toggle("no-context-menu-animations",!s),c.classList.toggle("no-menu-blur",!a),c.classList.toggle("no-right-column-animations",!i)}n.d(t,{u:()=>r})},19800:(e,t,n)=>{n.d(t,{Bt:()=>u,Tq:()=>l});var r=n(13439),o=n(31481),s=n(84553);const a=/(^|\.)(google|bing|duckduckgo|ya|yandex)\./i,i="kz_version",c="Z";function d(e){localStorage.setItem(i,JSON.stringify(e))}function u(e){d(e),(0,s.VH)(),(0,r.ko)().skipLockOnUnload(),window.location.assign(`${o.qJR}${e.toLowerCase()}`)}function l(){if(window.location.hostname!==o.mFn)return;const e=document.referrer.toLowerCase();if(e)try{if(!new URL(e).host.match(a))return;const t=function(){const e=localStorage.getItem(i);if(e)return JSON.parse(e)}();if(t)return void(t!==c&&u(t));const n=void 0!==(new URLSearchParams(window.location.search).get("test")??void 0),r=Math.random()<.5;if(n||!r)return void d("Z");u("K")}catch(e){}}},64713:(e,t,n)=>{n.d(t,{Nl:()=>s,Ox:()=>c,n4:()=>i,oL:()=>a});const r="X",o="XXX XXX XXX XXX";function s(e,t){return e.filter((e=>e.iso2===t))}function a(e,t=""){let n=t.replace(/[^\d+]+/g,"");n.startsWith("+")&&(n=n.substr(1));const r=e.filter((e=>n.startsWith(e.countryCode))).map((e=>(e.prefixes||[""]).map((t=>({code:`${e.countryCode}${t}`,country:e}))))).flat().filter((({code:e})=>n.startsWith(e))).sort(((e,t)=>e.code.length-t.code.length));return r[r.length-1]?.country}function i(e,t){if(!e)return"";let n=e.replace(/[^\d]+/g,"");if(t)n=n.substr(t.countryCode.length);else if(e.startsWith("+"))return e;const s=function(e,t){if(!t||0===t.length)return o;if(1===t.length)return t[0];const n=t.find((e=>e.startsWith(r)))||o,s=t.filter((t=>{const n=t.replace(/[^\dX]+/g,"");if(n.startsWith(r))return!1;for(let t=0;t<e.length;t++)if(t>n.length-1||n[t]!==r&&n[t]!==e[t])return!1;return!0}));return 1===s.length?s[0]:n}(n,t?.patterns),a=[];let i=0;for(let e=0;e<n.length;e++){for(;s[i]!==r&&i<s.length&&(a.push(s[i]),s[i]!==n[e]||(e++,e!==n.length));)i++;a.push(n[e]),i++}return a.join("")}function c(e,t){if(!t)return"";const n=t.startsWith("+")?t:`+${t}`,r=a(e,n);return r?`+${r.countryCode} ${i(n,r)}`:n}},84947:(e,t,n)=>{function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{A:()=>o});class o{constructor(e){this.limit=e,r(this,"map",void 0),r(this,"insertionQueue",void 0),this.map=new Map,this.insertionQueue=new Set}get(e){return this.map.get(e)}set(e,t){if(this.map.size===this.limit){const e=Array.from(this.insertionQueue).shift();e&&(this.map.delete(e),this.insertionQueue.delete(e))}return this.map.set(e,t),this.insertionQueue.add(e),this}has(e){return this.map.has(e)}delete(e){const t=this.map.delete(e);return t&&this.insertionQueue.delete(e),t}clear(){this.map.clear(),this.insertionQueue.clear()}forEach(e,t){this.map.forEach(e,t)}get size(){return this.map.size}get[Symbol.toStringTag](){return this.map[Symbol.toStringTag]}[Symbol.iterator](){return this.map[Symbol.iterator]()}entries(){return this.map.entries()}keys(){return this.map.keys()}values(){return this.map.values()}}},95704:(e,t,n)=>{n.d(t,{h:()=>u});var r=n(23174),o=n(4875);const s=262144,a=5242879,i=new Map,c=new Map,d=new Map;async function*u(e,t=0,n=s){const u=e.match(/fileSize=(\d+)/);let l;for(l=u?u&&Number(u[1]):c.get(e);;){if(l&&t>=l)return;let s=t+n-1;l&&s>l&&(s=l-1);const u=`${e}:${t}-${s}`;let f=i.get(u);if(!f){let n=d.get(u);n||(n=(0,o.px)("downloadMedia",{mediaFormat:r.qZ.Progressive,url:e,start:t,end:s}),d.set(u,n));const h=await n.finally((()=>{d.delete(u)}));if(!h?.arrayBuffer)return;h.fullSize&&!l&&(l=h.fullSize,c.set(e,h.fullSize)),f=h.arrayBuffer,s<=a&&i.set(u,h.arrayBuffer)}yield f,t=s+1}}},98607:(e,t,n)=>{function r(e,t,n){const r=e.split(t),[o,...s]=r;return s.reduce(((e,t)=>e.concat(n,t)),[o]).filter(Boolean)}function o(e,t,n){return e.flatMap((e=>"string"==typeof e?r(e,t,n):e),[])}n.d(t,{i:()=>r,t:()=>o})},33204:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(13439);const o=new Map;function s(e,t){const n=e.action;clearTimeout(o.get(n));const s=window.setTimeout((()=>{(0,r.ko)()[n](e.payload)}),t);o.set(n,s)}},9718:(e,t,n)=>{n.d(t,{A:()=>a,E:()=>s});var r=n(41402),o=n(82393);function s(e){e.style.display="none",(0,r.A)(e),e.style.display=""}const a=(e,t)=>{o.pz&&(e.style.overflow="hidden"),void 0!==t&&(e.scrollTop=t),o.pz&&(e.style.overflow="")}},66414:(e,t,n)=>{n.d(t,{az:()=>l,dk:()=>h,f4:()=>m,fY:()=>p,lD:()=>d,vO:()=>u,xV:()=>f});var r=n(23174),o=n(31481);let s,a,i=!1,c=window.location.hash;function d(){i=!1,a=void 0,s=void 0,c=""}function u(){window.location.hash=""}const l=(e,t,n)=>{const o="thread"===t?void 0:t;return(n===r.l3?[e,o]:[e,n,o]).filter(Boolean).join("_")};function f(e){if(m(),!a)return;const t=a.split("_");let n,o,s;if(1===t.length)n=t[0];else if(2===t.length){const e=["thread","pinned","scheduled"].includes(t[1]);n=t[0],o=e?t[1]:"thread",s=e?void 0:t[1]}else t.length>=3&&([n,s,o]=t);if(!n?.match(/^-?\d+$/))return;const i=["thread","pinned","scheduled"].includes(o);return{chatId:n,type:o&&i?o:"thread",threadId:(n===e?s:Number(s))||r.l3}}const h=(e,t,n)=>{const r=new URL(window.location.href);return r.hash=l(e,t,n),r.href};function m(){if(s)return s;if(i)return;if(!c)return;let e=c.replace(/^#/,"");return e.includes("?")?([a,e]=e.split("?"),o.fng||(window.location.hash=a)):e.includes("=")&&(o.fng||(window.location.hash="")),s=e.includes("=")?e.split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}):void 0,i=!0,s||(a=e),s}function p(){s&&delete s.tgWebAuthToken}},50110:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(31481),o=n(2188);const s=!r.MVx;function a(e,t,n){if(!s)return e();try{return e()}catch(e){return t?.(e),void(0,o.H)(e)}finally{n?.()}}},41733:(e,t,n)=>{n.d(t,{A:()=>s,e:()=>o});var r=n(31481);const o=e=>e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2,s=e=>{e.play().catch((t=>{r.Oig&&console.warn(t,e)}))}},37836:(e,t,n)=>{function r(e,t,n=!0,r=!0){let o;return(...s)=>{o?(clearTimeout(o),o=void 0):n&&e(...s),o=self.setTimeout((()=>{r&&e(...s),o=void 0}),t)}}function o(e,t,n=!0){let r,o,s;return(...a)=>{o=!0,s=a,r||(n&&(o=!1,e(...s)),r=self.setInterval((()=>{if(!o)return self.clearInterval(r),void(r=void 0);o=!1,e(...s)}),t))}}function s(e){return a(p,e)}function a(e,t){let n,r=!1;return(...o)=>{n=o,r||(r=!0,e((()=>{r=!1,t(...n)})))}}n.d(t,{Fe:()=>s,IJ:()=>m,P_:()=>c,aj:()=>p,kI:()=>b,nF:()=>o,nb:()=>a,sg:()=>r,v7:()=>i,yu:()=>A});const i=e=>new Promise((t=>{setTimeout((()=>t()),e)}));function c(){return new Promise((e=>{m(e)}))}const d=35;let u,l,f,h;function m(e,t=!1){u?u.add(e):(u=new Set([e]),requestAnimationFrame((()=>{const e=u;u=void 0,l=void 0,f&&(clearTimeout(f),f=void 0),e.forEach((e=>e()))}))),t&&(l?l.add(e):l=new Set([e]),f||(f=window.setTimeout((()=>{const e=l;u&&e.forEach(u.delete,u),l=void 0,f&&(clearTimeout(f),f=void 0),e.forEach((e=>e()))}),d)))}function p(e){h?h.push(e):(h=[e],Promise.resolve().then((()=>{const e=h;h=void 0,e.forEach((e=>e()))})))}const g=500;let y,v;function b(e){self.requestIdleCallback?y?y.push(e):(y=[e],requestIdleCallback((e=>{const t=y;for(y=void 0;t.length&&(t.shift()(),e.timeRemaining()););t.length&&(y?y=t.concat(y):t.forEach(b))}),{timeout:g})):p(e)}function A(e,t=!1){return v||(v=[],self.addEventListener("beforeunload",(()=>{v.forEach((e=>e()))}))),t?v.push(e):v.unshift(e),()=>{v=v.filter((t=>t!==e))}}},529:(e,t,n)=>{let r;n.d(t,{A:()=>o,l:()=>s});try{r=/[^\p{L}\p{M}]+/iu}catch(e){r=/[^\wа-яёґєії]+/i}function o(e,t){if(!e||!t)return!1;const n="string"==typeof t?t.toLowerCase().split(r):t,o=e.toLowerCase();if(1===n.length&&!o.includes(n[0]))return!1;let s;return n.every((e=>!!o.includes(e)&&(s||(s=o.split(r)),s.some((t=>t.startsWith(e))))))}function s(e){const t=e.toLowerCase().split(r);return e=>o(e,t)}},80140:(e,t,n)=>{n.d(t,{Fm:()=>a,SF:()=>s,SH:()=>o});let r=0;function o(e){r=e}function s(){return r}function a(){return Math.floor(Date.now()/1e3)+r}},57751:(e,t,n)=>{n.d(t,{AA:()=>a,CX:()=>c,rE:()=>i,wr:()=>s});var r=n(31481);const o=[1,2,3,4,5];function s(){if("true"===localStorage.getItem(r.ozB))return!0;const e=localStorage.getItem(r.NFE);if(!e)return!1;try{const t=JSON.parse(e);return Boolean(t&&t.id&&t.dcID)}catch(e){return!1}}function a(e,t){const{mainDcId:n,keys:o,hashes:s,isTest:a}=e;localStorage.setItem(r.NFE,JSON.stringify({dcID:n,id:t,test:a})),localStorage.setItem("dc",String(n)),Object.keys(o).map(Number).forEach((e=>{localStorage.setItem(`dc${e}_auth_key`,JSON.stringify(o[e]))})),s&&Object.keys(s).map(Number).forEach((e=>{localStorage.setItem(`dc${e}_hash`,JSON.stringify(s[e]))}))}function i(){[r.NFE,"dc",...o.map((e=>`dc${e}_auth_key`)),...o.map((e=>`dc${e}_hash`)),...o.map((e=>`dc${e}_server_salt`))].forEach((e=>{localStorage.removeItem(e)}))}function c(){if(!s())return;const e=JSON.parse(localStorage.getItem(r.NFE));if(!e)return;const t=Number(e.dcID),n=e.test,a={},i={};return o.forEach((e=>{try{const t=localStorage.getItem(`dc${e}_auth_key`);t&&(a[e]=JSON.parse(t));const n=localStorage.getItem(`dc${e}_hash`);n&&(i[e]=JSON.parse(n))}catch(e){r.Oig&&console.warn("Failed to load stored session",e)}})),Object.keys(a).length?{mainDcId:t,keys:a,hashes:i,isTest:n}:void 0}},22237:(e,t,n)=>{n.d(t,{Hp:()=>s,cO:()=>d,n5:()=>c});var r=n(46536);const o=Symbol("SIGNAL_MARK");function s(e){return"function"==typeof e&&o in e}const a=new Map;let i;function c(e){const t={value:e,effects:(0,r.h)()};function n(e){const n=t.effects.addCallback(e);return a.has(e)?a.get(e).add(n):a.set(e,new Set([n])),()=>{n();const t=a.get(e);t.delete(n),t.size||a.delete(e)}}return[Object.assign((function(){return i&&n(i),t.value}),{[o]:o,subscribe:n,once:function(e){const t=n((()=>{t(),e()}));return t}}),function(e){t.value!==e&&(t.value=e,t.effects.runCallbacks())}]}function d(e){a.get(e)?.forEach((e=>{e()})),a.delete(e)}},83868:(e,t,n)=>{n.d(t,{A:()=>r});const r=e=>{e.stopPropagation(),e.preventDefault()}},28470:(e,t,n)=>{n.d(t,{e:()=>u,z:()=>d});var r=n(31481),o=n(66644),s=n(6842),a=n(14235);const i=new Map;let c;function d(e,t){t??(t=(0,a.A)()),e.props.id=t;const n=(0,s.A)(e)[0];return i.set(e.props.id,n),function(e){(0,o.RK)((()=>{c||function(){if(c)return;const e=document.createElementNS(r.jNX,"svg");e.setAttribute("width","0"),e.setAttribute("height","0"),e.setAttribute("viewBox","0 0 1 1"),e.classList.add("svg-definitions"),document.body.appendChild(e),c=document.createElementNS(r.jNX,"defs"),e.appendChild(c)}(),c.appendChild(e)}))}(n),t}function u(e){const t=i.get(e);t&&(t.remove(),i.delete(e))}},55994:(e,t,n)=>{n.d(t,{P:()=>g,R:()=>y});var r=n(66644),o=n(19822),s=n(50442),a=n(25903),i=n(43336),c=n(82393);const d=300,u=o.qM.easeOutCubic;let l,f,h,m,p=!1;function g(e,t){return(0,s.wJ)(e,{excludedClosestSelector:t.excludedClosestSelector,selectorToPreventScroll:t.selectorToPreventScroll,swipeThreshold:10,onSwipe(e,n,r){if(n===s.ez.Left)t.onSwipeLeftStart?.();else{if(n!==s.ez.Right)return!1;t.onSwipeRightStart?.()}return c.pz&&(p=!0,l=r),!0},onDrag(e,t,n){p&&f?.(n)},onRelease(){p&&(p=!1,h?.(t.onCancel),f=void 0,h=void 0)}})}function y(e,t,n){if(m?.(),!p)return;const s=function(e){for(const t of e.getAnimations())if(t.effect instanceof KeyframeEffect)for(const e of t.effect.getKeyframes()){if(1!==e.offset||!e.transform)continue;const t=b(e.transform);if(t)return t}}(e);if(!s)return;let c;e.getAnimations().forEach((e=>e.pause())),t.getAnimations().forEach((e=>e.pause())),e.style.animationTimingFunction="linear",t.style.animationTimingFunction="linear",(0,r.YS)((()=>{const p=(g=getComputedStyle(e).transform,y=s.axis,g.slice(7,-1).split(",").map(Number)["X"===y?4:5]);var g,y;const b=("px"===s.units?s.value:s.value/100*("X"===s.axis?e.offsetWidth:e.offsetHeight))-p;let A=0;f=({dragOffsetX:n,dragOffsetY:r})=>{const o="X"===s.axis?n-l.dragOffsetX:r-l.dragOffsetY,a=(0,i.qE)(o/b,0,1);c=a>A?1:-1,A=a,v([e,t],A)},h=s=>{const i=-1===c;function l(){e.getAnimations().forEach((e=>e.cancel())),t.getAnimations().forEach((e=>e.cancel())),(0,r.RK)((()=>{e.style.animationTimingFunction="",t.style.animationTimingFunction=""}))}i||(0,a.e)(e,l),m=(0,o.Hd)({from:A,to:i?0:1,duration:d,timing:u,onUpdate(n){v([e,t],n)},onEnd(e=!1){m=void 0,(e||i)&&(l(),n(),s())}})}}))}function v(e,t){e.map((e=>e.getAnimations())).flat().forEach((e=>{e.currentTime=e.effect.getTiming().duration*t}))}function b(e){const t=e.match(/([XY])\((-?\d+)(%|px)\)/);if(t)return{axis:t[1],value:Number(t[2]),units:t[3]}}},71322:(e,t,n)=>{n.d(t,{Ay:()=>m,E2:()=>l,dD:()=>f});var r=n(66644);const o=JSON.parse('{"--color-primary":["#3390EC","#8774E1"],"--color-primary-opacity":["#50A2E91E","#8378DB1E"],"--color-primary-opacity-hover":["#50A2E940","#8378DB40"],"--color-primary-tint":["#3390ec1a","#8774e11a"],"--color-primary-shade":["#4a95d6","#7b71c6"],"--color-background":["#FFFFFF","#212121"],"--color-background-compact-menu":["#FFFFFFBB","#212121DD"],"--color-web-app-browser":["#FFFFFFBB","#0303038F"],"--color-background-compact-menu-reactions":["#FFFFFFEB","#212121DD"],"--color-background-compact-menu-hover":["#00000011","#00000066"],"--color-background-secondary":["#f4f4f5","#0F0F0F"],"--color-background-secondary-accent":["#E4E4E5","#191919"],"--color-background-own":["#EEFFDE","#766AC8"],"--color-background-own-apple":["#DCF8C5","#766AC8"],"--color-background-selected":["#F4F4F5","#2C2C2C"],"--color-background-own-selected":["#d0ffac","#6549d4"],"--color-chat-hover":["#F4F4F5","#2C2C2C"],"--color-chat-active":["#3390EC","#766AC8"],"--color-chat-active-greyed":["#60a7f0","#9288d3"],"--color-item-hover":["#f4f4f5","#2c2c2c"],"--color-item-active":["#ededed","#292929"],"--color-text":["#000000","#FFFFFF"],"--color-text-secondary":["#707579","#AAAAAA"],"--color-icon-secondary":["#707579","#AAAAAA"],"--color-text-secondary-apple":["#8E8E92","#AAAAAA"],"--color-borders":["#DADCE0","#303030"],"--color-borders-input":["#DADCE0","#5B5B5A"],"--color-dividers":["#C8C6CC","#3B3B3D"],"--color-dividers-android":["#E7E7E7","#0F0F0F"],"--color-links":["#3390EC","#8774E1"],"--color-gray":["#C4C9CC","#717579"],"--color-list-icon":["#ABAFB1","#A2A2A2"],"--color-default-shadow":["#72727240","#1010109c"],"--color-light-shadow":["#7272722B","#00000040"],"--color-green":["#00C73E","#8774E1"],"--color-green-darker":["#00a734","#7b71c6"],"--color-success":["#00C73E","#00C73E"],"--color-text-meta-colored":["#4DCD5E","#8378DB"],"--color-reply-hover":["#F4F4F4","#272727"],"--color-reply-active":["#E8E9E9","#2E2F2F"],"--color-reply-own-hover":["#D9F5CE","#8775DA"],"--color-reply-own-hover-apple":["#cbefb7","#8775DA"],"--color-reply-own-active":["#C5ECBE","#917DEA"],"--color-reply-own-active-apple":["#bae6a8","#917DEA"],"--color-accent-own":["#45AF54","#FFFFFF"],"--color-message-meta-own":["#4FAE4EFF","#FFFFFF88"],"--color-own-links":["#3390EC","#FFFFFF"],"--color-code":["#4a729a","#8774E1"],"--color-code-own":["#3c7940","#FFFFFF"],"--color-code-bg":["#70757914","#00000080"],"--color-code-own-bg":["#70757914","#00000050"],"--color-composer-button":["#707579CC","#AAAAAACC"],"--color-message-reaction":["#ebf3fd","#2b2a35"],"--color-message-reaction-hover":["#c5def9","#343147"],"--color-message-reaction-own":["#c6eab2","#675CAF"],"--color-message-reaction-hover-own":["#b5e0a4","#5B529B"],"--color-message-reaction-chosen-hover":["#1a82ea","#7864dd"],"--color-message-reaction-chosen-hover-own":["#3f9d4b","#f5f5f5"],"--color-voice-transcribe-button":["#e8f3ff","#2a2a3c"],"--color-voice-transcribe-button-own":["#cceebf","#8373d3"],"--color-topic-blue":["#2F7772","#6ff9f0"],"--color-topic-yellow":["#7F693B","#ffd67e"],"--color-topic-violet":["#8B5A96","#cb86db"],"--color-topic-green":["#44774A","#8eee98"],"--color-topic-rose":["#9B576B","#ff93b2"],"--color-topic-red":["#EB6858","#fb6f5f"],"--color-topic-grey":["#6C6C6C","#999999"],"--color-forum-unread-topic-hover":["#e9e9e9","#363636"],"--color-forum-hover-unread-topic-hover":["#e2e2e2","#3f3f3f"],"--color-chat-username":["#3C7EB0","#E9EEF4"],"--color-borders-read-story":["#C4C9CC","#737373"],"--color-background-menu-separator":["#0000001a","#ffffff1a"],"--color-hover-overlay":["#00000006","#ffffff06"]}');var s=n(19822),a=n(43336);let i=!1;const c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,d=new Set(["--color-text","--color-primary-shade","--color-text-secondary","--color-accent-own"]),u=Object.keys(o).map((e=>({property:e,colors:[l(o[e][0]),l(o[e][1])]})));function l(e){const t=c.exec(e);return{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:void 0!==t[4]?parseInt(t[4],16):void 0}}function f(e,t,n){return{r:Math.round((0,a.Cc)(e.r,t.r,n)),g:Math.round((0,a.Cc)(e.g,t.g,n)),b:Math.round((0,a.Cc)(e.b,t.b,n)),a:void 0!==e.a?Math.round((0,a.Cc)(e.a,t.a,n)):void 0}}function h(e,t,n=1){u.forEach((({property:r,colors:o})=>{const{r:s,g:a,b:i,a:c}=f(o[e],o[t],n),u=void 0!==c?Math.round(c/255*1e3)/1e3:void 0;document.documentElement.style.setProperty(r,`rgb(${s},${a},${i}${u?`,${u}`:""})`),d.has(r)&&document.documentElement.style.setProperty(`${r}-rgb`,`${s},${a},${i}`)}))}const m=(e,t)=>{const n=`theme-${e}`;if(document.documentElement.classList.contains(n))return;const o="dark"===e,a=i&&t,c=o?0:1,d=o?1:0,u=Date.now(),l=document.querySelector('meta[name="theme-color"]');(0,r.RK)((()=>{let e;document.documentElement.classList.remove("theme-"+(o?"light":"dark")),i&&(e=(e=>{const t=document.createElement("style");return t.textContent="\n.no-animations #root *,\n.no-animations #root *::before,\n.no-animations #root *::after {\n  transition: none !important;\n}",document.head.appendChild(t),()=>{document.head.removeChild(t)}})(),document.documentElement.classList.add("no-animations")),document.documentElement.classList.add(n),l&&l.setAttribute("content",o?"#212121":"#fff"),setTimeout((()=>{(0,r.RK)((()=>{e?.(),document.documentElement.classList.remove("no-animations")}))}),500),i=!0,a?(0,s.i0)((()=>{const e=Math.min((Date.now()-u)/200,1);return h(c,d,function(e){return 1-(1-e)**3.5}(e)),e<1}),r.RK):h(c,d)}))}},84382:(e,t,n)=>{n.d(t,{S:()=>a,V:()=>s});let r,o=window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light";function s(){return o}function a(e){r=e}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){o=e.matches?"dark":"light",r?.(o)}))},14242:(e,t,n)=>{n.d(t,{Qh:()=>d,Sm:()=>s,Vw:()=>i,l9:()=>c,v7:()=>l});var r=n(98221),o=n(24282);function s(e){return String(e).replace(/\d(?=(\d{3})+$)/g,"$& ")}function a(e){return".0"===String(e.toFixed(1)).substr(-2)?Math.floor(e):e.toFixed(1).replace(".",",")}function i(e){return e<1e3?e.toString():e<1e6?`${a(e/1e3)}K`:`${a(e/1e6)}M`}function c(e,t=1){return`${Number.isInteger(e)?e:e.toFixed(t)}%`}const d=(0,n(19314).A)(((e,t=2)=>e.replace(/[.,!@#$%^&*()_+=\-`~[\]/\\{}:"|<>?]+/gi,"").trim().split(/\s+/).slice(0,t).map((e=>{if(!e.length)return"";const t=(e=(0,o.A)(e)).match(r.A);return t&&e.startsWith(t[0])?t[0]:e.match(/./u)[0].toUpperCase()})).join(""))),u=["B","KB","MB","GB"];function l(e,t,n=1){if(0===t)return e("FileSize.B",0);const r=Math.floor(Math.log(t)/Math.log(1024)),o=(t/1024**r).toFixed(Math.max(n,0));return e(`FileSize.${u[r]}`,o)}},74065:(e,t,n)=>{n.d(t,{E:()=>h});var r=n(31481),o=n(37836);const s=new Map,a=new Map,i=new Map,c=document.createElement("style");function d(e,t,n){n?(s.delete(e),a.set(e,t),i.set(e,n)):(s.set(e,t),a.delete(e),i.delete(e)),u||(u=!0,(0,o.IJ)(l))}document.head.appendChild(c);let u=!1;function l(){const e=f(s),t=f(a),n=f(i);c.textContent=`\n    html {\n      ${e}\n    }\n\n    html.theme-light {\n      ${t}\n    }\n\n    html.theme-dark {\n      ${n}\n    }\n  `}function f(e){return Array.from(e.entries()).map((([e,t])=>`--${e}: ${t};`)).join(" ")}function h(e){m("0",["#D45246"]),m("1",["#F68136"]),m("2",["#6C61DF"]),m("3",["#46BA43"]),m("4",["#5CAFFA"]),m("5",["#408ACF"]),m("6",["#D95574"]),Object.entries(e).forEach((([e,t])=>{t.colors&&m(e,t.colors,t.darkColors)}))}function m(e,t,n){const o=t[0],s=n?.[0];if(!o)return;const a=`${o}${r.tP8}`,i=s?`${s}${r.tP8}`:void 0,c=`${o}${r.g0p}`,u=s?`${s}${r.g0p}`:void 0;if(d(`color-peer-${e}`,o,s),d(`color-peer-bg-${e}`,a,i),d(`color-peer-bg-active-${e}`,c,u),t.length>1){const o=t.map(((e,t)=>`${e} ${t*r.D$I}px, ${e} ${(t+1)*r.D$I}px`)),s=n?.map(((e,t)=>`${e} ${t*r.D$I}px, ${e} ${(t+1)*r.D$I}px`));d(`color-peer-gradient-${e}`,`repeating-linear-gradient(-45deg, ${o.join(", ")})`,s?`repeating-linear-gradient(-45deg, ${s.join(", ")})`:void 0)}}},59852:(e,t,n)=>{function r(){const e=getComputedStyle(document.documentElement),t=s(e,"--color-background"),n=s(e,"--color-text-secondary"),r=t,o=s(e,"--color-text"),a=s(e,"--color-primary"),i=s(e,"--color-white"),c=s(e,"--color-links"),d=n,u=s(e,"--color-background-secondary"),l=s(e,"--color-divider");return{bg_color:r,text_color:o,hint_color:d,link_color:c,button_color:a,button_text_color:i,secondary_bg_color:u,header_bg_color:t,accent_text_color:s(e,"--color-primary"),section_bg_color:t,section_header_text_color:n,subtitle_text_color:d,destructive_text_color:s(e,"--color-error"),section_separator_color:l}}function o(e){return/^#[0-9A-F]{6}$/i.test(e)}function s(e,t){const n=e.getPropertyValue(t);var r;if(n)return o(r=n.trim())?r:`#${r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map(((e,t)=>(3===t?Math.round(255*parseFloat(e)):parseFloat(e)).toString(16).padStart(2,"0").replace("NaN",""))).join("")}`}n.d(t,{A:()=>r,To:()=>o,eH:()=>s})},58849:(e,t,n)=>{function r(e,t){return!e||!t||e.length<=t?e:`${e.substring(0,t)}...`}n.d(t,{A:()=>r})},11422:(e,t,n)=>{n.d(t,{BU:()=>i,Ny:()=>a,Tk:()=>s,tX:()=>o});const r=3,o=5,s=32,a=/^[a-zA-Z]\w+$/;function i(e,t){const n=t?o:r;return e.length>=n&&e.length<=s&&a.test(e)}},84553:(e,t,n)=>{n.d(t,{KX:()=>m,VH:()=>g,ii:()=>p,nv:()=>h});var r=n(13439),o=n(31481),s=n(57751),a=n(82393);const i=["t.me","telegram.me"].map((e=>`https://${e}/_websync_?`)),c=`10.9.41 ${o.cK8}`,d="tgme_sync",u=86400,l=()=>Math.floor(Number(new Date)/1e3);let f;const h=e=>{if(o.fng||a.cp)return;const t=l(),{canRedirect:n,ts:r}=JSON.parse(localStorage.getItem(d)||"{}");return n!==e||r+u<=t?Promise.all(i.map((t=>new Promise(((n,r)=>{const o=document.createElement("script"),s=()=>Boolean(document.body.removeChild(o));o.src=t+new URLSearchParams({authed:Number(e).toString(),version:c}),document.body.appendChild(o),o.onload=()=>{(e=>{const t=l();localStorage.setItem(d,JSON.stringify({canRedirect:e,ts:t}))})(e),s(),f&&(clearTimeout(f),f=void 0),p(),n()},o.onerror=()=>{s(),r()}}))))):Promise.resolve()};function m(){o.Oig||a.cp||f&&clearTimeout(f)}function p(){if(o.Oig||a.cp)return;if(void 0!==f)return;const e=l(),{ts:t}=JSON.parse(localStorage.getItem(d)||"{}"),n=u-(e-t);f=setTimeout((()=>{const{authState:e}=(0,r.mS)(),t="authorizationStateReady"===e||(0,s.wr)();h(t)}),Math.max(0,1e3*n))}function g(){localStorage.removeItem(d)}},82393:(e,t,n)=>{n.d(t,{$M:()=>h,Aw:()=>o,Bu:()=>G,CM:()=>z,Fy:()=>U,G9:()=>F,H$:()=>J,H8:()=>a,J6:()=>L,Ld:()=>V,MP:()=>s,Nd:()=>f,Ni:()=>d,OF:()=>x,OL:()=>P,OS:()=>j,Oo:()=>E,QH:()=>k,SC:()=>T,So:()=>O,TF:()=>v,TL:()=>A,Tz:()=>I,Uh:()=>M,Uz:()=>S,Yw:()=>l,_7:()=>g,bW:()=>N,bs:()=>$,cp:()=>m,et:()=>K,fM:()=>H,ig:()=>i,kn:()=>W,l5:()=>D,lE:()=>y,nB:()=>_,ol:()=>R,pW:()=>b,pz:()=>c,w3:()=>p,yS:()=>u});var r=n(31481);window.location.host,r.mFn;const o=function(){const{userAgent:e,platform:t}=window.navigator;return-1!==["iPhone","iPad","iPod"].indexOf(t)||"MacIntel"===t&&"maxTouchPoints"in navigator&&navigator.maxTouchPoints>2?"iOS":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?"macOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?"Windows":/Android/.test(e)?"Android":/Linux/.test(t)?"Linux":void 0}(),s="macOS"===o,a="Windows"===o,i="Linux"===o,c="iOS"===o,d="Android"===o,u=c||d,l=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),f=navigator.userAgent.includes("YaBrowser"),h=navigator.userAgent.toLowerCase().includes("firefox")||navigator.userAgent.toLowerCase().includes("iceweasel")||navigator.userAgent.toLowerCase().includes("icecat"),m=Boolean(window.electron);let p=function(e){return e[e.Main=0]="Main",e[e.Auxiliary=1]="Auxiliary",e[e.Secondary=2]="Secondary",e[e.Fourth=3]="Fourth",e[e.Fifth=4]="Fifth",e}({});const g=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),y=g||m,v=window.matchMedia("(pointer: coarse)").matches,b=Boolean(window.navigator.mediaDevices&&"getUserMedia"in window.navigator.mediaDevices&&(window.AudioContext||window.webkitAudioContext)),A=o&&(s||c)&&function(){const e=document.createElement("span");e.classList.add("emoji-test-element"),document.body.appendChild(e),e.innerText="🐦‍🔥";const t=e.offsetWidth;e.innerText="❤️";const n=e.offsetWidth;return document.body.removeChild(e),Math.abs(t-n)<5}(),I="serviceWorker"in navigator,C=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)?.[2],w=C&&132===Number(C),S=I&&!w,E=Boolean((new Audio).canPlayType("audio/ogg; codecs=opus")),k=!r.W75&&"filter"in(document.createElement("canvas").getContext("2d")||{}),T="requestFullscreen"in document.createElement("div"),P=!h,M=d?"slideFade":c?"slideLayers":"pushSlide",L=!u&&!h&&!l,N=!u&&!h&&!l,B=document.createElement("video"),x=Boolean(B.canPlayType('video/webm; codecs="vp9"').replace("no","")),F="VideoDecoder"in window,O=!0,D=Boolean(navigator.storage?.getDirectory);D&&(async()=>{try{const e=await navigator.storage.getDirectory();await e.removeEntry("downloads",{recursive:!0})}catch{}})();const R=CSS.supports("offset-rotate: 0deg"),U=CSS.supports("backdrop-filter: blur()")||CSS.supports("-webkit-backdrop-filter: blur()"),_="onbeforeinstallprompt"in window,$="BroadcastChannel"in window,j=$&&!(g&&u),z=!r.W75,V="ListFormat"in Intl,H="host"!==new URL("tg://host").host,K=750,W=((()=>{const e=document.createElement("div");e.style.cssText="overflow:scroll; visibility:hidden; position:absolute;",e.classList.add("custom-scroll"),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;e.remove(),document.documentElement.style.setProperty("--scrollbar-width",`${t}px`)})(),1048576*(u?512:2e3)),J="geolocation"in navigator,G=async()=>{try{const e=await navigator.permissions.query({name:"geolocation"});if("granted"===e.state||"prompt"===e.state)return{accessRequested:!0,accessGranted:!0,geolocation:await new Promise(((e,t)=>{navigator.geolocation.getCurrentPosition((t=>e(t.coords)),(e=>t(e)))}))};if("denied"===e.state)return{accessRequested:!0,accessGranted:!1}}catch(e){return{accessRequested:!1,accessGranted:!1}}return{accessRequested:!1,accessGranted:!1}}},43503:(e,t,n)=>{n.d(t,{A:()=>l,u:()=>u});var r=n(66644),o=n(37836),s=n(82393);let a=window.innerHeight,i=u();const c=(0,o.nF)((()=>{i=u()}),250,!0),d=(0,o.nF)((()=>{a=window.innerHeight,c()}),100,!1);function u(){let e;return e=s.pz?window.visualViewport.height+window.visualViewport.pageTop:window.innerHeight,(0,r.RK)((()=>{const t=.01*e;document.documentElement.style.setProperty("--vh",`${t}px`)})),{width:window.innerWidth,height:window.innerHeight}}window.addEventListener("orientationchange",d),s.pz?window.visualViewport.addEventListener("resize",c):window.addEventListener("resize",c);const l={get:()=>i,getIsKeyboardVisible:()=>a>i.height}},19314:(e,t,n)=>{n.d(t,{A:()=>o});const r=new WeakMap;function o(e){return(...t)=>{let n=r.get(e);const o=t.map(String).join("_");if(n){const e=n.get(o);if(e)return e}else n=new Map,r.set(e,n);const s=e(...t);return n.set(o,s),s}}},2429:(e,t,n)=>{n.d(t,{A:()=>r});const r={root:"CdTfL4f7",fadeIn:"MyeHARy0",closing:"EZbKn_M3",peer:"kW0xpExG",name:"BDZrSTO_",name_hasUnreadStory:"OoUm5AUZ",nameHasUnreadStory:"OoUm5AUZ",hidden:"lnVtxMZI",contextMenu:"N1sagA0s"}},61911:(e,t,n)=>{e.exports=n.p+"blank.8dd283bceccca95a48d8.png"},38027:(e,t,n)=>{e.exports=n.p+"grey.45da821d56a68ea86203.svg"},89704:(e,t,n)=>{e.exports=n.p+"lock.f11661905df47960fa3e.png"}},s={};function a(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,a.d(o,s),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+"."+{26:"c6aa48f26cf2c480ba22",59:"cd45091cb5c130745405",61:"36c66587faab069a921b",69:"a6db53a4f00742fd1462",90:"f7637ad4b6d9882054f9",103:"06562548b3fda65effcc",194:"c1f5ffb04238d98d648b",244:"1774aa2e7bcb7144d884",304:"48b0b40adff5d3e137ef",313:"0f4bc4fa205668ed808c",356:"1bc44e46652fa5288bf8",373:"75fdc0ccff654eeecb30",387:"81529401c679841b397b",400:"a47601ed4b358f8abbb5",405:"d66329eb14453a8b3d34",409:"0fd7b0b4fa794dd68108",433:"ad060437ffb6916a9321",453:"28c197282b5d28a55117",482:"f539aab19c85ff61ce44",562:"08644faea2a11dc03715",564:"d622f298de832ee1c2f8",633:"0c008db6ee63daf3e6e9",676:"575fa56db35097bc4a32",683:"eaf2b99781f1220c4b86",695:"8a57195b3944b152f5ed",768:"f5aea4b0692ec4ad998e",835:"e84d44ebdf9dd2ae222c",844:"f0eae32a58bc1f21ca3e",947:"58aaed90385beda86fce",970:"7044f00deb7b3fdc1ab5",996:"9460a03c6edee870f315",1022:"10e6de63c64b3b9a18af",1095:"95cc2d575059e9f6054f",1105:"82a58e981ea92040fe89",1164:"ce743c2bcc23d3043fe9",1168:"456d17d716ba7e4d4ec5",1184:"0d40f5d962d57f9ef64e",1215:"e157a49d04b225308f77",1348:"f655ca346b82779f07c5",1387:"394c9143713a7fd68235",1401:"5b095c8c14e292f91887",1465:"acaade6ed215d80122fa",1516:"91af49804dee1af8631e",1575:"e5726d1c745dcc9873f2",1586:"d55ded8aa155fbd69470",1620:"8c85ba900a4207ce4da9",1692:"66caee8054d626d59d48",1700:"dd59d0dbdf3ef22443b3",1775:"8b47df32db7309502f49",1780:"f39d3ff745c63d496160",1877:"13c44f38e27f297965ef",2057:"114033549ec88321349c",2118:"4d5cef94fa94e132add7",2158:"a6754dbfe1f8d591a114",2164:"e492657dac2eb724da50",2225:"aadcce9013263158a5df",2230:"3a602927b9e118113ffa",2394:"66d9a24fa366f4cef5b5",2440:"e89152702b001cdd81aa",2448:"da0e561a2055927d551f",2498:"94264e7f6126aa416ec1",2651:"60007143ecc35556d2be",2670:"9e12093c5acef62f3f98",2729:"0065c8652592670fe035",2800:"fe61871efd4cf024ed73",2801:"218e3e05568344bfc382",2856:"2ad12ce521ce05aaeb25",2857:"e46d806152d3634a3af0",2859:"88a0bc246ebecb92352d",2916:"30141131c0e95e8b9171",2990:"544b6eac560aef426853",3080:"15f4cdecf7bd92fd8cd7",3325:"4d3c50092b95852e606d",3363:"d0e8f9c9ad9af93e091f",3405:"bf0efec17f73eea62691",3499:"fb9028f6a91578dbeb7e",3524:"e86bdc871cc7d384bb9f",3564:"e1d4da9993f41f931d4a",3715:"b369e2fb06fef4e03112",3731:"4c3ad0d715104f8c9a90",3745:"70fa1408b56b531c8b70",3747:"9d65fbf6607c2639f1ac",3787:"738b7fcddf703bfdba93",3813:"322d1f0835139c813fc2",3906:"20c0ac801cb25871d36d",3981:"7181a4ce1bc076373789",4008:"59b7339e18feff0fcf48",4019:"5436e42f5f05697217c5",4020:"7fd110ec1a610079e678",4102:"6d3f605113d2ca62c370",4128:"932954ee591c37fcab93",4134:"71cfa5405de2ba0d28f9",4180:"9be92536a6ec7980a981",4204:"9b422b9bac0e923d0800",4230:"fa2f1dbe863bef3e5337",4326:"344ecd11d90386e0b584",4336:"a6113c3827c4e53ba062",4383:"108071f9a50471133448",4435:"303678ebd6d3a95a6ad0",4448:"6d46b3fccdf6fdc05fbd",4484:"697013986f9f8314725b",4550:"79ec4a71200382a8bb30",4765:"cd3c3e06f1b2e6336931",4785:"ee250366df8843a67094",4823:"22321d47e8e2428ad360",4903:"7b2461fbeeed521475dc",4917:"451a5721d4c10bda0cef",4940:"d4766f8c482b18850eb3",5032:"c2d32c817b8fcd096923",5046:"cae7eb2c1eb178edb5cb",5073:"b7b27ed7a495221c6f61",5116:"7e3a6f36b5b79abb782a",5148:"e9ddaa9b7e6d1b5c2689",5193:"87fdefeed08d07f16c0b",5246:"f6aacfbe9ae9257098d1",5260:"963906e0cff8dcb3a5f2",5269:"cb8357f44d3e42279470",5284:"32681bd6f2404b2681f0",5336:"7c49be58112e63514c13",5345:"323a678ecb6d1df232ca",5361:"b67441dffa58f8924636",5429:"7a4bdbe76dc672994511",5434:"9f2b0084773cc370a809",5438:"60c9f65511b76d590655",5499:"13cb3031a94ce4aaa036",5525:"8cefdbd7798ac454e0d4",5628:"404c65b7e2448f632b03",5719:"fd58667cc73b93bde774",5735:"31b6059ae6ea6bfde1ee",5819:"59e9c49233dabd77f9df",5962:"ede17865912f35b1a90f",6047:"56c21fd26028a86e4eeb",6058:"30cefd831f035595b5d0",6167:"b42a04fdc12fb4b4a4aa",6168:"ada3094042ebc5125641",6241:"33e68803b77e2df83262",6265:"c6c542183797c639fc12",6272:"b25825eb9cace64817d5",6308:"fc757fb049f7befef6c5",6338:"b7431caf1d83069b35a0",6441:"596e674263fc662c6563",6442:"61a6ce48a2c67daada31",6473:"504b8bde338f548d384e",6594:"05ee5bb2b76473bb1191",6685:"d3f3addf37c9d0774537",6686:"78266345eeede412e9b8",6708:"516a5bb945d3f62062db",6726:"738df768f67f2b3ae4e7",6802:"c56f82fa0a9d57ab7e5f",6827:"f9dabc7d712e3f363fd8",6860:"7724ac0b43a96ee6e42c",6869:"fd1804ea75e26a748a15",6930:"4a4ea1d5054b319334af",6947:"4089f0e6e5cacb406a13",7001:"edd8f550449c6534ea87",7120:"4351a393dfb081ce0d24",7244:"c74333bf67d0d0e5f0b7",7276:"30fdb090c835b9699945",7283:"fffaae54cb7b28e809f3",7357:"cb6f3aabbdaa5f7b258b",7405:"c5c1481cee03755a8982",7424:"920b4bb14b7ef164f6ea",7487:"f99a7245241b40c68b5a",7499:"b71077d766e8046190f9",7561:"1665e25dd14333ec9826",7586:"77f6f39b7a4e6f37ed3f",7594:"5628b088a8023fd67b16",7612:"6c8ab8862b830976b5db",7617:"34d0c937e4603648722e",7643:"4a0415a020164e1d66ce",7688:"f95d71b512dcd8a147b1",7738:"0dc02b731f56895b7357",7768:"4224e1005271de80a16f",7854:"7be62b41cdba936c60e4",7880:"68b59de98783ddb9efe1",7901:"4aadbe5fa9ab2c7611da",7939:"2813aac25a1b171b9989",7972:"678efa36d93c19ed26e7",7978:"212c9932786ab38c4554",8043:"21401193a3b398303cb2",8062:"ebd3ad90c39cc5e25350",8100:"bd041507440eee866dc6",8114:"c9802556b70ecf3759ff",8142:"81da796ad6faa53a5d68",8150:"0ba591eb0c58e1fdb970",8169:"532cb82eb3a3a8271112",8201:"c49763b6fd5c4015d0f2",8213:"e581afc854c202a6b6fb",8214:"3f3aaca4fffbb683fc2f",8233:"ae517c59765c3b7bce41",8308:"da1f7667512be214d174",8349:"775185f0387e663c5027",8393:"db6445b7c7e7f2fb5e93",8590:"4658d9ff2e8f7774ea68",8602:"c402ccf8ff9e705db27d",8804:"f84ae4c11366a3801534",8843:"6d23d4789571778235b2",8924:"d08e780338c62690dbf5",8980:"fec0192ca5989767fd0c",9004:"e7575d29ea537f158935",9030:"1f951cbe1fc3eed05dbe",9072:"39603f8ff791f6826f87",9141:"1085becfec856ba7da56",9183:"d41c104abc24b4ac62f9",9238:"bff8dd1dc0e66d5d0a90",9250:"e581647d2044927ff610",9287:"cf23b13bca02aebb5369",9295:"a6b850b7b7099199fa9c",9359:"5f9ee572512a6fae40ed",9375:"d7efd3e904f1ac293240",9451:"b39eb9de66ec39738dd0",9549:"9a06199a86d29568470b",9623:"fdf70ce01a3b6098d93c",9677:"a7ac09b5833e5c014541",9710:"9b76a0cb719752bfb867",9722:"32c7d34280ce49e6831c",9753:"10215189de20ab980550",9761:"62397d08b14e4d5fd188",9849:"90f9bfd38c2507007b51",9869:"543fec634f8285cd1377",9998:"987bf83d84b82dcc5e6d"}[e]+".js",a.miniCssF=e=>(({2394:"BundleCalls",4765:"shared-components",6930:"BundleStars",7405:"BundleAuth",7768:"BundleMain",9451:"BundleExtra"}[e]||e)+"."+{1184:"0d40f5d962d57f9ef64e",2394:"66d9a24fa366f4cef5b5",4765:"cd3c3e06f1b2e6336931",4823:"22321d47e8e2428ad360",6930:"4a4ea1d5054b319334af",7405:"c5c1481cee03755a8982",7643:"4a0415a020164e1d66ce",7768:"4224e1005271de80a16f",9451:"b39eb9de66ec39738dd0"}[e]+".css"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="telegram-t:",a.l=(e,t,o,s)=>{if(n[e])n[e].push(t);else{var i,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==r+o){i=l;break}}i||(c=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,a.nc&&i.setAttribute("nonce",a.nc),i.setAttribute("data-webpack",r+o),i.src=e),n[e]=[t];var f=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var o=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),c&&document.head.appendChild(i)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{if("undefined"!=typeof document){var e={8792:0};a.f.miniCss=(t,n)=>{e[t]?n.push(e[t]):0!==e[t]&&{1184:1,2394:1,4765:1,4823:1,6930:1,7405:1,7643:1,7768:1,9451:1}[t]&&n.push(e[t]=(e=>new Promise(((t,n)=>{var r=a.miniCssF(e),o=a.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){var a;if((o=(a=s[r]).getAttribute("data-href"))===e||o===t)return a}})(r,o))return t();((e,t,n,r,o)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",a.nc&&(s.nonce=a.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)r();else{var a=n&&n.type,i=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+i+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=i,s.parentNode&&s.parentNode.removeChild(s),o(c)}},s.href=t,document.head.appendChild(s)})(e,o,0,t,n)})))(t).then((()=>{e[t]=0}),(n=>{throw delete e[t],n})))}}})(),(()=>{a.b=document.baseURI||self.location.href;var e={8792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var s=a.p+a.u(t),i=new Error;a.l(s,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",i.name="ChunkLoadError",i.type=o,i.request=s,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[s,i,c]=n,d=0;if(s.some((t=>0!==e[t]))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);c&&c(a)}for(t&&t(n);d<s.length;d++)o=s[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunktelegram_t=self.webpackChunktelegram_t||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{a(2188);var e=a(13439),t=a(31481),n=a(55148),r=a(87679),o=a(97312),s=a(82393);function i(s){const a=s.data;if(t.MVx&&console.log("[SW] Message from worker",a),!a.type)return;const i=(0,e.ko)(),c=a.payload;switch(a.type){case"focusMessage":i.focusMessage?.(c);break;case"playNotificationSound":(0,o.wC)(a.payload.id);break;case"share":i.openChatWithDraft({text:(0,n.E)(c.url,c.text,c.title),files:(0,r.kc)(c.files)})}}function c(){navigator.serviceWorker.removeEventListener("message",i),navigator.serviceWorker.addEventListener("message",i),(0,o.Mi)()}s.Tz&&(window.addEventListener("load",(async()=>{try{const n=navigator.serviceWorker.controller;if(!n||n.scriptURL.includes("/k/")){const e=(await navigator.serviceWorker.getRegistrations()).filter((e=>!e.scope.includes("/k/")));e.length&&(t.Oig&&console.log("[SW] Hard reload detected, re-enabling Service Worker"),await Promise.all(e.map((e=>e.unregister()))))}await navigator.serviceWorker.register(new URL(a.p+a.u(5284),a.b)),t.Oig&&console.log("[SW] ServiceWorker registered"),await navigator.serviceWorker.ready,await navigator.serviceWorker.getRegistration(),navigator.serviceWorker.controller?(t.Oig&&console.log("[SW] ServiceWorker ready"),c()):(t.Oig&&console.error("[SW] ServiceWorker not available"),s.pz||s.Ni||t.W75||(0,e.ko)().showDialog?.({data:{message:"SERVICE_WORKER_DISABLED",hasErrorKey:!0}}))}catch(e){t.Oig&&console.error("[SW] ServiceWorker registration failed: ",e)}})),window.addEventListener("focus",(async()=>{await navigator.serviceWorker.ready,c()})));var d=a(37932),u=a(80140),l=a(46042),f=a(29807);let h,m=[];function p(){let t=(0,e.mS)();if(!t.isInited)return;const n=(0,u.Fm)();Object.values(t.stories.byPeerId).forEach((e=>{Object.values(e.byId).forEach((e=>{"expireDate"in e&&(e.expireDate>n||"isInProfile"in e&&e.isInProfile||"isPublic"in e&&!e.isPublic||(t=(0,l.ONz)(t,e.peerId,e.id)))}))})),(0,e.UF)(t)}(0,d.DW)((e=>{const t=h;h=e;const n=(0,f.nTw)(e)?.isMasterTab,r=t&&(0,f.nTw)(t)?.isMasterTab;n!==r&&(n&&!r?m.length||m.push(window.setInterval(p,12e4)):(m.forEach((e=>clearInterval(e))),m=[]))}));var g=a(74824),y=a(14487),v=a(42385),b=a(20714),A=a(87894),I=a(57751);async function C(n=!1,r){if(r=r||(0,e.mS)(),!n&&"byTabId"in r)return;const o=(0,A.mg)(b.HB);let s=await(0,v.Lj)(o)||o;t.fng&&(s.authState="authorizationStateReady");const{hasPasscode:a,isScreenLocked:i}=s.passcode;a&&!i&&(s=(0,l.Vg3)(s,{isScreenLocked:!0}),(0,I.rE)()),n&&(s.byTabId=r.byTabId,s.settings.byKey.theme=r.settings.byKey.theme),(0,e.UF)(s)}var w=a(60343),S=a(80089),E=a(66414),k=a(74065),T=a(68344),P=a(32989);(0,v.r2)(),(0,e.aJ)("initShared",(async(e,t,n)=>{const{force:r}=n||{};await C(r,e)})),(0,e.aJ)("init",((t,n,r)=>{const{tabId:o=(0,y.g0)(),isMasterTab:a}=r||{},i=(0,A.mg)(b.Je);i.id=o,i.isChatInfoShown=Boolean(t.lastIsChatInfoShown),i.audioPlayer.playbackRate=t.audioPlayer.lastPlaybackRate,i.audioPlayer.isPlaybackRateActive=t.audioPlayer.isLastPlaybackRateActive,i.mediaViewer.playbackRate=t.mediaViewer.lastPlaybackRate,t={...t,byTabId:{...t.byTabId,[o]:i}},!a&&s.bs||(i.isMasterTab=!0),Object.keys(t.messages.byChatId).forEach((e=>{const n=t.messages.byChatId[e].threadsById;Object.keys(n).forEach((n=>{const r=Number(n),s=(0,f.C5H)(t,e,r,"lastViewportIds");s?.every((n=>(0,w.iL)(n)||t.messages.byChatId[e]?.byId[n]))?(t=(0,T.tX)(t,e,r,o),t=(0,l.n4t)(t,e,r,"viewportIds",s,o)):t=(0,l.eww)(t,e,r,"lastViewportIds",void 0)}))})),Object.keys(t.messages.byChatId).forEach((e=>{const n=t.messages.byChatId[e].threadsById,r=Object.keys(n).reduce(((e,t)=>{const r=n[Number(t)];return e[Number(t)]={...r,listedIds:r.lastViewportIds},e}),{});t={...t,messages:{...t.messages,byChatId:{...t.messages.byChatId,[e]:{...t.messages.byChatId[e],threadsById:r}}}}}));const c=(0,E.xV)(t.currentUserId);return"authorizationStateReady"===t.authState||t.passcode.hasPasscode||t.passcode.isScreenLocked||Object.values(t.byTabId).forEach((({id:e})=>{e!==o&&(t=(0,P.w)(t,{isInactive:!0},e))})),s.bs||n.initApi(),(0,g.isCacheApiSupported)().then((n=>{(t=(0,e.mS)()).isCacheApiSupported=n,(0,e.UF)(t)})),t.peerColors&&(0,k.E)(t.peerColors.general),(0,P.w)(t,{messageLists:c?[c]:i.messageLists},o)})),(0,e.aJ)("requestMasterAndCallAction",(async(t,n,r)=>{const{tabId:o=(0,y.g0)()}=r;if((0,f.nTw)(t,o).isMasterTab){const{action:e,payload:t}=r;n[e](t)}else t.phoneCall||t.groupCalls.activeGroupCallId?(await(0,S.po)(S.ar.Calls),"hangUp"in n&&n.hangUp({tabId:o}),"leaveGroupCall"in n&&n.leaveGroupCall({tabId:o})):(0,y.I)(),t=(0,e.mS)(),t=(0,P.w)(t,{multitabNextAction:r},o),(0,e.UF)(t)})),(0,e.aJ)("clearMultitabNextAction",((e,t,n)=>{const{tabId:r=(0,y.g0)()}=n||{};return(0,P.w)(e,{multitabNextAction:void 0},r)}));var M=a(84051),L=a(61433),N=a(66644),B=a(19822),x=a(37836);let F=!1;async function O(){await new Promise((e=>{const t=[];let n=performance.now();(0,B.i0)((()=>{const r=performance.now();if(t.push(r-n),n=r,10===t.length){const n=t.sort()[Math.floor(t.length/2)];return e(Math.round(1e3/n)),!1}return!0}),x.IJ)}))<=35&&function(){F=!0;const e=document.createElement("div");e.style.cssText="position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;";const t=document.createElement("div"),n=1.5*window.screen.height;t.style.cssText=`width: 0; height: ${n}px; transform: translateX(100%); transition: transform 100ms;`,t.innerHTML="&nbsp;",e.appendChild(t),document.body.appendChild(e),requestAnimationFrame((()=>{t.addEventListener("transitionend",(()=>{e.remove()})),t.style.transform=""}))}()}var D=a(43044),R=a(61637),U=a(19800);const _="tt-active-tab",$=String(Date.now()+Math.random());let j;localStorage.setItem(_,$);const z=window.setInterval((()=>{j&&localStorage.getItem(_)!==$&&(j(),clearInterval(z))}),2e3);var V=a(87357),H=a(4029),K=a(43503),W=a(43874),J=a(37661),G=a(73767),q=(a(88742),a(11117),a(48544),a(26943),a(4990),a(14)),X=a(77523),Y=a(26072),Q=a(41036),Z=a(80464),ee=a(52745);const te=()=>{const e=(0,Z.A)(S.ar.Auth,"AuthCode");return e?M.Ay.createElement(e,null):M.Ay.createElement(ee.A,null)},ne=()=>{const e=(0,Z.A)(S.ar.Auth,"AuthPassword");return e?M.Ay.createElement(e,null):M.Ay.createElement(ee.A,null)},re=["400 1em Roboto","500 1em Roboto","500 1em 'Numbers Rounded'"];function oe(){if("fonts"in document)return Promise.all(re.map((e=>document.fonts.load(e))))}var se=a(6e4),ae=a(64713);function ie(){let e=navigator.language.toLowerCase();return e&&"pt-br"!==e&&(e=e.substr(0,2)),e}var ce=a(39351),de=a(4875),ue=a(17712);function le(e,n){const[r,o]=(0,M.J0)(void 0),s=(0,ue.A)((async()=>{if(!n)return;const r=await(0,de.px)("fetchLangStrings",{langCode:n,langPack:t.rgX,keys:[e]}),o=r?.strings[e];return o&&"string"==typeof o?o:void 0}));return(0,M.vJ)((()=>{s().then(o)}),[e,n]),r}var fe=a(64493),he=a(19806),me=a(40664),pe=a(52491),ge=a(529),ye=a(4961),ve=a(35297),be=a(22699),Ae=a(24433),Ie=a(57474);const Ce=200+t.xB5;function we(e,t=""){if(!t.length)return e;const n=(0,ge.l)(t);return e.filter((e=>n(e.defaultName)||e.name&&n(e.name)))}const Se=(0,M.ph)((0,e.EK)((e=>{const{countryList:{phoneCodes:t}}=e;return{phoneCodeList:t}}))((({id:e,value:t,isLoading:n,onChange:r,phoneCodeList:o})=>{const s=(0,ce.A)(),a=(0,M.li)(null),[i,c]=(0,M.J0)(),[d,u]=(0,M.J0)([]),l=(0,M.hb)((e=>{c(e),u(we(o,e))}),[o]);(0,ve.A)((([e])=>{!e?.length&&o.length&&u(we(o,i))}),[o,i]);const f=(0,M.hb)((e=>{r(e),setTimeout((()=>l(void 0)),Ce)}),[r,l]),h=(0,M.hb)((e=>{l(e.currentTarget.value)}),[l]),m=(0,M.hb)((e=>{if(8!==e.keyCode)return;const n=e.currentTarget;t&&void 0===i&&(n.value=""),l(n.value)}),[i,l,t]),p=(0,M.hb)((({onTrigger:r,isOpen:o})=>{const c=()=>{if(o)return;setTimeout((()=>{a.current.select()}),50),r();const e=document.getElementById("auth-phone-number-form");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},d=i??(t?.name||t?.defaultName||"");return M.Ay.createElement("div",{className:(0,V.A)("input-group",t&&"touched")},M.Ay.createElement("input",{ref:a,className:(0,V.A)("form-control",o&&"focus"),type:"text",id:e,value:d,autoComplete:"off",onClick:c,onFocus:c,onInput:e=>{h(e),c()},onKeyDown:m}),M.Ay.createElement("label",null,s("LoginSelectCountryTitle")),n?M.Ay.createElement(Ie.A,{color:"black"}):M.Ay.createElement("i",{onClick:c,className:(0,V.A)("css-icon-down",o&&"open")}))}),[i,h,m,e,n,s,t]);return M.Ay.createElement(be.A,{className:"CountryCodeInput",trigger:p},d.map((e=>M.Ay.createElement(Ae.A,{key:`${e.iso2}-${e.countryCode}`,className:t&&e.iso2===t.iso2?"selected":"",onClick:()=>f(e)},M.Ay.createElement("span",{className:"country-flag"},(0,ye.A)((0,pe.D0)(e.iso2),["hq_emoji"])),M.Ay.createElement("span",{className:"country-name"},e.name||e.defaultName),M.Ay.createElement("span",{className:"country-code"},"+",e.countryCode)))),!d.length&&M.Ay.createElement(Ae.A,{key:"no-results",className:"no-results",disabled:!0},M.Ay.createElement("span",null,s("CountryNone"))))}))),Ee=a.p+"monkey.a3d5fcdc50b18dc55695.svg";let ke=!1;const Te=(0,M.ph)((0,e.EK)((e=>{const{settings:{byKey:{language:t}},countryList:{phoneCodes:n}}=e;return{...(0,A.Up)(e,["connectionState","authState","authPhoneNumber","authIsLoading","authIsLoadingQrCode","authErrorKey","authRememberMe","authNearestCountry"]),language:t,phoneCodeList:n}}))((({connectionState:t,authState:n,authPhoneNumber:o,authIsLoading:a,authIsLoadingQrCode:i,authErrorKey:c,authRememberMe:d,authNearestCountry:u,phoneCodeList:l,language:f})=>{const{setAuthPhoneNumber:h,setAuthRememberMe:m,loadNearestCountry:p,loadCountryList:g,clearAuthErrorKey:y,goToAuthQrCode:v,setSettingOption:b}=(0,e.ko)(),A=(0,ce.A)(),I=(0,M.li)(null),C=ie(),w="connectionStateReady"===t,S=le("AuthContinueOnThisLanguage",C),[E,k]=(0,M.J0)(),[T,P]=(0,M.J0)(),[L,B]=(0,M.J0)(!1),[x,F]=(0,M.J0)(),[O,D,R]=(0,J.A)(),U=E?`+${E.countryCode} ${T||""}`:T,_=U&&U.replace(/[^\d]+/g,"").length>=7;(0,M.vJ)((()=>{s.TF||I.current.focus()}),[E]),(0,M.vJ)((()=>{w&&!u&&p()}),[w,u]),(0,M.vJ)((()=>{w&&g({langCode:f})}),[w,f]),(0,M.vJ)((()=>{u&&l&&!E&&!L&&k((0,ae.Nl)(l,u)[0])}),[E,u,L,l]);const $=(0,M.hb)((e=>{e.length||P("");const t=l&&(0,ae.oL)(l,e),n=!E||t&&t.iso2!==E.iso2||!t&&e.length?t:E;(!E||!n||n&&n.iso2!==E.iso2)&&k(n),P((0,ae.n4)(e,n))}),[l,E]),j=(0,M.hb)((()=>{D(),(0,se.wT)(C,(()=>{R(),b({language:C})}))}),[D,b,C,R]);(0,M.vJ)((()=>{void 0===T&&o&&$(o)}),[o,T,$]),(0,M.Nf)((()=>{I.current&&x&&I.current.setSelectionRange(...x)}),[x]);const z=(0,M.li)(!1),V=(0,M.hb)((()=>{z.current=!0,(0,N.YS)((()=>{z.current=!1}))}),[]),H=(0,M.hb)((e=>{k(e),P("")}),[]),K=(0,M.hb)((e=>{c&&y(),ke||(ke=!0,oe(),(0,r.NN)(Ee));const{value:t,selectionStart:n,selectionEnd:o}=e.target;F(n&&o&&o<t.length?[n,o]:void 0),B(!0);const a=s.Yw&&E&&void 0!==U&&t.length-U.length>1&&!z.current;$(a?`${E.countryCode} ${t}`:t)}),[c,E,U,$]),W=(0,M.hb)((e=>{m(e.target.checked)}),[m]),G=(0,M.hb)((()=>{v()}),[v]),q="authorizationStateWaitPhoneNumber"===n;return M.Ay.createElement("div",{id:"auth-phone-number-form",className:"custom-scroll"},M.Ay.createElement("div",{className:"auth-form"},M.Ay.createElement("div",{id:"logo"}),M.Ay.createElement("h1",null,A("AuthTitle")),M.Ay.createElement("p",{className:"note"},A("StartText")),M.Ay.createElement("form",{className:"form",action:"",onSubmit:function(e){e.preventDefault(),a||_&&h({phoneNumber:U})}},M.Ay.createElement(Se,{id:"sign-in-phone-code",value:E,isLoading:!u&&!E,onChange:H}),M.Ay.createElement(me.A,{ref:I,id:"sign-in-phone-number",label:A("LoginPhonePlaceholder"),value:U,error:c&&A.withRegular(c),inputMode:"tel",onChange:K,onPaste:s.Yw?V:void 0}),M.Ay.createElement(he.A,{id:"sign-in-keep-session",label:A("AuthKeepSignedIn"),checked:Boolean(d),onChange:W}),_&&(q?M.Ay.createElement(fe.A,{size:"smaller",type:"submit",ripple:!0,isLoading:a},A("LoginNext")):M.Ay.createElement(ee.A,null)),q&&M.Ay.createElement(fe.A,{size:"smaller",isText:!0,ripple:!0,isLoading:i,onClick:G},A("LoginQRLogin")),C&&C!==f&&S&&M.Ay.createElement(fe.A,{size:"smaller",isText:!0,isLoading:O,onClick:j},S))))})));var Pe=a(75357),Me=a(58784),Le=a(56863),Ne=a(83057),Be=a(4438),xe=a(61911);let Fe;const Oe=(0,M.ph)((0,e.EK)((e=>{const{connectionState:t,authState:n,authQrCode:r,settings:{byKey:{language:o}}}=e;return{connectionState:t,authState:n,authQrCode:r,language:o}}))((({connectionState:n,authState:r,authQrCode:o,language:s})=>{const{returnToAuthPhoneNumber:i,setSettingOption:c}=(0,e.ko)(),d=ie(),u=(0,ce.A)(),l=(0,M.li)(null),f="connectionStateReady"===n,h=le("AuthContinueOnThisLanguage",d),[m,p,g]=(0,J.A)(),[y,v,b]=(0,J.A)(),{result:A}=(0,Le.A)((async()=>new(0,(await(Fe||(Fe=a.e(7283).then(a.t.bind(a,97283,23))),Fe)).default)({width:280,height:280,image:xe,margin:10,type:"svg",dotsOptions:{type:"rounded"},cornersSquareOptions:{type:"extra-rounded"},imageOptions:{imageSize:.4,margin:8},qrOptions:{errorCorrectionLevel:"M"}})),[]),I=(0,Ne.A)(y);(0,M.Nf)((()=>{if(!o||!A)return()=>{b()};if(!f)return;const e=l.current,n=`tg://login?token=${o.token}`;t.rkj&&(0,Pe.oA)(),A.update({data:n}),y||(A.append(e),v()),t.rkj&&setTimeout((()=>{(0,Pe.Z3)()}),50)}),[f,o,y,v,b,A]);const C=(0,M.hb)((()=>{p(),(0,se.wT)(d,(()=>{g(),c({language:d})}))}),[p,c,d,g]),w=(0,M.hb)((()=>{i()}),[i]),S="authorizationStateWaitQrCode"===r;return M.Ay.createElement("div",{id:"auth-qr-form",className:"custom-scroll"},M.Ay.createElement("div",{className:"auth-form qr"},M.Ay.createElement("div",{className:"qr-outer"},M.Ay.createElement("div",{className:(0,V.A)("qr-inner",I),key:"qr-inner"},M.Ay.createElement("div",{key:"qr-container",className:"qr-container",ref:l,style:"width: 280px; height: 280px"}),M.Ay.createElement(Be.A,{tgsUrl:Me.w.QrPlane,size:54,className:"qr-plane",nonInteractive:!0,noLoop:!1})),!y&&M.Ay.createElement("div",{className:"qr-loading"},M.Ay.createElement(ee.A,null))),M.Ay.createElement("h1",null,u("LoginQRTitle")),M.Ay.createElement("ol",null,M.Ay.createElement("li",null,M.Ay.createElement("span",null,u("LoginQRHelp1"))),M.Ay.createElement("li",null,M.Ay.createElement("span",null,u("LoginQRHelp2",void 0,{withNodes:!0,withMarkdown:!0}))),M.Ay.createElement("li",null,M.Ay.createElement("span",null,u("LoginQRHelp3")))),S&&M.Ay.createElement(fe.A,{size:"smaller",isText:!0,onClick:w},u("LoginQRCancel")),d&&d!==s&&h&&M.Ay.createElement(fe.A,{size:"smaller",isText:!0,isLoading:m,onClick:C},h)))}))),De=()=>{const e=(0,Z.A)(S.ar.Auth,"AuthRegister");return e?M.Ay.createElement(e,null):M.Ay.createElement(ee.A,null)},Re=(0,M.ph)((0,e.EK)((e=>({authState:e.authState})))((({authState:t})=>{const{returnToAuthPhoneNumber:n,goToAuthQrCode:r}=(0,e.ko)(),o="iOS"===s.Aw||"Android"===s.Aw;(0,Y.A)({isActive:!o&&"authorizationStateWaitPhoneNumber"===t||o&&"authorizationStateWaitQrCode"===t,onBack:()=>{o?n():r()}});const a=(0,M.li)(null);(0,X.A)(a);const i=(0,q.A)("authorizationStateReady"!==t?t:void 0,!0);return M.Ay.createElement(Q.Ay,{activeKey:function(){switch(i){case"authorizationStateWaitCode":return 0;case"authorizationStateWaitPassword":return 1;case"authorizationStateWaitRegistration":return 2;case"authorizationStateWaitPhoneNumber":return 3;case"authorizationStateWaitQrCode":return 4;default:return o?3:4}}(),name:"fade",className:"Auth",ref:a},function(){switch(i){case"authorizationStateWaitCode":return M.Ay.createElement(te,null);case"authorizationStateWaitPassword":return M.Ay.createElement(ne,null);case"authorizationStateWaitRegistration":return M.Ay.createElement(De,null);case"authorizationStateWaitPhoneNumber":return M.Ay.createElement(Te,null);case"authorizationStateWaitQrCode":return M.Ay.createElement(Oe,null);default:return o?M.Ay.createElement(Te,null):M.Ay.createElement(Oe,null)}}())})));var Ue=a(23174),_e=a(62214),$e=a(58554),je=a(15283),ze=a(50680);const Ve="ThfRMqwq",He="kN2M6u9m";var Ke=a(89704);const We=a.p+"mask.c474db1e76529489b940.svg",Je=a.p+"telegram-logo.1b2bb5b107f046ea9325.svg";function Ge(){const{listIds:t,byId:n}=(0,e.mS)().chats;if(t.active)return Promise.all(t.active.slice(0,10).map((e=>{const t=n[e];if(!t)return;const r=(0,_e.cP)(t);return r?$e.hd(r,Ue.qZ.BlobUrl):void 0})))}const qe={main:()=>Promise.all([(0,S.Vw)(S.ar.Main).then(oe),Ge(),(0,r.NN)(We),D.CO]),authPhoneNumber:()=>Promise.all([oe(),(0,r.NN)(Je)]),authCode:()=>(0,r.NN)(Ee),authPassword:()=>(0,r.NN)(Ee),authQrCode:oe,lock:()=>Promise.all([oe(),(0,r.NN)(Ke)]),inactive:()=>{}},Xe=(0,e.EK)(((e,{isMobile:t})=>{const n=(0,f.nTw)(e);return{shouldSkipHistoryAnimations:n.shouldSkipHistoryAnimations,uiReadyState:n.uiReadyState,isRightColumnShown:(0,f.gjV)(e,t),leftColumnWidth:e.leftColumnWidth}}))((({page:t,children:n,isRightColumnShown:r,shouldSkipHistoryAnimations:o,leftColumnWidth:s})=>{const{setIsUiReady:a}=(0,e.ko)(),[i,c]=(0,J.A)(),{shouldRender:d,transitionClassNames:u}=(0,ze.A)(!i,void 0,!0);return(0,je.A)((()=>{let e;return Promise.race([(0,x.v7)(700),t?(async()=>{try{await qe[t]()}catch(e){}})():Promise.resolve()]).then((()=>{c(),a({uiReadyState:1}),e=window.setTimeout((()=>{a({uiReadyState:2})}),1e3)})),()=>{e&&(clearTimeout(e),e=void 0),a({uiReadyState:0})}})),M.Ay.createElement(M.Ay.Fragment,null,n,d&&!o&&Boolean(t)&&M.Ay.createElement("div",{className:(0,V.A)("U9MowLv_",u)},"main"===t?M.Ay.createElement("div",{className:"RcG6eRZw"},M.Ay.createElement("div",{className:"oL7XcRwI",style:s?`width: ${s}px`:void 0}),M.Ay.createElement("div",{className:(0,V.A)("LYe7IaQO",Ve)}),r&&M.Ay.createElement("div",{className:"wYSGQZXX"})):"inactive"===t||"lock"===t?M.Ay.createElement("div",{className:(0,V.A)(He,Ve)}):M.Ay.createElement("div",{className:He})))})),Ye=a.p+"app-inactive.da3925145f0a7111c0f1.png",Qe=()=>{const e=(0,M.hb)((()=>{window.location.reload()}),[]);return(0,Y.A)({isActive:!0,onBack:e,shouldResetUrlHash:!0}),M.Ay.createElement("div",{id:"AppInactive"},M.Ay.createElement("div",{className:"content"},M.Ay.createElement("img",{src:Ye,alt:""}),M.Ay.createElement("h3",{className:"title"},"Such error, many tabs"),M.Ay.createElement("div",{className:"description"},"Telegram supports only one active tab with the app.",M.Ay.createElement("br",null),"Please reload this page to continue using this tab or close it."),M.Ay.createElement("div",{className:"actions"},M.Ay.createElement(fe.A,{isText:!0,ripple:!0,onClick:e},"Reload app"))))},Ze=e=>{const{isLocked:t}=e,n=(0,Z.A)(S.ar.Main,"LockScreen",!t);return n?M.Ay.createElement(n,e):void 0},et=e=>{const t=(0,Z.A)(S.ar.Main,"Main");return t?M.Ay.createElement(t,e):void 0};var tt=function(e){return e[e.auth=0]="auth",e[e.main=1]="main",e[e.lock=2]="lock",e[e.inactive=3]="inactive",e}(tt||{});const nt=Object.keys(tt).length/2,rt=`${t.j0M} ${t.LaL}`,ot=(0,e.EK)((e=>({authState:e.authState,isScreenLocked:e.passcode?.isScreenLocked,hasPasscode:e.passcode?.hasPasscode,isInactiveAuth:(0,f.nTw)(e).isInactive,hasWebAuthTokenFailed:e.hasWebAuthTokenFailed||e.hasWebAuthTokenPasswordRequired,theme:(0,f.SJA)(e),isTestServer:e.config?.isTestServer})))((({authState:n,isScreenLocked:r,hasPasscode:o,isInactiveAuth:a,hasWebAuthTokenFailed:i,isTestServer:c,theme:d})=>{const{disconnect:u}=(0,e.ko)(),[l,f,h]=(0,J.A)(!1),{isMobile:m}=(0,W.Ay)(),p="iOS"===s.Aw||"Android"===s.Aw;let g,y;if((0,M.vJ)((()=>{s.nB&&(0,H.a)()}),[]),(0,M.vJ)((()=>{const e=document.body,t=e=>{e.preventDefault(),e.dataTransfer&&(e.target.dataset.dropzone?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none")},n=e=>{e.preventDefault()};return e.addEventListener("drop",n),e.addEventListener("dragover",t),e.addEventListener("dragenter",t),()=>{e.removeEventListener("drop",n),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",t)}}),[]),l)g=tt.inactive;else if(r)y="lock",g=tt.lock;else if(n)switch(n){case"authorizationStateWaitPhoneNumber":y="authPhoneNumber",g=tt.auth;break;case"authorizationStateWaitCode":y="authCode",g=tt.auth;break;case"authorizationStateWaitPassword":y="authPassword",g=tt.auth;break;case"authorizationStateWaitRegistration":g=tt.auth;break;case"authorizationStateWaitQrCode":y="authQrCode",g=tt.auth;break;case"authorizationStateClosed":case"authorizationStateClosing":case"authorizationStateLoggingOut":case"authorizationStateReady":y="main",g=tt.main}else(0,I.wr)()?(y="main",g=tt.main):o?g=tt.lock:(y=p?"authPhoneNumber":"authQrCode",g=tt.auth);g!==tt.lock&&g!==tt.inactive&&g!==tt.main&&(0,E.f4)()?.tgWebAuthToken&&!i&&(y="main",g=tt.main),(0,M.vJ)((()=>{(0,K.u)()}),[]),(0,M.vJ)((()=>{s.bs||(j=()=>{u(),document.title=rt,f()})}),[g,u,f]),(0,M.vJ)((()=>{a?(document.title=rt,f()):(document.title=t.j0M,h())}),[a,f,h]);const v=(0,G.A)(g);function b(){switch(g){case tt.auth:return M.Ay.createElement(Re,null);case tt.main:return M.Ay.createElement(et,{isMobile:m});case tt.lock:return M.Ay.createElement(Ze,{isLocked:r});case tt.inactive:return M.Ay.createElement(Qe,null)}}return(0,M.Nf)((()=>{document.body.classList.add(Ve)}),[]),(0,M.Nf)((()=>{document.body.style.setProperty("--theme-background-color","dark"===d?t.PqE:t.XLD)}),[d]),M.Ay.createElement(Xe,{page:y,isMobile:m},M.Ay.createElement(Q.Ay,{name:"fade",activeKey:g,shouldCleanup:!0,className:(0,V.A)("full-height",(g===tt.auth||v===tt.auth)&&"is-auth"),renderCount:nt},b),g===tt.auth&&c&&M.Ay.createElement("div",{className:"test-server-badge"},"Test server"))}));t.rkj&&(0,N.Z3)(),async function(){if(t.Oig&&console.log(">>> INIT"),!window.isCompatTestPassed)return;(0,U.Tq)(),await(window.electron?.restoreLocalStorage()),s.bs&&((0,R.mY)(),await(0,R.Ld)("10.9.41"),localStorage.setItem(t.yhD,"1"),(0,x.yu)((()=>{const n=(0,e.mS)();1===Object.keys(n.byTabId).length&&localStorage.removeItem(t.yhD)}))),await C(),(0,e.ko)().init(),(0,e.ko)().updateShouldEnableDebugLog(),(0,e.ko)().updateShouldDebugExportedSenders();const n=(0,e.mS)();if((0,D.S7)(n.settings.byKey.language,!0),s.bs){(0,y.wr)((t=>{(0,e.ko)().switchMultitabRole({isMasterTab:t},{forceSyncOnIOs:!0})}));const t="authorizationStateReady"!==(0,e.mS)().authState;(0,y.UJ)(t)}t.Oig&&console.log(">>> START INITIAL RENDER"),(0,N.RK)((()=>{!function(){if(!s.MP)return;const e=document.getElementById("the-manifest-placeholder");if(!e)return;const n=`site_apple${t.Oig?"_dev":""}.webmanifest`;e.setAttribute("href",n)}(),L.Ay.render(M.Ay.createElement(ot,null),document.getElementById("root")),function(){if(!s.pz)return;let e,t=Date.now();function n(){e||F||(e=window.setInterval(O,5e3))}window.addEventListener("focus",(()=>{const e=Date.now();e-t<100||(t=e,n(),O())})),window.addEventListener("blur",(()=>{clearInterval(e),e=void 0})),document.hasFocus()&&(n(),O())}()})),t.Oig&&console.log(">>> FINISH INITIAL RENDER"),t.Oig&&document.addEventListener("dblclick",(()=>{console.warn("TAB STATE",(0,f.nTw)((0,e.mS)())),console.warn("GLOBAL STATE",(0,e.mS)())}))}(),(0,x.yu)((()=>{const t=(0,e.ko)();t.leaveGroupCall?.({isPageUnload:!0}),t.hangUp?.({isPageUnload:!0})}))})()})();
//# sourceMappingURL=main.f7a0f65164ec6d2a3a42.js.map